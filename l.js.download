/**
 * Noticeable JavaScript SDK - Every change matters.
 *
 * @author Noticeable Team (https://noticeable.io)
 * @date Thu May 01 2025 15:03:23 GMT+0000 (Coordinated Universal Time)
 * @version 4.2.0 (commit 1c790fd)
 *
 * Copyright (c) 2017-2025 Noticeable 
 */
!function(){function e(e,t,i){return(t=function(e){var t=function(e,t){if('object'!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t);if('object'!=typeof n)return n;throw new TypeError('@@toPrimitive must return a primitive value.')}return('string'===t?String:Number)(e)}(e,'string');return'symbol'==typeof t?t:t+''}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function t(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function i(i){for(var n=1;n<arguments.length;n++){var s=null!=arguments[n]?arguments[n]:{};n%2?t(Object(s),!0).forEach((function(t){e(i,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(s)):t(Object(s)).forEach((function(e){Object.defineProperty(i,e,Object.getOwnPropertyDescriptor(s,e))}))}return i}function n(e){return null!==e&&'object'==typeof e&&'constructor'in e&&e.constructor===Object}function s(e,t){void 0===e&&(e={}),void 0===t&&(t={});const i=['__proto__','constructor','prototype'];Object.keys(t).filter((e=>i.indexOf(e)<0)).forEach((i=>{void 0===e[i]?e[i]=t[i]:n(t[i])&&n(e[i])&&Object.keys(t[i]).length>0&&s(e[i],t[i])}))}const r={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:''},querySelector:()=>null,querySelectorAll:()=>[],getElementById:()=>null,createEvent:()=>({initEvent(){}}),createElement:()=>({children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName:()=>[]}),createElementNS:()=>({}),importNode:()=>null,location:{hash:'',host:'',hostname:'',href:'',origin:'',pathname:'',protocol:'',search:''}};function a(){const e='undefined'!=typeof document?document:{};return s(e,r),e}const o={document:r,navigator:{userAgent:''},location:{hash:'',host:'',hostname:'',href:'',origin:'',pathname:'',protocol:'',search:''},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle:()=>({getPropertyValue:()=>''}),Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia:()=>({}),requestAnimationFrame:e=>'undefined'==typeof setTimeout?(e(),null):setTimeout(e,0),cancelAnimationFrame(e){'undefined'!=typeof setTimeout&&clearTimeout(e)}};function l(){const e='undefined'!=typeof window?window:{};return s(e,o),e}function c(e){return void 0===e&&(e=''),e.trim().split(' ').filter((e=>!!e.trim()))}function d(e,t){return void 0===t&&(t=0),setTimeout(e,t)}function u(){return Date.now()}function p(e,t){void 0===t&&(t='x');const i=l();let n,s,r;const a=function(e){const t=l();let i;return t.getComputedStyle&&(i=t.getComputedStyle(e,null)),!i&&e.currentStyle&&(i=e.currentStyle),i||(i=e.style),i}(e);return i.WebKitCSSMatrix?(s=a.transform||a.webkitTransform,s.split(',').length>6&&(s=s.split(', ').map((e=>e.replace(',','.'))).join(', ')),r=new i.WebKitCSSMatrix('none'===s?'':s)):(r=a.MozTransform||a.OTransform||a.MsTransform||a.msTransform||a.transform||a.getPropertyValue('transform').replace('translate(','matrix(1, 0, 0, 1,'),n=r.toString().split(',')),'x'===t&&(s=i.WebKitCSSMatrix?r.m41:16===n.length?parseFloat(n[12]):parseFloat(n[4])),'y'===t&&(s=i.WebKitCSSMatrix?r.m42:16===n.length?parseFloat(n[13]):parseFloat(n[5])),s||0}function h(e){return'object'==typeof e&&null!==e&&e.constructor&&'Object'===Object.prototype.toString.call(e).slice(8,-1)}function m(){const e=Object(arguments.length<=0?void 0:arguments[0]),t=['__proto__','constructor','prototype'];for(let n=1;n<arguments.length;n+=1){const s=n<0||arguments.length<=n?void 0:arguments[n];if(null!=s&&(i=s,!('undefined'!=typeof window&&void 0!==window.HTMLElement?i instanceof HTMLElement:i&&(1===i.nodeType||11===i.nodeType)))){const i=Object.keys(Object(s)).filter((e=>t.indexOf(e)<0));for(let t=0,n=i.length;t<n;t+=1){const n=i[t],r=Object.getOwnPropertyDescriptor(s,n);void 0!==r&&r.enumerable&&(h(e[n])&&h(s[n])?s[n].__swiper__?e[n]=s[n]:m(e[n],s[n]):!h(e[n])&&h(s[n])?(e[n]={},s[n].__swiper__?e[n]=s[n]:m(e[n],s[n])):e[n]=s[n])}}}var i;return e}function f(e,t,i){e.style.setProperty(t,i)}function g(e){let{swiper:t,targetPosition:i,side:n}=e;const s=l(),r=-t.translate;let a,o=null;const c=t.params.speed;t.wrapperEl.style.scrollSnapType='none',s.cancelAnimationFrame(t.cssModeFrameID);const d=i>r?'next':'prev',u=(e,t)=>'next'===d&&e>=t||'prev'===d&&e<=t,p=()=>{a=(new Date).getTime(),null===o&&(o=a);const e=Math.max(Math.min((a-o)/c,1),0),l=.5-Math.cos(e*Math.PI)/2;let d=r+l*(i-r);if(u(d,i)&&(d=i),t.wrapperEl.scrollTo({[n]:d}),u(d,i))return t.wrapperEl.style.overflow='hidden',t.wrapperEl.style.scrollSnapType='',setTimeout((()=>{t.wrapperEl.style.overflow='',t.wrapperEl.scrollTo({[n]:d})})),void s.cancelAnimationFrame(t.cssModeFrameID);t.cssModeFrameID=s.requestAnimationFrame(p)};p()}function _(e){return e.querySelector('.swiper-slide-transform')||e.shadowRoot&&e.shadowRoot.querySelector('.swiper-slide-transform')||e}function y(e,t){void 0===t&&(t='');const i=l(),n=[...e.children];return i.HTMLSlotElement&&e instanceof HTMLSlotElement&&n.push(...e.assignedElements()),t?n.filter((e=>e.matches(t))):n}function v(e){try{return void console.warn(e)}catch(e){}}function w(e,t){void 0===t&&(t=[]);const i=document.createElement(e);return i.classList.add(...Array.isArray(t)?t:c(t)),i}function b(e){const t=l(),i=a(),n=e.getBoundingClientRect(),s=i.body,r=e.clientTop||s.clientTop||0,o=e.clientLeft||s.clientLeft||0,c=e===t?t.scrollY:e.scrollTop,d=e===t?t.scrollX:e.scrollLeft;return{top:n.top+c-r,left:n.left+d-o}}function E(e,t){return l().getComputedStyle(e,null).getPropertyValue(t)}function S(e){let t,i=e;if(i){for(t=0;null!==(i=i.previousSibling);)1===i.nodeType&&(t+=1);return t}}function T(e,t){const i=[];let n=e.parentElement;for(;n;)t?n.matches(t)&&i.push(n):i.push(n),n=n.parentElement;return i}function I(e,t){t&&e.addEventListener('transitionend',(function i(n){n.target===e&&(t.call(e,n),e.removeEventListener('transitionend',i))}))}function A(e,t,i){const n=l();return e['width'===t?'offsetWidth':'offsetHeight']+parseFloat(n.getComputedStyle(e,null).getPropertyValue('width'===t?'margin-right':'margin-top'))+parseFloat(n.getComputedStyle(e,null).getPropertyValue('width'===t?'margin-left':'margin-bottom'))}function C(e){return(Array.isArray(e)?e:[e]).filter((e=>!!e))}function O(e){return t=>Math.abs(t)>0&&e.browser&&e.browser.need3dFix&&Math.abs(t)%90==0?t+.001:t}let P,N,L;function x(){return P||(P=function(){const e=l(),t=a();return{smoothScroll:t.documentElement&&t.documentElement.style&&'scrollBehavior'in t.documentElement.style,touch:!!('ontouchstart'in e||e.DocumentTouch&&t instanceof e.DocumentTouch)}}()),P}function R(e){return void 0===e&&(e={}),N||(N=function(e){let{userAgent:t}=void 0===e?{}:e;const i=x(),n=l(),s=n.navigator.platform,r=t||n.navigator.userAgent,a={ios:!1,android:!1},o=n.screen.width,c=n.screen.height,d=r.match(/(Android);?[\s\/]+([\d.]+)?/);let u=r.match(/(iPad).*OS\s([\d_]+)/);const p=r.match(/(iPod)(.*OS\s([\d_]+))?/),h=!u&&r.match(/(iPhone\sOS|iOS)\s([\d_]+)/),m='Win32'===s;let f='MacIntel'===s;return!u&&f&&i.touch&&['1024x1366','1366x1024','834x1194','1194x834','834x1112','1112x834','768x1024','1024x768','820x1180','1180x820','810x1080','1080x810'].indexOf(`${o}x${c}`)>=0&&(u=r.match(/(Version)\/([\d.]+)/),u||(u=[0,1,'13_0_0']),f=!1),d&&!m&&(a.os='android',a.android=!0),(u||h||p)&&(a.os='ios',a.ios=!0),a}(e)),N}function D(){return L||(L=function(){const e=l(),t=R();let i=!1;function n(){const t=e.navigator.userAgent.toLowerCase();return t.indexOf('safari')>=0&&t.indexOf('chrome')<0&&t.indexOf('android')<0}if(n()){const t=String(e.navigator.userAgent);if(t.includes('Version/')){const[e,n]=t.split('Version/')[1].split(' ')[0].split('.').map((e=>Number(e)));i=e<16||16===e&&n<2}}const s=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(e.navigator.userAgent),r=n();return{isSafari:i||r,needPerspectiveFix:i,need3dFix:r||s&&t.ios,isWebView:s}}()),L}var M={on(e,t,i){const n=this;if(!n.eventsListeners||n.destroyed)return n;if('function'!=typeof t)return n;const s=i?'unshift':'push';return e.split(' ').forEach((e=>{n.eventsListeners[e]||(n.eventsListeners[e]=[]),n.eventsListeners[e][s](t)})),n},once(e,t,i){const n=this;if(!n.eventsListeners||n.destroyed)return n;if('function'!=typeof t)return n;function s(){n.off(e,s),s.__emitterProxy&&delete s.__emitterProxy;for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];t.apply(n,r)}return s.__emitterProxy=t,n.on(e,s,i)},onAny(e,t){const i=this;if(!i.eventsListeners||i.destroyed)return i;if('function'!=typeof e)return i;const n=t?'unshift':'push';return i.eventsAnyListeners.indexOf(e)<0&&i.eventsAnyListeners[n](e),i},offAny(e){const t=this;if(!t.eventsListeners||t.destroyed)return t;if(!t.eventsAnyListeners)return t;const i=t.eventsAnyListeners.indexOf(e);return i>=0&&t.eventsAnyListeners.splice(i,1),t},off(e,t){const i=this;return!i.eventsListeners||i.destroyed?i:i.eventsListeners?(e.split(' ').forEach((e=>{void 0===t?i.eventsListeners[e]=[]:i.eventsListeners[e]&&i.eventsListeners[e].forEach(((n,s)=>{(n===t||n.__emitterProxy&&n.__emitterProxy===t)&&i.eventsListeners[e].splice(s,1)}))})),i):i},emit(){const e=this;if(!e.eventsListeners||e.destroyed)return e;if(!e.eventsListeners)return e;let t,i,n;for(var s=arguments.length,r=new Array(s),a=0;a<s;a++)r[a]=arguments[a];'string'==typeof r[0]||Array.isArray(r[0])?(t=r[0],i=r.slice(1,r.length),n=e):(t=r[0].events,i=r[0].data,n=r[0].context||e),i.unshift(n);return(Array.isArray(t)?t:t.split(' ')).forEach((t=>{e.eventsAnyListeners&&e.eventsAnyListeners.length&&e.eventsAnyListeners.forEach((e=>{e.apply(n,[t,...i])})),e.eventsListeners&&e.eventsListeners[t]&&e.eventsListeners[t].forEach((e=>{e.apply(n,i)}))})),e}};const k=(e,t,i)=>{t&&!e.classList.contains(i)?e.classList.add(i):!t&&e.classList.contains(i)&&e.classList.remove(i)};const B=(e,t,i)=>{t&&!e.classList.contains(i)?e.classList.add(i):!t&&e.classList.contains(i)&&e.classList.remove(i)};const U=(e,t)=>{if(!e||e.destroyed||!e.params)return;const i=t.closest(e.isElement?'swiper-slide':`.${e.params.slideClass}`);if(i){let t=i.querySelector(`.${e.params.lazyPreloaderClass}`);!t&&e.isElement&&(i.shadowRoot?t=i.shadowRoot.querySelector(`.${e.params.lazyPreloaderClass}`):requestAnimationFrame((()=>{i.shadowRoot&&(t=i.shadowRoot.querySelector(`.${e.params.lazyPreloaderClass}`),t&&t.remove())}))),t&&t.remove()}},G=(e,t)=>{if(!e.slides[t])return;const i=e.slides[t].querySelector('[loading="lazy"]');i&&i.removeAttribute('loading')},W=e=>{if(!e||e.destroyed||!e.params)return;let t=e.params.lazyPreloadPrevNext;const i=e.slides.length;if(!i||!t||t<0)return;t=Math.min(t,i);const n='auto'===e.params.slidesPerView?e.slidesPerViewDynamic():Math.ceil(e.params.slidesPerView),s=e.activeIndex;if(e.params.grid&&e.params.grid.rows>1){const i=s,r=[i-t];return r.push(...Array.from({length:t}).map(((e,t)=>i+n+t))),void e.slides.forEach(((t,i)=>{r.includes(t.column)&&G(e,i)}))}const r=s+n-1;if(e.params.rewind||e.params.loop)for(let n=s-t;n<=r+t;n+=1){const t=(n%i+i)%i;(t<s||t>r)&&G(e,t)}else for(let n=Math.max(s-t,0);n<=Math.min(r+t,i-1);n+=1)n!==s&&(n>r||n<s)&&G(e,n)};var j={updateSize:function(){const e=this;let t,i;const n=e.el;t=void 0!==e.params.width&&null!==e.params.width?e.params.width:n.clientWidth,i=void 0!==e.params.height&&null!==e.params.height?e.params.height:n.clientHeight,0===t&&e.isHorizontal()||0===i&&e.isVertical()||(t=t-parseInt(E(n,'padding-left')||0,10)-parseInt(E(n,'padding-right')||0,10),i=i-parseInt(E(n,'padding-top')||0,10)-parseInt(E(n,'padding-bottom')||0,10),Number.isNaN(t)&&(t=0),Number.isNaN(i)&&(i=0),Object.assign(e,{width:t,height:i,size:e.isHorizontal()?t:i}))},updateSlides:function(){const e=this;function t(t,i){return parseFloat(t.getPropertyValue(e.getDirectionLabel(i))||0)}const i=e.params,{wrapperEl:n,slidesEl:s,size:r,rtlTranslate:a,wrongRTL:o}=e,l=e.virtual&&i.virtual.enabled,c=l?e.virtual.slides.length:e.slides.length,d=y(s,`.${e.params.slideClass}, swiper-slide`),u=l?e.virtual.slides.length:d.length;let p=[];const h=[],m=[];let g=i.slidesOffsetBefore;'function'==typeof g&&(g=i.slidesOffsetBefore.call(e));let _=i.slidesOffsetAfter;'function'==typeof _&&(_=i.slidesOffsetAfter.call(e));const v=e.snapGrid.length,w=e.slidesGrid.length;let b=i.spaceBetween,S=-g,T=0,I=0;if(void 0===r)return;'string'==typeof b&&b.indexOf('%')>=0?b=parseFloat(b.replace('%',''))/100*r:'string'==typeof b&&(b=parseFloat(b)),e.virtualSize=-b,d.forEach((e=>{a?e.style.marginLeft='':e.style.marginRight='',e.style.marginBottom='',e.style.marginTop=''})),i.centeredSlides&&i.cssMode&&(f(n,'--swiper-centered-offset-before',''),f(n,'--swiper-centered-offset-after',''));const C=i.grid&&i.grid.rows>1&&e.grid;let O;C?e.grid.initSlides(d):e.grid&&e.grid.unsetSlides();const P='auto'===i.slidesPerView&&i.breakpoints&&Object.keys(i.breakpoints).filter((e=>void 0!==i.breakpoints[e].slidesPerView)).length>0;for(let n=0;n<u;n+=1){let s;if(O=0,d[n]&&(s=d[n]),C&&e.grid.updateSlide(n,s,d),!d[n]||'none'!==E(s,'display')){if('auto'===i.slidesPerView){P&&(d[n].style[e.getDirectionLabel('width')]='');const r=getComputedStyle(s),a=s.style.transform,o=s.style.webkitTransform;if(a&&(s.style.transform='none'),o&&(s.style.webkitTransform='none'),i.roundLengths)O=e.isHorizontal()?A(s,'width'):A(s,'height');else{const e=t(r,'width'),i=t(r,'padding-left'),n=t(r,'padding-right'),a=t(r,'margin-left'),o=t(r,'margin-right'),l=r.getPropertyValue('box-sizing');if(l&&'border-box'===l)O=e+a+o;else{const{clientWidth:t,offsetWidth:r}=s;O=e+i+n+a+o+(r-t)}}a&&(s.style.transform=a),o&&(s.style.webkitTransform=o),i.roundLengths&&(O=Math.floor(O))}else O=(r-(i.slidesPerView-1)*b)/i.slidesPerView,i.roundLengths&&(O=Math.floor(O)),d[n]&&(d[n].style[e.getDirectionLabel('width')]=`${O}px`);d[n]&&(d[n].swiperSlideSize=O),m.push(O),i.centeredSlides?(S=S+O/2+T/2+b,0===T&&0!==n&&(S=S-r/2-b),0===n&&(S=S-r/2-b),Math.abs(S)<.001&&(S=0),i.roundLengths&&(S=Math.floor(S)),I%i.slidesPerGroup==0&&p.push(S),h.push(S)):(i.roundLengths&&(S=Math.floor(S)),(I-Math.min(e.params.slidesPerGroupSkip,I))%e.params.slidesPerGroup==0&&p.push(S),h.push(S),S=S+O+b),e.virtualSize+=O+b,T=O,I+=1}}if(e.virtualSize=Math.max(e.virtualSize,r)+_,a&&o&&('slide'===i.effect||'coverflow'===i.effect)&&(n.style.width=`${e.virtualSize+b}px`),i.setWrapperSize&&(n.style[e.getDirectionLabel('width')]=`${e.virtualSize+b}px`),C&&e.grid.updateWrapperSize(O,p),!i.centeredSlides){const t=[];for(let n=0;n<p.length;n+=1){let s=p[n];i.roundLengths&&(s=Math.floor(s)),p[n]<=e.virtualSize-r&&t.push(s)}p=t,Math.floor(e.virtualSize-r)-Math.floor(p[p.length-1])>1&&p.push(e.virtualSize-r)}if(l&&i.loop){const t=m[0]+b;if(i.slidesPerGroup>1){const n=Math.ceil((e.virtual.slidesBefore+e.virtual.slidesAfter)/i.slidesPerGroup),s=t*i.slidesPerGroup;for(let e=0;e<n;e+=1)p.push(p[p.length-1]+s)}for(let n=0;n<e.virtual.slidesBefore+e.virtual.slidesAfter;n+=1)1===i.slidesPerGroup&&p.push(p[p.length-1]+t),h.push(h[h.length-1]+t),e.virtualSize+=t}if(0===p.length&&(p=[0]),0!==b){const t=e.isHorizontal()&&a?'marginLeft':e.getDirectionLabel('marginRight');d.filter(((e,t)=>!(i.cssMode&&!i.loop)||t!==d.length-1)).forEach((e=>{e.style[t]=`${b}px`}))}if(i.centeredSlides&&i.centeredSlidesBounds){let e=0;m.forEach((t=>{e+=t+(b||0)})),e-=b;const t=e>r?e-r:0;p=p.map((e=>e<=0?-g:e>t?t+_:e))}if(i.centerInsufficientSlides){let e=0;m.forEach((t=>{e+=t+(b||0)})),e-=b;const t=(i.slidesOffsetBefore||0)+(i.slidesOffsetAfter||0);if(e+t<r){const i=(r-e-t)/2;p.forEach(((e,t)=>{p[t]=e-i})),h.forEach(((e,t)=>{h[t]=e+i}))}}if(Object.assign(e,{slides:d,snapGrid:p,slidesGrid:h,slidesSizesGrid:m}),i.centeredSlides&&i.cssMode&&!i.centeredSlidesBounds){f(n,'--swiper-centered-offset-before',-p[0]+'px'),f(n,'--swiper-centered-offset-after',e.size/2-m[m.length-1]/2+'px');const t=-e.snapGrid[0],i=-e.slidesGrid[0];e.snapGrid=e.snapGrid.map((e=>e+t)),e.slidesGrid=e.slidesGrid.map((e=>e+i))}if(u!==c&&e.emit('slidesLengthChange'),p.length!==v&&(e.params.watchOverflow&&e.checkOverflow(),e.emit('snapGridLengthChange')),h.length!==w&&e.emit('slidesGridLengthChange'),i.watchSlidesProgress&&e.updateSlidesOffset(),e.emit('slidesUpdated'),!(l||i.cssMode||'slide'!==i.effect&&'fade'!==i.effect)){const t=`${i.containerModifierClass}backface-hidden`,n=e.el.classList.contains(t);u<=i.maxBackfaceHiddenSlides?n||e.el.classList.add(t):n&&e.el.classList.remove(t)}},updateAutoHeight:function(e){const t=this,i=[],n=t.virtual&&t.params.virtual.enabled;let s,r=0;'number'==typeof e?t.setTransition(e):!0===e&&t.setTransition(t.params.speed);const a=e=>n?t.slides[t.getSlideIndexByData(e)]:t.slides[e];if('auto'!==t.params.slidesPerView&&t.params.slidesPerView>1)if(t.params.centeredSlides)(t.visibleSlides||[]).forEach((e=>{i.push(e)}));else for(s=0;s<Math.ceil(t.params.slidesPerView);s+=1){const e=t.activeIndex+s;if(e>t.slides.length&&!n)break;i.push(a(e))}else i.push(a(t.activeIndex));for(s=0;s<i.length;s+=1)if(void 0!==i[s]){const e=i[s].offsetHeight;r=e>r?e:r}(r||0===r)&&(t.wrapperEl.style.height=`${r}px`)},updateSlidesOffset:function(){const e=this,t=e.slides,i=e.isElement?e.isHorizontal()?e.wrapperEl.offsetLeft:e.wrapperEl.offsetTop:0;for(let n=0;n<t.length;n+=1)t[n].swiperSlideOffset=(e.isHorizontal()?t[n].offsetLeft:t[n].offsetTop)-i-e.cssOverflowAdjustment()},updateSlidesProgress:function(e){void 0===e&&(e=this&&this.translate||0);const t=this,i=t.params,{slides:n,rtlTranslate:s,snapGrid:r}=t;if(0===n.length)return;void 0===n[0].swiperSlideOffset&&t.updateSlidesOffset();let a=-e;s&&(a=e),t.visibleSlidesIndexes=[],t.visibleSlides=[];let o=i.spaceBetween;'string'==typeof o&&o.indexOf('%')>=0?o=parseFloat(o.replace('%',''))/100*t.size:'string'==typeof o&&(o=parseFloat(o));for(let e=0;e<n.length;e+=1){const l=n[e];let c=l.swiperSlideOffset;i.cssMode&&i.centeredSlides&&(c-=n[0].swiperSlideOffset);const d=(a+(i.centeredSlides?t.minTranslate():0)-c)/(l.swiperSlideSize+o),u=(a-r[0]+(i.centeredSlides?t.minTranslate():0)-c)/(l.swiperSlideSize+o),p=-(a-c),h=p+t.slidesSizesGrid[e],m=p>=0&&p<=t.size-t.slidesSizesGrid[e],f=p>=0&&p<t.size-1||h>1&&h<=t.size||p<=0&&h>=t.size;f&&(t.visibleSlides.push(l),t.visibleSlidesIndexes.push(e)),k(l,f,i.slideVisibleClass),k(l,m,i.slideFullyVisibleClass),l.progress=s?-d:d,l.originalProgress=s?-u:u}},updateProgress:function(e){const t=this;if(void 0===e){const i=t.rtlTranslate?-1:1;e=t&&t.translate&&t.translate*i||0}const i=t.params,n=t.maxTranslate()-t.minTranslate();let{progress:s,isBeginning:r,isEnd:a,progressLoop:o}=t;const l=r,c=a;if(0===n)s=0,r=!0,a=!0;else{s=(e-t.minTranslate())/n;const i=Math.abs(e-t.minTranslate())<1,o=Math.abs(e-t.maxTranslate())<1;r=i||s<=0,a=o||s>=1,i&&(s=0),o&&(s=1)}if(i.loop){const i=t.getSlideIndexByData(0),n=t.getSlideIndexByData(t.slides.length-1),s=t.slidesGrid[i],r=t.slidesGrid[n],a=t.slidesGrid[t.slidesGrid.length-1],l=Math.abs(e);o=l>=s?(l-s)/a:(l+a-r)/a,o>1&&(o-=1)}Object.assign(t,{progress:s,progressLoop:o,isBeginning:r,isEnd:a}),(i.watchSlidesProgress||i.centeredSlides&&i.autoHeight)&&t.updateSlidesProgress(e),r&&!l&&t.emit('reachBeginning toEdge'),a&&!c&&t.emit('reachEnd toEdge'),(l&&!r||c&&!a)&&t.emit('fromEdge'),t.emit('progress',s)},updateSlidesClasses:function(){const e=this,{slides:t,params:i,slidesEl:n,activeIndex:s}=e,r=e.virtual&&i.virtual.enabled,a=e.grid&&i.grid&&i.grid.rows>1,o=e=>y(n,`.${i.slideClass}${e}, swiper-slide${e}`)[0];let l,c,d;if(r)if(i.loop){let t=s-e.virtual.slidesBefore;t<0&&(t=e.virtual.slides.length+t),t>=e.virtual.slides.length&&(t-=e.virtual.slides.length),l=o(`[data-swiper-slide-index="${t}"]`)}else l=o(`[data-swiper-slide-index="${s}"]`);else a?(l=t.find((e=>e.column===s)),d=t.find((e=>e.column===s+1)),c=t.find((e=>e.column===s-1))):l=t[s];l&&(a||(d=function(e,t){const i=[];for(;e.nextElementSibling;){const n=e.nextElementSibling;t?n.matches(t)&&i.push(n):i.push(n),e=n}return i}(l,`.${i.slideClass}, swiper-slide`)[0],i.loop&&!d&&(d=t[0]),c=function(e,t){const i=[];for(;e.previousElementSibling;){const n=e.previousElementSibling;t?n.matches(t)&&i.push(n):i.push(n),e=n}return i}(l,`.${i.slideClass}, swiper-slide`)[0],i.loop&&0===!c&&(c=t[t.length-1]))),t.forEach((e=>{B(e,e===l,i.slideActiveClass),B(e,e===d,i.slideNextClass),B(e,e===c,i.slidePrevClass)})),e.emitSlidesClasses()},updateActiveIndex:function(e){const t=this,i=t.rtlTranslate?t.translate:-t.translate,{snapGrid:n,params:s,activeIndex:r,realIndex:a,snapIndex:o}=t;let l,c=e;const d=e=>{let i=e-t.virtual.slidesBefore;return i<0&&(i=t.virtual.slides.length+i),i>=t.virtual.slides.length&&(i-=t.virtual.slides.length),i};if(void 0===c&&(c=function(e){const{slidesGrid:t,params:i}=e,n=e.rtlTranslate?e.translate:-e.translate;let s;for(let e=0;e<t.length;e+=1)void 0!==t[e+1]?n>=t[e]&&n<t[e+1]-(t[e+1]-t[e])/2?s=e:n>=t[e]&&n<t[e+1]&&(s=e+1):n>=t[e]&&(s=e);return i.normalizeSlideIndex&&(s<0||void 0===s)&&(s=0),s}(t)),n.indexOf(i)>=0)l=n.indexOf(i);else{const e=Math.min(s.slidesPerGroupSkip,c);l=e+Math.floor((c-e)/s.slidesPerGroup)}if(l>=n.length&&(l=n.length-1),c===r&&!t.params.loop)return void(l!==o&&(t.snapIndex=l,t.emit('snapIndexChange')));if(c===r&&t.params.loop&&t.virtual&&t.params.virtual.enabled)return void(t.realIndex=d(c));const u=t.grid&&s.grid&&s.grid.rows>1;let p;if(t.virtual&&s.virtual.enabled&&s.loop)p=d(c);else if(u){const e=t.slides.find((e=>e.column===c));let i=parseInt(e.getAttribute('data-swiper-slide-index'),10);Number.isNaN(i)&&(i=Math.max(t.slides.indexOf(e),0)),p=Math.floor(i/s.grid.rows)}else if(t.slides[c]){const e=t.slides[c].getAttribute('data-swiper-slide-index');p=e?parseInt(e,10):c}else p=c;Object.assign(t,{previousSnapIndex:o,snapIndex:l,previousRealIndex:a,realIndex:p,previousIndex:r,activeIndex:c}),t.initialized&&W(t),t.emit('activeIndexChange'),t.emit('snapIndexChange'),(t.initialized||t.params.runCallbacksOnInit)&&(a!==p&&t.emit('realIndexChange'),t.emit('slideChange'))},updateClickedSlide:function(e,t){const i=this,n=i.params;let s=e.closest(`.${n.slideClass}, swiper-slide`);!s&&i.isElement&&t&&t.length>1&&t.includes(e)&&[...t.slice(t.indexOf(e)+1,t.length)].forEach((e=>{!s&&e.matches&&e.matches(`.${n.slideClass}, swiper-slide`)&&(s=e)}));let r,a=!1;if(s)for(let e=0;e<i.slides.length;e+=1)if(i.slides[e]===s){a=!0,r=e;break}if(!s||!a)return i.clickedSlide=void 0,void(i.clickedIndex=void 0);i.clickedSlide=s,i.virtual&&i.params.virtual.enabled?i.clickedIndex=parseInt(s.getAttribute('data-swiper-slide-index'),10):i.clickedIndex=r,n.slideToClickedSlide&&void 0!==i.clickedIndex&&i.clickedIndex!==i.activeIndex&&i.slideToClickedSlide()}};var $={getTranslate:function(e){void 0===e&&(e=this.isHorizontal()?'x':'y');const{params:t,rtlTranslate:i,translate:n,wrapperEl:s}=this;if(t.virtualTranslate)return i?-n:n;if(t.cssMode)return n;let r=p(s,e);return r+=this.cssOverflowAdjustment(),i&&(r=-r),r||0},setTranslate:function(e,t){const i=this,{rtlTranslate:n,params:s,wrapperEl:r,progress:a}=i;let o,l=0,c=0;i.isHorizontal()?l=n?-e:e:c=e,s.roundLengths&&(l=Math.floor(l),c=Math.floor(c)),i.previousTranslate=i.translate,i.translate=i.isHorizontal()?l:c,s.cssMode?r[i.isHorizontal()?'scrollLeft':'scrollTop']=i.isHorizontal()?-l:-c:s.virtualTranslate||(i.isHorizontal()?l-=i.cssOverflowAdjustment():c-=i.cssOverflowAdjustment(),r.style.transform=`translate3d(${l}px, ${c}px, 0px)`);const d=i.maxTranslate()-i.minTranslate();o=0===d?0:(e-i.minTranslate())/d,o!==a&&i.updateProgress(e),i.emit('setTranslate',i.translate,t)},minTranslate:function(){return-this.snapGrid[0]},maxTranslate:function(){return-this.snapGrid[this.snapGrid.length-1]},translateTo:function(e,t,i,n,s){void 0===e&&(e=0),void 0===t&&(t=this.params.speed),void 0===i&&(i=!0),void 0===n&&(n=!0);const r=this,{params:a,wrapperEl:o}=r;if(r.animating&&a.preventInteractionOnTransition)return!1;const l=r.minTranslate(),c=r.maxTranslate();let d;if(d=n&&e>l?l:n&&e<c?c:e,r.updateProgress(d),a.cssMode){const e=r.isHorizontal();if(0===t)o[e?'scrollLeft':'scrollTop']=-d;else{if(!r.support.smoothScroll)return g({swiper:r,targetPosition:-d,side:e?'left':'top'}),!0;o.scrollTo({[e?'left':'top']:-d,behavior:'smooth'})}return!0}return 0===t?(r.setTransition(0),r.setTranslate(d),i&&(r.emit('beforeTransitionStart',t,s),r.emit('transitionEnd'))):(r.setTransition(t),r.setTranslate(d),i&&(r.emit('beforeTransitionStart',t,s),r.emit('transitionStart')),r.animating||(r.animating=!0,r.onTranslateToWrapperTransitionEnd||(r.onTranslateToWrapperTransitionEnd=function(e){r&&!r.destroyed&&e.target===this&&(r.wrapperEl.removeEventListener('transitionend',r.onTranslateToWrapperTransitionEnd),r.onTranslateToWrapperTransitionEnd=null,delete r.onTranslateToWrapperTransitionEnd,r.animating=!1,i&&r.emit('transitionEnd'))}),r.wrapperEl.addEventListener('transitionend',r.onTranslateToWrapperTransitionEnd))),!0}};function H(e){let{swiper:t,runCallbacks:i,direction:n,step:s}=e;const{activeIndex:r,previousIndex:a}=t;let o=n;if(o||(o=r>a?'next':r<a?'prev':'reset'),t.emit(`transition${s}`),i&&r!==a){if('reset'===o)return void t.emit(`slideResetTransition${s}`);t.emit(`slideChangeTransition${s}`),'next'===o?t.emit(`slideNextTransition${s}`):t.emit(`slidePrevTransition${s}`)}}var F={slideTo:function(e,t,i,n,s){void 0===e&&(e=0),void 0===i&&(i=!0),'string'==typeof e&&(e=parseInt(e,10));const r=this;let a=e;a<0&&(a=0);const{params:o,snapGrid:l,slidesGrid:c,previousIndex:d,activeIndex:u,rtlTranslate:p,wrapperEl:h,enabled:m}=r;if(!m&&!n&&!s||r.destroyed||r.animating&&o.preventInteractionOnTransition)return!1;void 0===t&&(t=r.params.speed);const f=Math.min(r.params.slidesPerGroupSkip,a);let _=f+Math.floor((a-f)/r.params.slidesPerGroup);_>=l.length&&(_=l.length-1);const y=-l[_];if(o.normalizeSlideIndex)for(let e=0;e<c.length;e+=1){const t=-Math.floor(100*y),i=Math.floor(100*c[e]),n=Math.floor(100*c[e+1]);void 0!==c[e+1]?t>=i&&t<n-(n-i)/2?a=e:t>=i&&t<n&&(a=e+1):t>=i&&(a=e)}if(r.initialized&&a!==u){if(!r.allowSlideNext&&(p?y>r.translate&&y>r.minTranslate():y<r.translate&&y<r.minTranslate()))return!1;if(!r.allowSlidePrev&&y>r.translate&&y>r.maxTranslate()&&(u||0)!==a)return!1}let v;a!==(d||0)&&i&&r.emit('beforeSlideChangeStart'),r.updateProgress(y),v=a>u?'next':a<u?'prev':'reset';const w=r.virtual&&r.params.virtual.enabled;if(!(w&&s)&&(p&&-y===r.translate||!p&&y===r.translate))return r.updateActiveIndex(a),o.autoHeight&&r.updateAutoHeight(),r.updateSlidesClasses(),'slide'!==o.effect&&r.setTranslate(y),'reset'!==v&&(r.transitionStart(i,v),r.transitionEnd(i,v)),!1;if(o.cssMode){const e=r.isHorizontal(),i=p?y:-y;if(0===t)w&&(r.wrapperEl.style.scrollSnapType='none',r._immediateVirtual=!0),w&&!r._cssModeVirtualInitialSet&&r.params.initialSlide>0?(r._cssModeVirtualInitialSet=!0,requestAnimationFrame((()=>{h[e?'scrollLeft':'scrollTop']=i}))):h[e?'scrollLeft':'scrollTop']=i,w&&requestAnimationFrame((()=>{r.wrapperEl.style.scrollSnapType='',r._immediateVirtual=!1}));else{if(!r.support.smoothScroll)return g({swiper:r,targetPosition:i,side:e?'left':'top'}),!0;h.scrollTo({[e?'left':'top']:i,behavior:'smooth'})}return!0}const b=D().isSafari;return w&&!s&&b&&r.isElement&&r.virtual.update(!1,!1,a),r.setTransition(t),r.setTranslate(y),r.updateActiveIndex(a),r.updateSlidesClasses(),r.emit('beforeTransitionStart',t,n),r.transitionStart(i,v),0===t?r.transitionEnd(i,v):r.animating||(r.animating=!0,r.onSlideToWrapperTransitionEnd||(r.onSlideToWrapperTransitionEnd=function(e){r&&!r.destroyed&&e.target===this&&(r.wrapperEl.removeEventListener('transitionend',r.onSlideToWrapperTransitionEnd),r.onSlideToWrapperTransitionEnd=null,delete r.onSlideToWrapperTransitionEnd,r.transitionEnd(i,v))}),r.wrapperEl.addEventListener('transitionend',r.onSlideToWrapperTransitionEnd)),!0},slideToLoop:function(e,t,i,n){if(void 0===e&&(e=0),void 0===i&&(i=!0),'string'==typeof e){e=parseInt(e,10)}const s=this;if(s.destroyed)return;void 0===t&&(t=s.params.speed);const r=s.grid&&s.params.grid&&s.params.grid.rows>1;let a=e;if(s.params.loop)if(s.virtual&&s.params.virtual.enabled)a+=s.virtual.slidesBefore;else{let e;if(r){const t=a*s.params.grid.rows;e=s.slides.find((e=>1*e.getAttribute('data-swiper-slide-index')===t)).column}else e=s.getSlideIndexByData(a);const t=r?Math.ceil(s.slides.length/s.params.grid.rows):s.slides.length,{centeredSlides:i}=s.params;let o=s.params.slidesPerView;'auto'===o?o=s.slidesPerViewDynamic():(o=Math.ceil(parseFloat(s.params.slidesPerView,10)),i&&o%2==0&&(o+=1));let l=t-e<o;if(i&&(l=l||e<Math.ceil(o/2)),n&&i&&'auto'!==s.params.slidesPerView&&!r&&(l=!1),l){const n=i?e<s.activeIndex?'prev':'next':e-s.activeIndex-1<s.params.slidesPerView?'next':'prev';s.loopFix({direction:n,slideTo:!0,activeSlideIndex:'next'===n?e+1:e-t+1,slideRealIndex:'next'===n?s.realIndex:void 0})}if(r){const e=a*s.params.grid.rows;a=s.slides.find((t=>1*t.getAttribute('data-swiper-slide-index')===e)).column}else a=s.getSlideIndexByData(a)}return requestAnimationFrame((()=>{s.slideTo(a,t,i,n)})),s},slideNext:function(e,t,i){void 0===t&&(t=!0);const n=this,{enabled:s,params:r,animating:a}=n;if(!s||n.destroyed)return n;void 0===e&&(e=n.params.speed);let o=r.slidesPerGroup;'auto'===r.slidesPerView&&1===r.slidesPerGroup&&r.slidesPerGroupAuto&&(o=Math.max(n.slidesPerViewDynamic('current',!0),1));const l=n.activeIndex<r.slidesPerGroupSkip?1:o,c=n.virtual&&r.virtual.enabled;if(r.loop){if(a&&!c&&r.loopPreventsSliding)return!1;if(n.loopFix({direction:'next'}),n._clientLeft=n.wrapperEl.clientLeft,n.activeIndex===n.slides.length-1&&r.cssMode)return requestAnimationFrame((()=>{n.slideTo(n.activeIndex+l,e,t,i)})),!0}return r.rewind&&n.isEnd?n.slideTo(0,e,t,i):n.slideTo(n.activeIndex+l,e,t,i)},slidePrev:function(e,t,i){void 0===t&&(t=!0);const n=this,{params:s,snapGrid:r,slidesGrid:a,rtlTranslate:o,enabled:l,animating:c}=n;if(!l||n.destroyed)return n;void 0===e&&(e=n.params.speed);const d=n.virtual&&s.virtual.enabled;if(s.loop){if(c&&!d&&s.loopPreventsSliding)return!1;n.loopFix({direction:'prev'}),n._clientLeft=n.wrapperEl.clientLeft}function u(e){return e<0?-Math.floor(Math.abs(e)):Math.floor(e)}const p=u(o?n.translate:-n.translate),h=r.map((e=>u(e))),m=s.freeMode&&s.freeMode.enabled;let f=r[h.indexOf(p)-1];if(void 0===f&&(s.cssMode||m)){let e;r.forEach(((t,i)=>{p>=t&&(e=i)})),void 0!==e&&(f=m?r[e]:r[e>0?e-1:e])}let g=0;if(void 0!==f&&(g=a.indexOf(f),g<0&&(g=n.activeIndex-1),'auto'===s.slidesPerView&&1===s.slidesPerGroup&&s.slidesPerGroupAuto&&(g=g-n.slidesPerViewDynamic('previous',!0)+1,g=Math.max(g,0))),s.rewind&&n.isBeginning){const s=n.params.virtual&&n.params.virtual.enabled&&n.virtual?n.virtual.slides.length-1:n.slides.length-1;return n.slideTo(s,e,t,i)}return s.loop&&0===n.activeIndex&&s.cssMode?(requestAnimationFrame((()=>{n.slideTo(g,e,t,i)})),!0):n.slideTo(g,e,t,i)},slideReset:function(e,t,i){void 0===t&&(t=!0);const n=this;if(!n.destroyed)return void 0===e&&(e=n.params.speed),n.slideTo(n.activeIndex,e,t,i)},slideToClosest:function(e,t,i,n){void 0===t&&(t=!0),void 0===n&&(n=.5);const s=this;if(s.destroyed)return;void 0===e&&(e=s.params.speed);let r=s.activeIndex;const a=Math.min(s.params.slidesPerGroupSkip,r),o=a+Math.floor((r-a)/s.params.slidesPerGroup),l=s.rtlTranslate?s.translate:-s.translate;if(l>=s.snapGrid[o]){const e=s.snapGrid[o];l-e>(s.snapGrid[o+1]-e)*n&&(r+=s.params.slidesPerGroup)}else{const e=s.snapGrid[o-1];l-e<=(s.snapGrid[o]-e)*n&&(r-=s.params.slidesPerGroup)}return r=Math.max(r,0),r=Math.min(r,s.slidesGrid.length-1),s.slideTo(r,e,t,i)},slideToClickedSlide:function(){const e=this;if(e.destroyed)return;const{params:t,slidesEl:i}=e,n='auto'===t.slidesPerView?e.slidesPerViewDynamic():t.slidesPerView;let s,r=e.clickedIndex;const a=e.isElement?'swiper-slide':`.${t.slideClass}`;if(t.loop){if(e.animating)return;s=parseInt(e.clickedSlide.getAttribute('data-swiper-slide-index'),10),t.centeredSlides?r<e.loopedSlides-n/2||r>e.slides.length-e.loopedSlides+n/2?(e.loopFix(),r=e.getSlideIndex(y(i,`${a}[data-swiper-slide-index="${s}"]`)[0]),d((()=>{e.slideTo(r)}))):e.slideTo(r):r>e.slides.length-n?(e.loopFix(),r=e.getSlideIndex(y(i,`${a}[data-swiper-slide-index="${s}"]`)[0]),d((()=>{e.slideTo(r)}))):e.slideTo(r)}else e.slideTo(r)}};var z={loopCreate:function(e,t){const i=this,{params:n,slidesEl:s}=i;if(!n.loop||i.virtual&&i.params.virtual.enabled)return;const r=()=>{y(s,`.${n.slideClass}, swiper-slide`).forEach(((e,t)=>{e.setAttribute('data-swiper-slide-index',t)}))},a=i.grid&&n.grid&&n.grid.rows>1,o=n.slidesPerGroup*(a?n.grid.rows:1),l=i.slides.length%o!=0,c=a&&i.slides.length%n.grid.rows!=0,d=e=>{for(let t=0;t<e;t+=1){const e=i.isElement?w('swiper-slide',[n.slideBlankClass]):w('div',[n.slideClass,n.slideBlankClass]);i.slidesEl.append(e)}};if(l){if(n.loopAddBlankSlides){d(o-i.slides.length%o),i.recalcSlides(),i.updateSlides()}else v('Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)');r()}else if(c){if(n.loopAddBlankSlides){d(n.grid.rows-i.slides.length%n.grid.rows),i.recalcSlides(),i.updateSlides()}else v('Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)');r()}else r();i.loopFix({slideRealIndex:e,direction:n.centeredSlides?void 0:'next',initial:t})},loopFix:function(e){let{slideRealIndex:t,slideTo:i=!0,direction:n,setTranslate:s,activeSlideIndex:r,initial:a,byController:o,byMousewheel:l}=void 0===e?{}:e;const c=this;if(!c.params.loop)return;c.emit('beforeLoopFix');const{slides:d,allowSlidePrev:u,allowSlideNext:p,slidesEl:h,params:m}=c,{centeredSlides:f,initialSlide:g}=m;if(c.allowSlidePrev=!0,c.allowSlideNext=!0,c.virtual&&m.virtual.enabled)return i&&(m.centeredSlides||0!==c.snapIndex?m.centeredSlides&&c.snapIndex<m.slidesPerView?c.slideTo(c.virtual.slides.length+c.snapIndex,0,!1,!0):c.snapIndex===c.snapGrid.length-1&&c.slideTo(c.virtual.slidesBefore,0,!1,!0):c.slideTo(c.virtual.slides.length,0,!1,!0)),c.allowSlidePrev=u,c.allowSlideNext=p,void c.emit('loopFix');let _=m.slidesPerView;'auto'===_?_=c.slidesPerViewDynamic():(_=Math.ceil(parseFloat(m.slidesPerView,10)),f&&_%2==0&&(_+=1));const y=m.slidesPerGroupAuto?_:m.slidesPerGroup;let w=y;w%y!=0&&(w+=y-w%y),w+=m.loopAdditionalSlides,c.loopedSlides=w;const b=c.grid&&m.grid&&m.grid.rows>1;d.length<_+w||'cards'===c.params.effect&&d.length<_+2*w?v('Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled or not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters'):b&&'row'===m.grid.fill&&v('Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`');const E=[],S=[],T=b?Math.ceil(d.length/m.grid.rows):d.length,I=a&&T-g<_&&!f;let A=I?g:c.activeIndex;void 0===r?r=c.getSlideIndex(d.find((e=>e.classList.contains(m.slideActiveClass)))):A=r;const C='next'===n||!n,O='prev'===n||!n;let P=0,N=0;const L=(b?d[r].column:r)+(f&&void 0===s?-_/2+.5:0);if(L<w){P=Math.max(w-L,y);for(let e=0;e<w-L;e+=1){const t=e-Math.floor(e/T)*T;if(b){const e=T-t-1;for(let t=d.length-1;t>=0;t-=1)d[t].column===e&&E.push(t)}else E.push(T-t-1)}}else if(L+_>T-w){N=Math.max(L-(T-2*w),y),I&&(N=Math.max(N,_-T+g+1));for(let e=0;e<N;e+=1){const t=e-Math.floor(e/T)*T;b?d.forEach(((e,i)=>{e.column===t&&S.push(i)})):S.push(t)}}if(c.__preventObserver__=!0,requestAnimationFrame((()=>{c.__preventObserver__=!1})),'cards'===c.params.effect&&d.length<_+2*w&&(S.includes(r)&&S.splice(S.indexOf(r),1),E.includes(r)&&E.splice(E.indexOf(r),1)),O&&E.forEach((e=>{d[e].swiperLoopMoveDOM=!0,h.prepend(d[e]),d[e].swiperLoopMoveDOM=!1})),C&&S.forEach((e=>{d[e].swiperLoopMoveDOM=!0,h.append(d[e]),d[e].swiperLoopMoveDOM=!1})),c.recalcSlides(),'auto'===m.slidesPerView?c.updateSlides():b&&(E.length>0&&O||S.length>0&&C)&&c.slides.forEach(((e,t)=>{c.grid.updateSlide(t,e,c.slides)})),m.watchSlidesProgress&&c.updateSlidesOffset(),i)if(E.length>0&&O){if(void 0===t){const e=c.slidesGrid[A],t=c.slidesGrid[A+P]-e;l?c.setTranslate(c.translate-t):(c.slideTo(A+Math.ceil(P),0,!1,!0),s&&(c.touchEventsData.startTranslate=c.touchEventsData.startTranslate-t,c.touchEventsData.currentTranslate=c.touchEventsData.currentTranslate-t))}else if(s){const e=b?E.length/m.grid.rows:E.length;c.slideTo(c.activeIndex+e,0,!1,!0),c.touchEventsData.currentTranslate=c.translate}}else if(S.length>0&&C)if(void 0===t){const e=c.slidesGrid[A],t=c.slidesGrid[A-N]-e;l?c.setTranslate(c.translate-t):(c.slideTo(A-N,0,!1,!0),s&&(c.touchEventsData.startTranslate=c.touchEventsData.startTranslate-t,c.touchEventsData.currentTranslate=c.touchEventsData.currentTranslate-t))}else{const e=b?S.length/m.grid.rows:S.length;c.slideTo(c.activeIndex-e,0,!1,!0)}if(c.allowSlidePrev=u,c.allowSlideNext=p,c.controller&&c.controller.control&&!o){const e={slideRealIndex:t,direction:n,setTranslate:s,activeSlideIndex:r,byController:!0};Array.isArray(c.controller.control)?c.controller.control.forEach((t=>{!t.destroyed&&t.params.loop&&t.loopFix({...e,slideTo:t.params.slidesPerView===m.slidesPerView&&i})})):c.controller.control instanceof c.constructor&&c.controller.control.params.loop&&c.controller.control.loopFix({...e,slideTo:c.controller.control.params.slidesPerView===m.slidesPerView&&i})}c.emit('loopFix')},loopDestroy:function(){const e=this,{params:t,slidesEl:i}=e;if(!t.loop||!i||e.virtual&&e.params.virtual.enabled)return;e.recalcSlides();const n=[];e.slides.forEach((e=>{const t=void 0===e.swiperSlideIndex?1*e.getAttribute('data-swiper-slide-index'):e.swiperSlideIndex;n[t]=e})),e.slides.forEach((e=>{e.removeAttribute('data-swiper-slide-index')})),n.forEach((e=>{i.append(e)})),e.recalcSlides(),e.slideTo(e.realIndex,0)}};function V(e,t,i){const n=l(),{params:s}=e,r=s.edgeSwipeDetection,a=s.edgeSwipeThreshold;return!r||!(i<=a||i>=n.innerWidth-a)||'prevent'===r&&(t.preventDefault(),!0)}function Y(e){const t=this,i=a();let n=e;n.originalEvent&&(n=n.originalEvent);const s=t.touchEventsData;if('pointerdown'===n.type){if(null!==s.pointerId&&s.pointerId!==n.pointerId)return;s.pointerId=n.pointerId}else'touchstart'===n.type&&1===n.targetTouches.length&&(s.touchId=n.targetTouches[0].identifier);if('touchstart'===n.type)return void V(t,n,n.targetTouches[0].pageX);const{params:r,touches:o,enabled:c}=t;if(!c)return;if(!r.simulateTouch&&'mouse'===n.pointerType)return;if(t.animating&&r.preventInteractionOnTransition)return;!t.animating&&r.cssMode&&r.loop&&t.loopFix();let d=n.target;if('wrapper'===r.touchEventsTarget&&!function(e,t){const i=l();let n=t.contains(e);!n&&i.HTMLSlotElement&&t instanceof HTMLSlotElement&&(n=[...t.assignedElements()].includes(e),n||(n=function(e,t){const i=[t];for(;i.length>0;){const t=i.shift();if(e===t)return!0;i.push(...t.children,...t.shadowRoot?t.shadowRoot.children:[],...t.assignedElements?t.assignedElements():[])}}(e,t)));return n}(d,t.wrapperEl))return;if('which'in n&&3===n.which)return;if('button'in n&&n.button>0)return;if(s.isTouched&&s.isMoved)return;const p=!!r.noSwipingClass&&''!==r.noSwipingClass,h=n.composedPath?n.composedPath():n.path;p&&n.target&&n.target.shadowRoot&&h&&(d=h[0]);const m=r.noSwipingSelector?r.noSwipingSelector:`.${r.noSwipingClass}`,f=!(!n.target||!n.target.shadowRoot);if(r.noSwiping&&(f?function(e,t){return void 0===t&&(t=this),function t(i){if(!i||i===a()||i===l())return null;i.assignedSlot&&(i=i.assignedSlot);const n=i.closest(e);return n||i.getRootNode?n||t(i.getRootNode().host):null}(t)}(m,d):d.closest(m)))return void(t.allowClick=!0);if(r.swipeHandler&&!d.closest(r.swipeHandler))return;o.currentX=n.pageX,o.currentY=n.pageY;const g=o.currentX,_=o.currentY;if(!V(t,n,g))return;Object.assign(s,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),o.startX=g,o.startY=_,s.touchStartTime=u(),t.allowClick=!0,t.updateSize(),t.swipeDirection=void 0,r.threshold>0&&(s.allowThresholdMove=!1);let y=!0;d.matches(s.focusableElements)&&(y=!1,'SELECT'===d.nodeName&&(s.isTouched=!1)),i.activeElement&&i.activeElement.matches(s.focusableElements)&&i.activeElement!==d&&('mouse'===n.pointerType||'mouse'!==n.pointerType&&!d.matches(s.focusableElements))&&i.activeElement.blur();const v=y&&t.allowTouchMove&&r.touchStartPreventDefault;!r.touchStartForcePreventDefault&&!v||d.isContentEditable||n.preventDefault(),r.freeMode&&r.freeMode.enabled&&t.freeMode&&t.animating&&!r.cssMode&&t.freeMode.onTouchStart(),t.emit('touchStart',n)}function Q(e){const t=a(),i=this,n=i.touchEventsData,{params:s,touches:r,rtlTranslate:o,enabled:l}=i;if(!l)return;if(!s.simulateTouch&&'mouse'===e.pointerType)return;let c,d=e;if(d.originalEvent&&(d=d.originalEvent),'pointermove'===d.type){if(null!==n.touchId)return;if(d.pointerId!==n.pointerId)return}if('touchmove'===d.type){if(c=[...d.changedTouches].find((e=>e.identifier===n.touchId)),!c||c.identifier!==n.touchId)return}else c=d;if(!n.isTouched)return void(n.startMoving&&n.isScrolling&&i.emit('touchMoveOpposite',d));const p=c.pageX,h=c.pageY;if(d.preventedByNestedSwiper)return r.startX=p,void(r.startY=h);if(!i.allowTouchMove)return d.target.matches(n.focusableElements)||(i.allowClick=!1),void(n.isTouched&&(Object.assign(r,{startX:p,startY:h,currentX:p,currentY:h}),n.touchStartTime=u()));if(s.touchReleaseOnEdges&&!s.loop)if(i.isVertical()){if(h<r.startY&&i.translate<=i.maxTranslate()||h>r.startY&&i.translate>=i.minTranslate())return n.isTouched=!1,void(n.isMoved=!1)}else{if(o&&(p>r.startX&&-i.translate<=i.maxTranslate()||p<r.startX&&-i.translate>=i.minTranslate()))return;if(!o&&(p<r.startX&&i.translate<=i.maxTranslate()||p>r.startX&&i.translate>=i.minTranslate()))return}if(t.activeElement&&t.activeElement.matches(n.focusableElements)&&t.activeElement!==d.target&&'mouse'!==d.pointerType&&t.activeElement.blur(),t.activeElement&&d.target===t.activeElement&&d.target.matches(n.focusableElements))return n.isMoved=!0,void(i.allowClick=!1);n.allowTouchCallbacks&&i.emit('touchMove',d),r.previousX=r.currentX,r.previousY=r.currentY,r.currentX=p,r.currentY=h;const m=r.currentX-r.startX,f=r.currentY-r.startY;if(i.params.threshold&&Math.sqrt(m**2+f**2)<i.params.threshold)return;if(void 0===n.isScrolling){let e;i.isHorizontal()&&r.currentY===r.startY||i.isVertical()&&r.currentX===r.startX?n.isScrolling=!1:m*m+f*f>=25&&(e=180*Math.atan2(Math.abs(f),Math.abs(m))/Math.PI,n.isScrolling=i.isHorizontal()?e>s.touchAngle:90-e>s.touchAngle)}if(n.isScrolling&&i.emit('touchMoveOpposite',d),void 0===n.startMoving&&(r.currentX===r.startX&&r.currentY===r.startY||(n.startMoving=!0)),n.isScrolling||'touchmove'===d.type&&n.preventTouchMoveFromPointerMove)return void(n.isTouched=!1);if(!n.startMoving)return;i.allowClick=!1,!s.cssMode&&d.cancelable&&d.preventDefault(),s.touchMoveStopPropagation&&!s.nested&&d.stopPropagation();let g=i.isHorizontal()?m:f,_=i.isHorizontal()?r.currentX-r.previousX:r.currentY-r.previousY;s.oneWayMovement&&(g=Math.abs(g)*(o?1:-1),_=Math.abs(_)*(o?1:-1)),r.diff=g,g*=s.touchRatio,o&&(g=-g,_=-_);const y=i.touchesDirection;i.swipeDirection=g>0?'prev':'next',i.touchesDirection=_>0?'prev':'next';const v=i.params.loop&&!s.cssMode,w='next'===i.touchesDirection&&i.allowSlideNext||'prev'===i.touchesDirection&&i.allowSlidePrev;if(!n.isMoved){if(v&&w&&i.loopFix({direction:i.swipeDirection}),n.startTranslate=i.getTranslate(),i.setTransition(0),i.animating){const e=new window.CustomEvent('transitionend',{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});i.wrapperEl.dispatchEvent(e)}n.allowMomentumBounce=!1,!s.grabCursor||!0!==i.allowSlideNext&&!0!==i.allowSlidePrev||i.setGrabCursor(!0),i.emit('sliderFirstMove',d)}if((new Date).getTime(),!1!==s._loopSwapReset&&n.isMoved&&n.allowThresholdMove&&y!==i.touchesDirection&&v&&w&&Math.abs(g)>=1)return Object.assign(r,{startX:p,startY:h,currentX:p,currentY:h,startTranslate:n.currentTranslate}),n.loopSwapReset=!0,void(n.startTranslate=n.currentTranslate);i.emit('sliderMove',d),n.isMoved=!0,n.currentTranslate=g+n.startTranslate;let b=!0,E=s.resistanceRatio;if(s.touchReleaseOnEdges&&(E=0),g>0?(v&&w&&n.allowThresholdMove&&n.currentTranslate>(s.centeredSlides?i.minTranslate()-i.slidesSizesGrid[i.activeIndex+1]-('auto'!==s.slidesPerView&&i.slides.length-s.slidesPerView>=2?i.slidesSizesGrid[i.activeIndex+1]+i.params.spaceBetween:0)-i.params.spaceBetween:i.minTranslate())&&i.loopFix({direction:'prev',setTranslate:!0,activeSlideIndex:0}),n.currentTranslate>i.minTranslate()&&(b=!1,s.resistance&&(n.currentTranslate=i.minTranslate()-1+(-i.minTranslate()+n.startTranslate+g)**E))):g<0&&(v&&w&&n.allowThresholdMove&&n.currentTranslate<(s.centeredSlides?i.maxTranslate()+i.slidesSizesGrid[i.slidesSizesGrid.length-1]+i.params.spaceBetween+('auto'!==s.slidesPerView&&i.slides.length-s.slidesPerView>=2?i.slidesSizesGrid[i.slidesSizesGrid.length-1]+i.params.spaceBetween:0):i.maxTranslate())&&i.loopFix({direction:'next',setTranslate:!0,activeSlideIndex:i.slides.length-('auto'===s.slidesPerView?i.slidesPerViewDynamic():Math.ceil(parseFloat(s.slidesPerView,10)))}),n.currentTranslate<i.maxTranslate()&&(b=!1,s.resistance&&(n.currentTranslate=i.maxTranslate()+1-(i.maxTranslate()-n.startTranslate-g)**E))),b&&(d.preventedByNestedSwiper=!0),!i.allowSlideNext&&'next'===i.swipeDirection&&n.currentTranslate<n.startTranslate&&(n.currentTranslate=n.startTranslate),!i.allowSlidePrev&&'prev'===i.swipeDirection&&n.currentTranslate>n.startTranslate&&(n.currentTranslate=n.startTranslate),i.allowSlidePrev||i.allowSlideNext||(n.currentTranslate=n.startTranslate),s.threshold>0){if(!(Math.abs(g)>s.threshold||n.allowThresholdMove))return void(n.currentTranslate=n.startTranslate);if(!n.allowThresholdMove)return n.allowThresholdMove=!0,r.startX=r.currentX,r.startY=r.currentY,n.currentTranslate=n.startTranslate,void(r.diff=i.isHorizontal()?r.currentX-r.startX:r.currentY-r.startY)}s.followFinger&&!s.cssMode&&((s.freeMode&&s.freeMode.enabled&&i.freeMode||s.watchSlidesProgress)&&(i.updateActiveIndex(),i.updateSlidesClasses()),s.freeMode&&s.freeMode.enabled&&i.freeMode&&i.freeMode.onTouchMove(),i.updateProgress(n.currentTranslate),i.setTranslate(n.currentTranslate))}function K(e){const t=this,i=t.touchEventsData;let n,s=e;s.originalEvent&&(s=s.originalEvent);if('touchend'===s.type||'touchcancel'===s.type){if(n=[...s.changedTouches].find((e=>e.identifier===i.touchId)),!n||n.identifier!==i.touchId)return}else{if(null!==i.touchId)return;if(s.pointerId!==i.pointerId)return;n=s}if(['pointercancel','pointerout','pointerleave','contextmenu'].includes(s.type)){if(!(['pointercancel','contextmenu'].includes(s.type)&&(t.browser.isSafari||t.browser.isWebView)))return}i.pointerId=null,i.touchId=null;const{params:r,touches:a,rtlTranslate:o,slidesGrid:l,enabled:c}=t;if(!c)return;if(!r.simulateTouch&&'mouse'===s.pointerType)return;if(i.allowTouchCallbacks&&t.emit('touchEnd',s),i.allowTouchCallbacks=!1,!i.isTouched)return i.isMoved&&r.grabCursor&&t.setGrabCursor(!1),i.isMoved=!1,void(i.startMoving=!1);r.grabCursor&&i.isMoved&&i.isTouched&&(!0===t.allowSlideNext||!0===t.allowSlidePrev)&&t.setGrabCursor(!1);const p=u(),h=p-i.touchStartTime;if(t.allowClick){const e=s.path||s.composedPath&&s.composedPath();t.updateClickedSlide(e&&e[0]||s.target,e),t.emit('tap click',s),h<300&&p-i.lastClickTime<300&&t.emit('doubleTap doubleClick',s)}if(i.lastClickTime=u(),d((()=>{t.destroyed||(t.allowClick=!0)})),!i.isTouched||!i.isMoved||!t.swipeDirection||0===a.diff&&!i.loopSwapReset||i.currentTranslate===i.startTranslate&&!i.loopSwapReset)return i.isTouched=!1,i.isMoved=!1,void(i.startMoving=!1);let m;if(i.isTouched=!1,i.isMoved=!1,i.startMoving=!1,m=r.followFinger?o?t.translate:-t.translate:-i.currentTranslate,r.cssMode)return;if(r.freeMode&&r.freeMode.enabled)return void t.freeMode.onTouchEnd({currentPos:m});const f=m>=-t.maxTranslate()&&!t.params.loop;let g=0,_=t.slidesSizesGrid[0];for(let e=0;e<l.length;e+=e<r.slidesPerGroupSkip?1:r.slidesPerGroup){const t=e<r.slidesPerGroupSkip-1?1:r.slidesPerGroup;void 0!==l[e+t]?(f||m>=l[e]&&m<l[e+t])&&(g=e,_=l[e+t]-l[e]):(f||m>=l[e])&&(g=e,_=l[l.length-1]-l[l.length-2])}let y=null,v=null;r.rewind&&(t.isBeginning?v=r.virtual&&r.virtual.enabled&&t.virtual?t.virtual.slides.length-1:t.slides.length-1:t.isEnd&&(y=0));const w=(m-l[g])/_,b=g<r.slidesPerGroupSkip-1?1:r.slidesPerGroup;if(h>r.longSwipesMs){if(!r.longSwipes)return void t.slideTo(t.activeIndex);'next'===t.swipeDirection&&(w>=r.longSwipesRatio?t.slideTo(r.rewind&&t.isEnd?y:g+b):t.slideTo(g)),'prev'===t.swipeDirection&&(w>1-r.longSwipesRatio?t.slideTo(g+b):null!==v&&w<0&&Math.abs(w)>r.longSwipesRatio?t.slideTo(v):t.slideTo(g))}else{if(!r.shortSwipes)return void t.slideTo(t.activeIndex);t.navigation&&(s.target===t.navigation.nextEl||s.target===t.navigation.prevEl)?s.target===t.navigation.nextEl?t.slideTo(g+b):t.slideTo(g):('next'===t.swipeDirection&&t.slideTo(null!==y?y:g+b),'prev'===t.swipeDirection&&t.slideTo(null!==v?v:g))}}function q(){const e=this,{params:t,el:i}=e;if(i&&0===i.offsetWidth)return;t.breakpoints&&e.setBreakpoint();const{allowSlideNext:n,allowSlidePrev:s,snapGrid:r}=e,a=e.virtual&&e.params.virtual.enabled;e.allowSlideNext=!0,e.allowSlidePrev=!0,e.updateSize(),e.updateSlides(),e.updateSlidesClasses();const o=a&&t.loop;!('auto'===t.slidesPerView||t.slidesPerView>1)||!e.isEnd||e.isBeginning||e.params.centeredSlides||o?e.params.loop&&!a?e.slideToLoop(e.realIndex,0,!1,!0):e.slideTo(e.activeIndex,0,!1,!0):e.slideTo(e.slides.length-1,0,!1,!0),e.autoplay&&e.autoplay.running&&e.autoplay.paused&&(clearTimeout(e.autoplay.resizeTimeout),e.autoplay.resizeTimeout=setTimeout((()=>{e.autoplay&&e.autoplay.running&&e.autoplay.paused&&e.autoplay.resume()}),500)),e.allowSlidePrev=s,e.allowSlideNext=n,e.params.watchOverflow&&r!==e.snapGrid&&e.checkOverflow()}function X(e){const t=this;t.enabled&&(t.allowClick||(t.params.preventClicks&&e.preventDefault(),t.params.preventClicksPropagation&&t.animating&&(e.stopPropagation(),e.stopImmediatePropagation())))}function Z(){const e=this,{wrapperEl:t,rtlTranslate:i,enabled:n}=e;if(!n)return;let s;e.previousTranslate=e.translate,e.isHorizontal()?e.translate=-t.scrollLeft:e.translate=-t.scrollTop,0===e.translate&&(e.translate=0),e.updateActiveIndex(),e.updateSlidesClasses();const r=e.maxTranslate()-e.minTranslate();s=0===r?0:(e.translate-e.minTranslate())/r,s!==e.progress&&e.updateProgress(i?-e.translate:e.translate),e.emit('setTranslate',e.translate,!1)}function J(e){const t=this;U(t,e.target),t.params.cssMode||'auto'!==t.params.slidesPerView&&!t.params.autoHeight||t.update()}function ee(){const e=this;e.documentTouchHandlerProceeded||(e.documentTouchHandlerProceeded=!0,e.params.touchReleaseOnEdges&&(e.el.style.touchAction='auto'))}const te=(e,t)=>{const i=a(),{params:n,el:s,wrapperEl:r,device:o}=e,l=!!n.nested,c='on'===t?'addEventListener':'removeEventListener',d=t;s&&'string'!=typeof s&&(i[c]('touchstart',e.onDocumentTouchStart,{passive:!1,capture:l}),s[c]('touchstart',e.onTouchStart,{passive:!1}),s[c]('pointerdown',e.onTouchStart,{passive:!1}),i[c]('touchmove',e.onTouchMove,{passive:!1,capture:l}),i[c]('pointermove',e.onTouchMove,{passive:!1,capture:l}),i[c]('touchend',e.onTouchEnd,{passive:!0}),i[c]('pointerup',e.onTouchEnd,{passive:!0}),i[c]('pointercancel',e.onTouchEnd,{passive:!0}),i[c]('touchcancel',e.onTouchEnd,{passive:!0}),i[c]('pointerout',e.onTouchEnd,{passive:!0}),i[c]('pointerleave',e.onTouchEnd,{passive:!0}),i[c]('contextmenu',e.onTouchEnd,{passive:!0}),(n.preventClicks||n.preventClicksPropagation)&&s[c]('click',e.onClick,!0),n.cssMode&&r[c]('scroll',e.onScroll),n.updateOnWindowResize?e[d](o.ios||o.android?'resize orientationchange observerUpdate':'resize observerUpdate',q,!0):e[d]('observerUpdate',q,!0),s[c]('load',e.onLoad,{capture:!0}))};const ie=(e,t)=>e.grid&&t.grid&&t.grid.rows>1;var ne={setBreakpoint:function(){const e=this,{realIndex:t,initialized:i,params:n,el:s}=e,r=n.breakpoints;if(!r||r&&0===Object.keys(r).length)return;const o=a(),l='window'!==n.breakpointsBase&&n.breakpointsBase?'container':n.breakpointsBase,c=['window','container'].includes(n.breakpointsBase)||!n.breakpointsBase?e.el:o.querySelector(n.breakpointsBase),d=e.getBreakpoint(r,l,c);if(!d||e.currentBreakpoint===d)return;const u=(d in r?r[d]:void 0)||e.originalParams,p=ie(e,n),h=ie(e,u),f=e.params.grabCursor,g=u.grabCursor,_=n.enabled;p&&!h?(s.classList.remove(`${n.containerModifierClass}grid`,`${n.containerModifierClass}grid-column`),e.emitContainerClasses()):!p&&h&&(s.classList.add(`${n.containerModifierClass}grid`),(u.grid.fill&&'column'===u.grid.fill||!u.grid.fill&&'column'===n.grid.fill)&&s.classList.add(`${n.containerModifierClass}grid-column`),e.emitContainerClasses()),f&&!g?e.unsetGrabCursor():!f&&g&&e.setGrabCursor(),['navigation','pagination','scrollbar'].forEach((t=>{if(void 0===u[t])return;const i=n[t]&&n[t].enabled,s=u[t]&&u[t].enabled;i&&!s&&e[t].disable(),!i&&s&&e[t].enable()}));const y=u.direction&&u.direction!==n.direction,v=n.loop&&(u.slidesPerView!==n.slidesPerView||y),w=n.loop;y&&i&&e.changeDirection(),m(e.params,u);const b=e.params.enabled,E=e.params.loop;Object.assign(e,{allowTouchMove:e.params.allowTouchMove,allowSlideNext:e.params.allowSlideNext,allowSlidePrev:e.params.allowSlidePrev}),_&&!b?e.disable():!_&&b&&e.enable(),e.currentBreakpoint=d,e.emit('_beforeBreakpoint',u),i&&(v?(e.loopDestroy(),e.loopCreate(t),e.updateSlides()):!w&&E?(e.loopCreate(t),e.updateSlides()):w&&!E&&e.loopDestroy()),e.emit('breakpoint',u)},getBreakpoint:function(e,t,i){if(void 0===t&&(t='window'),!e||'container'===t&&!i)return;let n=!1;const s=l(),r='window'===t?s.innerHeight:i.clientHeight,a=Object.keys(e).map((e=>{if('string'==typeof e&&0===e.indexOf('@')){const t=parseFloat(e.substr(1));return{value:r*t,point:e}}return{value:e,point:e}}));a.sort(((e,t)=>parseInt(e.value,10)-parseInt(t.value,10)));for(let e=0;e<a.length;e+=1){const{point:r,value:o}=a[e];'window'===t?s.matchMedia(`(min-width: ${o}px)`).matches&&(n=r):o<=i.clientWidth&&(n=r)}return n||'max'}};var se={init:!0,direction:'horizontal',oneWayMovement:!1,swiperElementNodeName:'SWIPER-CONTAINER',touchEventsTarget:'wrapper',initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:'swiper',enabled:!0,focusableElements:'input, select, option, textarea, button, video, label',width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:'slide',breakpoints:void 0,breakpointsBase:'window',spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:'swiper-no-swiping',noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:'swiper-',slideClass:'swiper-slide',slideBlankClass:'swiper-slide-blank',slideActiveClass:'swiper-slide-active',slideVisibleClass:'swiper-slide-visible',slideFullyVisibleClass:'swiper-slide-fully-visible',slideNextClass:'swiper-slide-next',slidePrevClass:'swiper-slide-prev',wrapperClass:'swiper-wrapper',lazyPreloaderClass:'swiper-lazy-preloader',lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function re(e,t){return function(i){void 0===i&&(i={});const n=Object.keys(i)[0],s=i[n];'object'==typeof s&&null!==s?(!0===e[n]&&(e[n]={enabled:!0}),'navigation'===n&&e[n]&&e[n].enabled&&!e[n].prevEl&&!e[n].nextEl&&(e[n].auto=!0),['pagination','scrollbar'].indexOf(n)>=0&&e[n]&&e[n].enabled&&!e[n].el&&(e[n].auto=!0),n in e&&'enabled'in s?('object'!=typeof e[n]||'enabled'in e[n]||(e[n].enabled=!0),e[n]||(e[n]={enabled:!1}),m(t,i)):m(t,i)):m(t,i)}}const ae={eventsEmitter:M,update:j,translate:$,transition:{setTransition:function(e,t){const i=this;i.params.cssMode||(i.wrapperEl.style.transitionDuration=`${e}ms`,i.wrapperEl.style.transitionDelay=0===e?'0ms':''),i.emit('setTransition',e,t)},transitionStart:function(e,t){void 0===e&&(e=!0);const i=this,{params:n}=i;n.cssMode||(n.autoHeight&&i.updateAutoHeight(),H({swiper:i,runCallbacks:e,direction:t,step:'Start'}))},transitionEnd:function(e,t){void 0===e&&(e=!0);const i=this,{params:n}=i;i.animating=!1,n.cssMode||(i.setTransition(0),H({swiper:i,runCallbacks:e,direction:t,step:'End'}))}},slide:F,loop:z,grabCursor:{setGrabCursor:function(e){const t=this;if(!t.params.simulateTouch||t.params.watchOverflow&&t.isLocked||t.params.cssMode)return;const i='container'===t.params.touchEventsTarget?t.el:t.wrapperEl;t.isElement&&(t.__preventObserver__=!0),i.style.cursor='move',i.style.cursor=e?'grabbing':'grab',t.isElement&&requestAnimationFrame((()=>{t.__preventObserver__=!1}))},unsetGrabCursor:function(){const e=this;e.params.watchOverflow&&e.isLocked||e.params.cssMode||(e.isElement&&(e.__preventObserver__=!0),e['container'===e.params.touchEventsTarget?'el':'wrapperEl'].style.cursor='',e.isElement&&requestAnimationFrame((()=>{e.__preventObserver__=!1})))}},events:{attachEvents:function(){const e=this,{params:t}=e;e.onTouchStart=Y.bind(e),e.onTouchMove=Q.bind(e),e.onTouchEnd=K.bind(e),e.onDocumentTouchStart=ee.bind(e),t.cssMode&&(e.onScroll=Z.bind(e)),e.onClick=X.bind(e),e.onLoad=J.bind(e),te(e,'on')},detachEvents:function(){te(this,'off')}},breakpoints:ne,checkOverflow:{checkOverflow:function(){const e=this,{isLocked:t,params:i}=e,{slidesOffsetBefore:n}=i;if(n){const t=e.slides.length-1,i=e.slidesGrid[t]+e.slidesSizesGrid[t]+2*n;e.isLocked=e.size>i}else e.isLocked=1===e.snapGrid.length;!0===i.allowSlideNext&&(e.allowSlideNext=!e.isLocked),!0===i.allowSlidePrev&&(e.allowSlidePrev=!e.isLocked),t&&t!==e.isLocked&&(e.isEnd=!1),t!==e.isLocked&&e.emit(e.isLocked?'lock':'unlock')}},classes:{addClasses:function(){const e=this,{classNames:t,params:i,rtl:n,el:s,device:r}=e,a=function(e,t){const i=[];return e.forEach((e=>{'object'==typeof e?Object.keys(e).forEach((n=>{e[n]&&i.push(t+n)})):'string'==typeof e&&i.push(t+e)})),i}(['initialized',i.direction,{'free-mode':e.params.freeMode&&i.freeMode.enabled},{autoheight:i.autoHeight},{rtl:n},{grid:i.grid&&i.grid.rows>1},{'grid-column':i.grid&&i.grid.rows>1&&'column'===i.grid.fill},{android:r.android},{ios:r.ios},{'css-mode':i.cssMode},{centered:i.cssMode&&i.centeredSlides},{'watch-progress':i.watchSlidesProgress}],i.containerModifierClass);t.push(...a),s.classList.add(...t),e.emitContainerClasses()},removeClasses:function(){const{el:e,classNames:t}=this;e&&'string'!=typeof e&&(e.classList.remove(...t),this.emitContainerClasses())}}},oe={};class le{constructor(){let e,t;for(var i=arguments.length,n=new Array(i),s=0;s<i;s++)n[s]=arguments[s];1===n.length&&n[0].constructor&&'Object'===Object.prototype.toString.call(n[0]).slice(8,-1)?t=n[0]:[e,t]=n,t||(t={}),t=m({},t),e&&!t.el&&(t.el=e);const r=a();if(t.el&&'string'==typeof t.el&&r.querySelectorAll(t.el).length>1){const e=[];return r.querySelectorAll(t.el).forEach((i=>{const n=m({},t,{el:i});e.push(new le(n))})),e}const o=this;o.__swiper__=!0,o.support=x(),o.device=R({userAgent:t.userAgent}),o.browser=D(),o.eventsListeners={},o.eventsAnyListeners=[],o.modules=[...o.__modules__],t.modules&&Array.isArray(t.modules)&&o.modules.push(...t.modules);const l={};o.modules.forEach((e=>{e({params:t,swiper:o,extendParams:re(t,l),on:o.on.bind(o),once:o.once.bind(o),off:o.off.bind(o),emit:o.emit.bind(o)})}));const c=m({},se,l);return o.params=m({},c,oe,t),o.originalParams=m({},o.params),o.passedParams=m({},t),o.params&&o.params.on&&Object.keys(o.params.on).forEach((e=>{o.on(e,o.params.on[e])})),o.params&&o.params.onAny&&o.onAny(o.params.onAny),Object.assign(o,{enabled:o.params.enabled,el:e,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal:()=>'horizontal'===o.params.direction,isVertical:()=>'vertical'===o.params.direction,activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:o.params.allowSlideNext,allowSlidePrev:o.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:o.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:o.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),o.emit('_swiper'),o.params.init&&o.init(),o}getDirectionLabel(e){return this.isHorizontal()?e:{width:'height','margin-top':'margin-left','margin-bottom ':'margin-right','margin-left':'margin-top','margin-right':'margin-bottom','padding-left':'padding-top','padding-right':'padding-bottom',marginRight:'marginBottom'}[e]}getSlideIndex(e){const{slidesEl:t,params:i}=this,n=S(y(t,`.${i.slideClass}, swiper-slide`)[0]);return S(e)-n}getSlideIndexByData(e){return this.getSlideIndex(this.slides.find((t=>1*t.getAttribute('data-swiper-slide-index')===e)))}recalcSlides(){const{slidesEl:e,params:t}=this;this.slides=y(e,`.${t.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit('enable'))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit('disable'))}setProgress(e,t){const i=this;e=Math.min(Math.max(e,0),1);const n=i.minTranslate(),s=(i.maxTranslate()-n)*e+n;i.translateTo(s,void 0===t?0:t),i.updateActiveIndex(),i.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=e.el.className.split(' ').filter((t=>0===t.indexOf('swiper')||0===t.indexOf(e.params.containerModifierClass)));e.emit('_containerClasses',t.join(' '))}getSlideClasses(e){const t=this;return t.destroyed?'':e.className.split(' ').filter((e=>0===e.indexOf('swiper-slide')||0===e.indexOf(t.params.slideClass))).join(' ')}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=[];e.slides.forEach((i=>{const n=e.getSlideClasses(i);t.push({slideEl:i,classNames:n}),e.emit('_slideClass',i,n)})),e.emit('_slideClasses',t)}slidesPerViewDynamic(e,t){void 0===e&&(e='current'),void 0===t&&(t=!1);const{params:i,slides:n,slidesGrid:s,slidesSizesGrid:r,size:a,activeIndex:o}=this;let l=1;if('number'==typeof i.slidesPerView)return i.slidesPerView;if(i.centeredSlides){let e,t=n[o]?Math.ceil(n[o].swiperSlideSize):0;for(let i=o+1;i<n.length;i+=1)n[i]&&!e&&(t+=Math.ceil(n[i].swiperSlideSize),l+=1,t>a&&(e=!0));for(let i=o-1;i>=0;i-=1)n[i]&&!e&&(t+=n[i].swiperSlideSize,l+=1,t>a&&(e=!0))}else if('current'===e)for(let e=o+1;e<n.length;e+=1){(t?s[e]+r[e]-s[o]<a:s[e]-s[o]<a)&&(l+=1)}else for(let e=o-1;e>=0;e-=1){s[o]-s[e]<a&&(l+=1)}return l}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:t,params:i}=e;function n(){const t=e.rtlTranslate?-1*e.translate:e.translate,i=Math.min(Math.max(t,e.maxTranslate()),e.minTranslate());e.setTranslate(i),e.updateActiveIndex(),e.updateSlidesClasses()}let s;if(i.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach((t=>{t.complete&&U(e,t)})),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses(),i.freeMode&&i.freeMode.enabled&&!i.cssMode)n(),i.autoHeight&&e.updateAutoHeight();else{if(('auto'===i.slidesPerView||i.slidesPerView>1)&&e.isEnd&&!i.centeredSlides){const t=e.virtual&&i.virtual.enabled?e.virtual.slides:e.slides;s=e.slideTo(t.length-1,0,!1,!0)}else s=e.slideTo(e.activeIndex,0,!1,!0);s||n()}i.watchOverflow&&t!==e.snapGrid&&e.checkOverflow(),e.emit('update')}changeDirection(e,t){void 0===t&&(t=!0);const i=this,n=i.params.direction;return e||(e='horizontal'===n?'vertical':'horizontal'),e===n||'horizontal'!==e&&'vertical'!==e||(i.el.classList.remove(`${i.params.containerModifierClass}${n}`),i.el.classList.add(`${i.params.containerModifierClass}${e}`),i.emitContainerClasses(),i.params.direction=e,i.slides.forEach((t=>{'vertical'===e?t.style.width='':t.style.height=''})),i.emit('changeDirection'),t&&i.update()),i}changeLanguageDirection(e){const t=this;t.rtl&&'rtl'===e||!t.rtl&&'ltr'===e||(t.rtl='rtl'===e,t.rtlTranslate='horizontal'===t.params.direction&&t.rtl,t.rtl?(t.el.classList.add(`${t.params.containerModifierClass}rtl`),t.el.dir='rtl'):(t.el.classList.remove(`${t.params.containerModifierClass}rtl`),t.el.dir='ltr'),t.update())}mount(e){const t=this;if(t.mounted)return!0;let i=e||t.params.el;if('string'==typeof i&&(i=document.querySelector(i)),!i)return!1;i.swiper=t,i.parentNode&&i.parentNode.host&&i.parentNode.host.nodeName===t.params.swiperElementNodeName.toUpperCase()&&(t.isElement=!0);const n=()=>`.${(t.params.wrapperClass||'').trim().split(' ').join('.')}`;let s=(()=>{if(i&&i.shadowRoot&&i.shadowRoot.querySelector){return i.shadowRoot.querySelector(n())}return y(i,n())[0]})();return!s&&t.params.createElements&&(s=w('div',t.params.wrapperClass),i.append(s),y(i,`.${t.params.slideClass}`).forEach((e=>{s.append(e)}))),Object.assign(t,{el:i,wrapperEl:s,slidesEl:t.isElement&&!i.parentNode.host.slideSlots?i.parentNode.host:s,hostEl:t.isElement?i.parentNode.host:i,mounted:!0,rtl:'rtl'===i.dir.toLowerCase()||'rtl'===E(i,'direction'),rtlTranslate:'horizontal'===t.params.direction&&('rtl'===i.dir.toLowerCase()||'rtl'===E(i,'direction')),wrongRTL:'-webkit-box'===E(s,'display')}),!0}init(e){const t=this;if(t.initialized)return t;if(!1===t.mount(e))return t;t.emit('beforeInit'),t.params.breakpoints&&t.setBreakpoint(),t.addClasses(),t.updateSize(),t.updateSlides(),t.params.watchOverflow&&t.checkOverflow(),t.params.grabCursor&&t.enabled&&t.setGrabCursor(),t.params.loop&&t.virtual&&t.params.virtual.enabled?t.slideTo(t.params.initialSlide+t.virtual.slidesBefore,0,t.params.runCallbacksOnInit,!1,!0):t.slideTo(t.params.initialSlide,0,t.params.runCallbacksOnInit,!1,!0),t.params.loop&&t.loopCreate(void 0,!0),t.attachEvents();const i=[...t.el.querySelectorAll('[loading="lazy"]')];return t.isElement&&i.push(...t.hostEl.querySelectorAll('[loading="lazy"]')),i.forEach((e=>{e.complete?U(t,e):e.addEventListener('load',(e=>{U(t,e.target)}))})),W(t),t.initialized=!0,W(t),t.emit('init'),t.emit('afterInit'),t}destroy(e,t){void 0===e&&(e=!0),void 0===t&&(t=!0);const i=this,{params:n,el:s,wrapperEl:r,slides:a}=i;return void 0===i.params||i.destroyed||(i.emit('beforeDestroy'),i.initialized=!1,i.detachEvents(),n.loop&&i.loopDestroy(),t&&(i.removeClasses(),s&&'string'!=typeof s&&s.removeAttribute('style'),r&&r.removeAttribute('style'),a&&a.length&&a.forEach((e=>{e.classList.remove(n.slideVisibleClass,n.slideFullyVisibleClass,n.slideActiveClass,n.slideNextClass,n.slidePrevClass),e.removeAttribute('style'),e.removeAttribute('data-swiper-slide-index')}))),i.emit('destroy'),Object.keys(i.eventsListeners).forEach((e=>{i.off(e)})),!1!==e&&(i.el&&'string'!=typeof i.el&&(i.el.swiper=null),function(e){const t=e;Object.keys(t).forEach((e=>{try{t[e]=null}catch(e){}try{delete t[e]}catch(e){}}))}(i)),i.destroyed=!0),null}static extendDefaults(e){m(oe,e)}static get extendedDefaults(){return oe}static get defaults(){return se}static installModule(e){le.prototype.__modules__||(le.prototype.__modules__=[]);const t=le.prototype.__modules__;'function'==typeof e&&t.indexOf(e)<0&&t.push(e)}static use(e){return Array.isArray(e)?(e.forEach((e=>le.installModule(e))),le):(le.installModule(e),le)}}function ce(e,t,i,n){return e.params.createElements&&Object.keys(n).forEach((s=>{if(!i[s]&&!0===i.auto){let r=y(e.el,`.${n[s]}`)[0];r||(r=w('div',n[s]),r.className=n[s],e.el.append(r)),i[s]=r,t[s]=r}})),i}function de(e){return void 0===e&&(e=''),`.${e.trim().replace(/([\.:!+\/])/g,'\\$1').replace(/ /g,'.')}`}function ue(e){const t=this,{params:i,slidesEl:n}=t;i.loop&&t.loopDestroy();const s=e=>{if('string'==typeof e){const t=document.createElement('div');t.innerHTML=e,n.append(t.children[0]),t.innerHTML=''}else n.append(e)};if('object'==typeof e&&'length'in e)for(let t=0;t<e.length;t+=1)e[t]&&s(e[t]);else s(e);t.recalcSlides(),i.loop&&t.loopCreate(),i.observer&&!t.isElement||t.update()}function pe(e){const t=this,{params:i,activeIndex:n,slidesEl:s}=t;i.loop&&t.loopDestroy();let r=n+1;const a=e=>{if('string'==typeof e){const t=document.createElement('div');t.innerHTML=e,s.prepend(t.children[0]),t.innerHTML=''}else s.prepend(e)};if('object'==typeof e&&'length'in e){for(let t=0;t<e.length;t+=1)e[t]&&a(e[t]);r=n+e.length}else a(e);t.recalcSlides(),i.loop&&t.loopCreate(),i.observer&&!t.isElement||t.update(),t.slideTo(r,0,!1)}function he(e,t){const i=this,{params:n,activeIndex:s,slidesEl:r}=i;let a=s;n.loop&&(a-=i.loopedSlides,i.loopDestroy(),i.recalcSlides());const o=i.slides.length;if(e<=0)return void i.prependSlide(t);if(e>=o)return void i.appendSlide(t);let l=a>e?a+1:a;const c=[];for(let t=o-1;t>=e;t-=1){const e=i.slides[t];e.remove(),c.unshift(e)}if('object'==typeof t&&'length'in t){for(let e=0;e<t.length;e+=1)t[e]&&r.append(t[e]);l=a>e?a+t.length:a}else r.append(t);for(let e=0;e<c.length;e+=1)r.append(c[e]);i.recalcSlides(),n.loop&&i.loopCreate(),n.observer&&!i.isElement||i.update(),n.loop?i.slideTo(l+i.loopedSlides,0,!1):i.slideTo(l,0,!1)}function me(e){const t=this,{params:i,activeIndex:n}=t;let s=n;i.loop&&(s-=t.loopedSlides,t.loopDestroy());let r,a=s;if('object'==typeof e&&'length'in e){for(let i=0;i<e.length;i+=1)r=e[i],t.slides[r]&&t.slides[r].remove(),r<a&&(a-=1);a=Math.max(a,0)}else r=e,t.slides[r]&&t.slides[r].remove(),r<a&&(a-=1),a=Math.max(a,0);t.recalcSlides(),i.loop&&t.loopCreate(),i.observer&&!t.isElement||t.update(),i.loop?t.slideTo(a+t.loopedSlides,0,!1):t.slideTo(a,0,!1)}function fe(){const e=this,t=[];for(let i=0;i<e.slides.length;i+=1)t.push(i);e.removeSlide(t)}function ge(e){const{effect:t,swiper:i,on:n,setTranslate:s,setTransition:r,overwriteParams:a,perspective:o,recreateShadows:l,getEffectParams:c}=e;let d;n('beforeInit',(()=>{if(i.params.effect!==t)return;i.classNames.push(`${i.params.containerModifierClass}${t}`),o&&o()&&i.classNames.push(`${i.params.containerModifierClass}3d`);const e=a?a():{};Object.assign(i.params,e),Object.assign(i.originalParams,e)})),n('setTranslate',(()=>{i.params.effect===t&&s()})),n('setTransition',((e,n)=>{i.params.effect===t&&r(n)})),n('transitionEnd',(()=>{if(i.params.effect===t&&l){if(!c||!c().slideShadows)return;i.slides.forEach((e=>{e.querySelectorAll('.swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left').forEach((e=>e.remove()))})),l()}})),n('virtualUpdate',(()=>{i.params.effect===t&&(i.slides.length||(d=!0),requestAnimationFrame((()=>{d&&i.slides&&i.slides.length&&(s(),d=!1)})))}))}function _e(e,t){const i=_(t);return i!==t&&(i.style.backfaceVisibility='hidden',i.style['-webkit-backface-visibility']='hidden'),i}function ye(e){let{swiper:t,duration:i,transformElements:n,allSlides:s}=e;const{activeIndex:r}=t;if(t.params.virtualTranslate&&0!==i){let e,i=!1;e=s?n:n.filter((e=>{const i=e.classList.contains('swiper-slide-transform')?(e=>{if(!e.parentElement)return t.slides.find((t=>t.shadowRoot&&t.shadowRoot===e.parentNode));return e.parentElement})(e):e;return t.getSlideIndex(i)===r})),e.forEach((e=>{I(e,(()=>{if(i)return;if(!t||t.destroyed)return;i=!0,t.animating=!1;const e=new window.CustomEvent('transitionend',{bubbles:!0,cancelable:!0});t.wrapperEl.dispatchEvent(e)}))}))}}function ve(e,t,i){const n=`swiper-slide-shadow${i?`-${i}`:''}${e?` swiper-slide-shadow-${e}`:''}`,s=_(t);let r=s.querySelector(`.${n.split(' ').join('.')}`);return r||(r=w('div',n.split(' ')),s.append(r)),r}Object.keys(ae).forEach((e=>{Object.keys(ae[e]).forEach((t=>{le.prototype[t]=ae[e][t]}))})),le.use([function(e){let{swiper:t,on:i,emit:n}=e;const s=l();let r=null,a=null;const o=()=>{t&&!t.destroyed&&t.initialized&&(n('beforeResize'),n('resize'))},c=()=>{t&&!t.destroyed&&t.initialized&&n('orientationchange')};i('init',(()=>{t.params.resizeObserver&&void 0!==s.ResizeObserver?t&&!t.destroyed&&t.initialized&&(r=new ResizeObserver((e=>{a=s.requestAnimationFrame((()=>{const{width:i,height:n}=t;let s=i,r=n;e.forEach((e=>{let{contentBoxSize:i,contentRect:n,target:a}=e;a&&a!==t.el||(s=n?n.width:(i[0]||i).inlineSize,r=n?n.height:(i[0]||i).blockSize)})),s===i&&r===n||o()}))})),r.observe(t.el)):(s.addEventListener('resize',o),s.addEventListener('orientationchange',c))})),i('destroy',(()=>{a&&s.cancelAnimationFrame(a),r&&r.unobserve&&t.el&&(r.unobserve(t.el),r=null),s.removeEventListener('resize',o),s.removeEventListener('orientationchange',c)}))},function(e){let{swiper:t,extendParams:i,on:n,emit:s}=e;const r=[],a=l(),o=function(e,i){void 0===i&&(i={});const n=new(a.MutationObserver||a.WebkitMutationObserver)((e=>{if(t.__preventObserver__)return;if(1===e.length)return void s('observerUpdate',e[0]);const i=function(){s('observerUpdate',e[0])};a.requestAnimationFrame?a.requestAnimationFrame(i):a.setTimeout(i,0)}));n.observe(e,{attributes:void 0===i.attributes||i.attributes,childList:t.isElement||(void 0===i.childList||i).childList,characterData:void 0===i.characterData||i.characterData}),r.push(n)};i({observer:!1,observeParents:!1,observeSlideChildren:!1}),n('init',(()=>{if(t.params.observer){if(t.params.observeParents){const e=T(t.hostEl);for(let t=0;t<e.length;t+=1)o(e[t])}o(t.hostEl,{childList:t.params.observeSlideChildren}),o(t.wrapperEl,{attributes:!1})}})),n('destroy',(()=>{r.forEach((e=>{e.disconnect()})),r.splice(0,r.length)}))}]);const we=[function(e){let t,{swiper:i,extendParams:n,on:s,emit:r}=e;n({virtual:{enabled:!1,slides:[],cache:!0,renderSlide:null,renderExternal:null,renderExternalUpdate:!0,addSlidesBefore:0,addSlidesAfter:0}});const o=a();i.virtual={cache:{},from:void 0,to:void 0,slides:[],offset:0,slidesGrid:[]};const l=o.createElement('div');function c(e,t){const n=i.params.virtual;if(n.cache&&i.virtual.cache[t])return i.virtual.cache[t];let s;return n.renderSlide?(s=n.renderSlide.call(i,e,t),'string'==typeof s&&(l.innerHTML=s,s=l.children[0])):s=i.isElement?w('swiper-slide'):w('div',i.params.slideClass),s.setAttribute('data-swiper-slide-index',t),n.renderSlide||(s.innerHTML=e),n.cache&&(i.virtual.cache[t]=s),s}function d(e,t,n){const{slidesPerView:s,slidesPerGroup:a,centeredSlides:o,loop:l,initialSlide:d}=i.params;if(t&&!l&&d>0)return;const{addSlidesBefore:u,addSlidesAfter:p}=i.params.virtual,{from:h,to:m,slides:f,slidesGrid:g,offset:_}=i.virtual;i.params.cssMode||i.updateActiveIndex();const v=void 0===n?i.activeIndex||0:n;let w,b,E;w=i.rtlTranslate?'right':i.isHorizontal()?'left':'top',o?(b=Math.floor(s/2)+a+p,E=Math.floor(s/2)+a+u):(b=s+(a-1)+p,E=(l?s:a)+u);let S=v-E,T=v+b;l||(S=Math.max(S,0),T=Math.min(T,f.length-1));let I=(i.slidesGrid[S]||0)-(i.slidesGrid[0]||0);function A(){i.updateSlides(),i.updateProgress(),i.updateSlidesClasses(),r('virtualUpdate')}if(l&&v>=E?(S-=E,o||(I+=i.slidesGrid[0])):l&&v<E&&(S=-E,o&&(I+=i.slidesGrid[0])),Object.assign(i.virtual,{from:S,to:T,offset:I,slidesGrid:i.slidesGrid,slidesBefore:E,slidesAfter:b}),h===S&&m===T&&!e)return i.slidesGrid!==g&&I!==_&&i.slides.forEach((e=>{e.style[w]=I-Math.abs(i.cssOverflowAdjustment())+'px'})),i.updateProgress(),void r('virtualUpdate');if(i.params.virtual.renderExternal)return i.params.virtual.renderExternal.call(i,{offset:I,from:S,to:T,slides:function(){const e=[];for(let t=S;t<=T;t+=1)e.push(f[t]);return e}()}),void(i.params.virtual.renderExternalUpdate?A():r('virtualUpdate'));const C=[],O=[],P=e=>{let t=e;return e<0?t=f.length+e:t>=f.length&&(t-=f.length),t};if(e)i.slides.filter((e=>e.matches(`.${i.params.slideClass}, swiper-slide`))).forEach((e=>{e.remove()}));else for(let e=h;e<=m;e+=1)if(e<S||e>T){const t=P(e);i.slides.filter((e=>e.matches(`.${i.params.slideClass}[data-swiper-slide-index="${t}"], swiper-slide[data-swiper-slide-index="${t}"]`))).forEach((e=>{e.remove()}))}const N=l?-f.length:0,L=l?2*f.length:f.length;for(let t=N;t<L;t+=1)if(t>=S&&t<=T){const i=P(t);void 0===m||e?O.push(i):(t>m&&O.push(i),t<h&&C.push(i))}if(O.forEach((e=>{i.slidesEl.append(c(f[e],e))})),l)for(let e=C.length-1;e>=0;e-=1){const t=C[e];i.slidesEl.prepend(c(f[t],t))}else C.sort(((e,t)=>t-e)),C.forEach((e=>{i.slidesEl.prepend(c(f[e],e))}));y(i.slidesEl,'.swiper-slide, swiper-slide').forEach((e=>{e.style[w]=I-Math.abs(i.cssOverflowAdjustment())+'px'})),A()}s('beforeInit',(()=>{if(!i.params.virtual.enabled)return;let e;if(void 0===i.passedParams.virtual.slides){const t=[...i.slidesEl.children].filter((e=>e.matches(`.${i.params.slideClass}, swiper-slide`)));t&&t.length&&(i.virtual.slides=[...t],e=!0,t.forEach(((e,t)=>{e.setAttribute('data-swiper-slide-index',t),i.virtual.cache[t]=e,e.remove()})))}e||(i.virtual.slides=i.params.virtual.slides),i.classNames.push(`${i.params.containerModifierClass}virtual`),i.params.watchSlidesProgress=!0,i.originalParams.watchSlidesProgress=!0,d(!1,!0)})),s('setTranslate',(()=>{i.params.virtual.enabled&&(i.params.cssMode&&!i._immediateVirtual?(clearTimeout(t),t=setTimeout((()=>{d()}),100)):d())})),s('init update resize',(()=>{i.params.virtual.enabled&&i.params.cssMode&&f(i.wrapperEl,'--swiper-virtual-size',`${i.virtualSize}px`)})),Object.assign(i.virtual,{appendSlide:function(e){if('object'==typeof e&&'length'in e)for(let t=0;t<e.length;t+=1)e[t]&&i.virtual.slides.push(e[t]);else i.virtual.slides.push(e);d(!0)},prependSlide:function(e){const t=i.activeIndex;let n=t+1,s=1;if(Array.isArray(e)){for(let t=0;t<e.length;t+=1)e[t]&&i.virtual.slides.unshift(e[t]);n=t+e.length,s=e.length}else i.virtual.slides.unshift(e);if(i.params.virtual.cache){const e=i.virtual.cache,t={};Object.keys(e).forEach((i=>{const n=e[i],r=n.getAttribute('data-swiper-slide-index');r&&n.setAttribute('data-swiper-slide-index',parseInt(r,10)+s),t[parseInt(i,10)+s]=n})),i.virtual.cache=t}d(!0),i.slideTo(n,0)},removeSlide:function(e){if(null==e)return;let t=i.activeIndex;if(Array.isArray(e))for(let n=e.length-1;n>=0;n-=1)i.params.virtual.cache&&(delete i.virtual.cache[e[n]],Object.keys(i.virtual.cache).forEach((t=>{t>e&&(i.virtual.cache[t-1]=i.virtual.cache[t],i.virtual.cache[t-1].setAttribute('data-swiper-slide-index',t-1),delete i.virtual.cache[t])}))),i.virtual.slides.splice(e[n],1),e[n]<t&&(t-=1),t=Math.max(t,0);else i.params.virtual.cache&&(delete i.virtual.cache[e],Object.keys(i.virtual.cache).forEach((t=>{t>e&&(i.virtual.cache[t-1]=i.virtual.cache[t],i.virtual.cache[t-1].setAttribute('data-swiper-slide-index',t-1),delete i.virtual.cache[t])}))),i.virtual.slides.splice(e,1),e<t&&(t-=1),t=Math.max(t,0);d(!0),i.slideTo(t,0)},removeAllSlides:function(){i.virtual.slides=[],i.params.virtual.cache&&(i.virtual.cache={}),d(!0),i.slideTo(0,0)},update:d})},function(e){let{swiper:t,extendParams:i,on:n,emit:s}=e;const r=a(),o=l();function c(e){if(!t.enabled)return;const{rtlTranslate:i}=t;let n=e;n.originalEvent&&(n=n.originalEvent);const a=n.keyCode||n.charCode,l=t.params.keyboard.pageUpDown,c=l&&33===a,d=l&&34===a,u=37===a,p=39===a,h=38===a,m=40===a;if(!t.allowSlideNext&&(t.isHorizontal()&&p||t.isVertical()&&m||d))return!1;if(!t.allowSlidePrev&&(t.isHorizontal()&&u||t.isVertical()&&h||c))return!1;if(!(n.shiftKey||n.altKey||n.ctrlKey||n.metaKey||r.activeElement&&r.activeElement.nodeName&&('input'===r.activeElement.nodeName.toLowerCase()||'textarea'===r.activeElement.nodeName.toLowerCase()))){if(t.params.keyboard.onlyInViewport&&(c||d||u||p||h||m)){let e=!1;if(T(t.el,`.${t.params.slideClass}, swiper-slide`).length>0&&0===T(t.el,`.${t.params.slideActiveClass}`).length)return;const n=t.el,s=n.clientWidth,r=n.clientHeight,a=o.innerWidth,l=o.innerHeight,c=b(n);i&&(c.left-=n.scrollLeft);const d=[[c.left,c.top],[c.left+s,c.top],[c.left,c.top+r],[c.left+s,c.top+r]];for(let t=0;t<d.length;t+=1){const i=d[t];if(i[0]>=0&&i[0]<=a&&i[1]>=0&&i[1]<=l){if(0===i[0]&&0===i[1])continue;e=!0}}if(!e)return}t.isHorizontal()?((c||d||u||p)&&(n.preventDefault?n.preventDefault():n.returnValue=!1),((d||p)&&!i||(c||u)&&i)&&t.slideNext(),((c||u)&&!i||(d||p)&&i)&&t.slidePrev()):((c||d||h||m)&&(n.preventDefault?n.preventDefault():n.returnValue=!1),(d||m)&&t.slideNext(),(c||h)&&t.slidePrev()),s('keyPress',a)}}function d(){t.keyboard.enabled||(r.addEventListener('keydown',c),t.keyboard.enabled=!0)}function u(){t.keyboard.enabled&&(r.removeEventListener('keydown',c),t.keyboard.enabled=!1)}t.keyboard={enabled:!1},i({keyboard:{enabled:!1,onlyInViewport:!0,pageUpDown:!0}}),n('init',(()=>{t.params.keyboard.enabled&&d()})),n('destroy',(()=>{t.keyboard.enabled&&u()})),Object.assign(t.keyboard,{enable:d,disable:u})},function(e){let{swiper:t,extendParams:i,on:n,emit:s}=e;const r=l();let a;i({mousewheel:{enabled:!1,releaseOnEdges:!1,invert:!1,forceToAxis:!1,sensitivity:1,eventsTarget:'container',thresholdDelta:null,thresholdTime:null,noMousewheelClass:'swiper-no-mousewheel'}}),t.mousewheel={enabled:!1};let o,c=u();const p=[];function h(){t.enabled&&(t.mouseEntered=!0)}function m(){t.enabled&&(t.mouseEntered=!1)}function f(e){return!(t.params.mousewheel.thresholdDelta&&e.delta<t.params.mousewheel.thresholdDelta)&&(!(t.params.mousewheel.thresholdTime&&u()-c<t.params.mousewheel.thresholdTime)&&(e.delta>=6&&u()-c<60||(e.direction<0?t.isEnd&&!t.params.loop||t.animating||(t.slideNext(),s('scroll',e.raw)):t.isBeginning&&!t.params.loop||t.animating||(t.slidePrev(),s('scroll',e.raw)),c=(new r.Date).getTime(),!1)))}function g(e){let i=e,n=!0;if(!t.enabled)return;if(e.target.closest(`.${t.params.mousewheel.noMousewheelClass}`))return;const r=t.params.mousewheel;t.params.cssMode&&i.preventDefault();let l=t.el;'container'!==t.params.mousewheel.eventsTarget&&(l=document.querySelector(t.params.mousewheel.eventsTarget));const c=l&&l.contains(i.target);if(!t.mouseEntered&&!c&&!r.releaseOnEdges)return!0;i.originalEvent&&(i=i.originalEvent);let h=0;const m=t.rtlTranslate?-1:1,g=function(e){let t=0,i=0,n=0,s=0;return'detail'in e&&(i=e.detail),'wheelDelta'in e&&(i=-e.wheelDelta/120),'wheelDeltaY'in e&&(i=-e.wheelDeltaY/120),'wheelDeltaX'in e&&(t=-e.wheelDeltaX/120),'axis'in e&&e.axis===e.HORIZONTAL_AXIS&&(t=i,i=0),n=10*t,s=10*i,'deltaY'in e&&(s=e.deltaY),'deltaX'in e&&(n=e.deltaX),e.shiftKey&&!n&&(n=s,s=0),(n||s)&&e.deltaMode&&(1===e.deltaMode?(n*=40,s*=40):(n*=800,s*=800)),n&&!t&&(t=n<1?-1:1),s&&!i&&(i=s<1?-1:1),{spinX:t,spinY:i,pixelX:n,pixelY:s}}(i);if(r.forceToAxis)if(t.isHorizontal()){if(!(Math.abs(g.pixelX)>Math.abs(g.pixelY)))return!0;h=-g.pixelX*m}else{if(!(Math.abs(g.pixelY)>Math.abs(g.pixelX)))return!0;h=-g.pixelY}else h=Math.abs(g.pixelX)>Math.abs(g.pixelY)?-g.pixelX*m:-g.pixelY;if(0===h)return!0;r.invert&&(h=-h);let _=t.getTranslate()+h*r.sensitivity;if(_>=t.minTranslate()&&(_=t.minTranslate()),_<=t.maxTranslate()&&(_=t.maxTranslate()),n=!!t.params.loop||!(_===t.minTranslate()||_===t.maxTranslate()),n&&t.params.nested&&i.stopPropagation(),t.params.freeMode&&t.params.freeMode.enabled){const e={time:u(),delta:Math.abs(h),direction:Math.sign(h)},n=o&&e.time<o.time+500&&e.delta<=o.delta&&e.direction===o.direction;if(!n){o=void 0;let l=t.getTranslate()+h*r.sensitivity;const c=t.isBeginning,u=t.isEnd;if(l>=t.minTranslate()&&(l=t.minTranslate()),l<=t.maxTranslate()&&(l=t.maxTranslate()),t.setTransition(0),t.setTranslate(l),t.updateProgress(),t.updateActiveIndex(),t.updateSlidesClasses(),(!c&&t.isBeginning||!u&&t.isEnd)&&t.updateSlidesClasses(),t.params.loop&&t.loopFix({direction:e.direction<0?'next':'prev',byMousewheel:!0}),t.params.freeMode.sticky){clearTimeout(a),a=void 0,p.length>=15&&p.shift();const i=p.length?p[p.length-1]:void 0,n=p[0];if(p.push(e),i&&(e.delta>i.delta||e.direction!==i.direction))p.splice(0);else if(p.length>=15&&e.time-n.time<500&&n.delta-e.delta>=1&&e.delta<=6){const i=h>0?.8:.2;o=e,p.splice(0),a=d((()=>{!t.destroyed&&t.params&&t.slideToClosest(t.params.speed,!0,void 0,i)}),0)}a||(a=d((()=>{if(t.destroyed||!t.params)return;o=e,p.splice(0),t.slideToClosest(t.params.speed,!0,void 0,.5)}),500))}if(n||s('scroll',i),t.params.autoplay&&t.params.autoplay.disableOnInteraction&&t.autoplay.stop(),r.releaseOnEdges&&(l===t.minTranslate()||l===t.maxTranslate()))return!0}}else{const i={time:u(),delta:Math.abs(h),direction:Math.sign(h),raw:e};p.length>=2&&p.shift();const n=p.length?p[p.length-1]:void 0;if(p.push(i),n?(i.direction!==n.direction||i.delta>n.delta||i.time>n.time+150)&&f(i):f(i),function(e){const i=t.params.mousewheel;if(e.direction<0){if(t.isEnd&&!t.params.loop&&i.releaseOnEdges)return!0}else if(t.isBeginning&&!t.params.loop&&i.releaseOnEdges)return!0;return!1}(i))return!0}return i.preventDefault?i.preventDefault():i.returnValue=!1,!1}function _(e){let i=t.el;'container'!==t.params.mousewheel.eventsTarget&&(i=document.querySelector(t.params.mousewheel.eventsTarget)),i[e]('mouseenter',h),i[e]('mouseleave',m),i[e]('wheel',g)}function y(){return t.params.cssMode?(t.wrapperEl.removeEventListener('wheel',g),!0):!t.mousewheel.enabled&&(_('addEventListener'),t.mousewheel.enabled=!0,!0)}function v(){return t.params.cssMode?(t.wrapperEl.addEventListener(event,g),!0):!!t.mousewheel.enabled&&(_('removeEventListener'),t.mousewheel.enabled=!1,!0)}n('init',(()=>{!t.params.mousewheel.enabled&&t.params.cssMode&&v(),t.params.mousewheel.enabled&&y()})),n('destroy',(()=>{t.params.cssMode&&y(),t.mousewheel.enabled&&v()})),Object.assign(t.mousewheel,{enable:y,disable:v})},function(e){let{swiper:t,extendParams:i,on:n,emit:s}=e;function r(e){let i;return e&&'string'==typeof e&&t.isElement&&(i=t.el.querySelector(e)||t.hostEl.querySelector(e),i)?i:(e&&('string'==typeof e&&(i=[...document.querySelectorAll(e)]),t.params.uniqueNavElements&&'string'==typeof e&&i&&i.length>1&&1===t.el.querySelectorAll(e).length?i=t.el.querySelector(e):i&&1===i.length&&(i=i[0])),e&&!i?e:i)}function a(e,i){const n=t.params.navigation;(e=C(e)).forEach((e=>{e&&(e.classList[i?'add':'remove'](...n.disabledClass.split(' ')),'BUTTON'===e.tagName&&(e.disabled=i),t.params.watchOverflow&&t.enabled&&e.classList[t.isLocked?'add':'remove'](n.lockClass))}))}function o(){const{nextEl:e,prevEl:i}=t.navigation;if(t.params.loop)return a(i,!1),void a(e,!1);a(i,t.isBeginning&&!t.params.rewind),a(e,t.isEnd&&!t.params.rewind)}function l(e){e.preventDefault(),(!t.isBeginning||t.params.loop||t.params.rewind)&&(t.slidePrev(),s('navigationPrev'))}function c(e){e.preventDefault(),(!t.isEnd||t.params.loop||t.params.rewind)&&(t.slideNext(),s('navigationNext'))}function d(){const e=t.params.navigation;if(t.params.navigation=ce(t,t.originalParams.navigation,t.params.navigation,{nextEl:'swiper-button-next',prevEl:'swiper-button-prev'}),!e.nextEl&&!e.prevEl)return;let i=r(e.nextEl),n=r(e.prevEl);Object.assign(t.navigation,{nextEl:i,prevEl:n}),i=C(i),n=C(n);const s=(i,n)=>{i&&i.addEventListener('click','next'===n?c:l),!t.enabled&&i&&i.classList.add(...e.lockClass.split(' '))};i.forEach((e=>s(e,'next'))),n.forEach((e=>s(e,'prev')))}function u(){let{nextEl:e,prevEl:i}=t.navigation;e=C(e),i=C(i);const n=(e,i)=>{e.removeEventListener('click','next'===i?c:l),e.classList.remove(...t.params.navigation.disabledClass.split(' '))};e.forEach((e=>n(e,'next'))),i.forEach((e=>n(e,'prev')))}i({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:'swiper-button-disabled',hiddenClass:'swiper-button-hidden',lockClass:'swiper-button-lock',navigationDisabledClass:'swiper-navigation-disabled'}}),t.navigation={nextEl:null,prevEl:null},n('init',(()=>{!1===t.params.navigation.enabled?p():(d(),o())})),n('toEdge fromEdge lock unlock',(()=>{o()})),n('destroy',(()=>{u()})),n('enable disable',(()=>{let{nextEl:e,prevEl:i}=t.navigation;e=C(e),i=C(i),t.enabled?o():[...e,...i].filter((e=>!!e)).forEach((e=>e.classList.add(t.params.navigation.lockClass)))})),n('click',((e,i)=>{let{nextEl:n,prevEl:r}=t.navigation;n=C(n),r=C(r);const a=i.target;let o=r.includes(a)||n.includes(a);if(t.isElement&&!o){const e=i.path||i.composedPath&&i.composedPath();e&&(o=e.find((e=>n.includes(e)||r.includes(e))))}if(t.params.navigation.hideOnClick&&!o){if(t.pagination&&t.params.pagination&&t.params.pagination.clickable&&(t.pagination.el===a||t.pagination.el.contains(a)))return;let e;n.length?e=n[0].classList.contains(t.params.navigation.hiddenClass):r.length&&(e=r[0].classList.contains(t.params.navigation.hiddenClass)),s(!0===e?'navigationShow':'navigationHide'),[...n,...r].filter((e=>!!e)).forEach((e=>e.classList.toggle(t.params.navigation.hiddenClass)))}}));const p=()=>{t.el.classList.add(...t.params.navigation.navigationDisabledClass.split(' ')),u()};Object.assign(t.navigation,{enable:()=>{t.el.classList.remove(...t.params.navigation.navigationDisabledClass.split(' ')),d(),o()},disable:p,update:o,init:d,destroy:u})},function(e){let{swiper:t,extendParams:i,on:n,emit:s}=e;const r='swiper-pagination';let a;i({pagination:{el:null,bulletElement:'span',clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:'bullets',dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:e=>e,formatFractionTotal:e=>e,bulletClass:`${r}-bullet`,bulletActiveClass:`${r}-bullet-active`,modifierClass:`${r}-`,currentClass:`${r}-current`,totalClass:`${r}-total`,hiddenClass:`${r}-hidden`,progressbarFillClass:`${r}-progressbar-fill`,progressbarOppositeClass:`${r}-progressbar-opposite`,clickableClass:`${r}-clickable`,lockClass:`${r}-lock`,horizontalClass:`${r}-horizontal`,verticalClass:`${r}-vertical`,paginationDisabledClass:`${r}-disabled`}}),t.pagination={el:null,bullets:[]};let o=0;function l(){return!t.params.pagination.el||!t.pagination.el||Array.isArray(t.pagination.el)&&0===t.pagination.el.length}function c(e,i){const{bulletActiveClass:n}=t.params.pagination;e&&(e=e[('prev'===i?'previous':'next')+'ElementSibling'])&&(e.classList.add(`${n}-${i}`),(e=e[('prev'===i?'previous':'next')+'ElementSibling'])&&e.classList.add(`${n}-${i}-${i}`))}function d(e){const i=e.target.closest(de(t.params.pagination.bulletClass));if(!i)return;e.preventDefault();const n=S(i)*t.params.slidesPerGroup;if(t.params.loop){if(t.realIndex===n)return;const e=(s=t.realIndex,r=n,a=t.slides.length,(r%=a)==1+(s%=a)?'next':r===s-1?'previous':void 0);'next'===e?t.slideNext():'previous'===e?t.slidePrev():t.slideToLoop(n)}else t.slideTo(n);var s,r,a}function u(){const e=t.rtl,i=t.params.pagination;if(l())return;let n,r,d=t.pagination.el;d=C(d);const u=t.virtual&&t.params.virtual.enabled?t.virtual.slides.length:t.slides.length,p=t.params.loop?Math.ceil(u/t.params.slidesPerGroup):t.snapGrid.length;if(t.params.loop?(r=t.previousRealIndex||0,n=t.params.slidesPerGroup>1?Math.floor(t.realIndex/t.params.slidesPerGroup):t.realIndex):void 0!==t.snapIndex?(n=t.snapIndex,r=t.previousSnapIndex):(r=t.previousIndex||0,n=t.activeIndex||0),'bullets'===i.type&&t.pagination.bullets&&t.pagination.bullets.length>0){const s=t.pagination.bullets;let l,u,p;if(i.dynamicBullets&&(a=A(s[0],t.isHorizontal()?'width':'height'),d.forEach((e=>{e.style[t.isHorizontal()?'width':'height']=a*(i.dynamicMainBullets+4)+'px'})),i.dynamicMainBullets>1&&void 0!==r&&(o+=n-(r||0),o>i.dynamicMainBullets-1?o=i.dynamicMainBullets-1:o<0&&(o=0)),l=Math.max(n-o,0),u=l+(Math.min(s.length,i.dynamicMainBullets)-1),p=(u+l)/2),s.forEach((e=>{const t=[...['','-next','-next-next','-prev','-prev-prev','-main'].map((e=>`${i.bulletActiveClass}${e}`))].map((e=>'string'==typeof e&&e.includes(' ')?e.split(' '):e)).flat();e.classList.remove(...t)})),d.length>1)s.forEach((e=>{const s=S(e);s===n?e.classList.add(...i.bulletActiveClass.split(' ')):t.isElement&&e.setAttribute('part','bullet'),i.dynamicBullets&&(s>=l&&s<=u&&e.classList.add(...`${i.bulletActiveClass}-main`.split(' ')),s===l&&c(e,'prev'),s===u&&c(e,'next'))}));else{const e=s[n];if(e&&e.classList.add(...i.bulletActiveClass.split(' ')),t.isElement&&s.forEach(((e,t)=>{e.setAttribute('part',t===n?'bullet-active':'bullet')})),i.dynamicBullets){const e=s[l],t=s[u];for(let e=l;e<=u;e+=1)s[e]&&s[e].classList.add(...`${i.bulletActiveClass}-main`.split(' '));c(e,'prev'),c(t,'next')}}if(i.dynamicBullets){const n=Math.min(s.length,i.dynamicMainBullets+4),r=(a*n-a)/2-p*a,o=e?'right':'left';s.forEach((e=>{e.style[t.isHorizontal()?o:'top']=`${r}px`}))}}d.forEach(((e,r)=>{if('fraction'===i.type&&(e.querySelectorAll(de(i.currentClass)).forEach((e=>{e.textContent=i.formatFractionCurrent(n+1)})),e.querySelectorAll(de(i.totalClass)).forEach((e=>{e.textContent=i.formatFractionTotal(p)}))),'progressbar'===i.type){let s;s=i.progressbarOpposite?t.isHorizontal()?'vertical':'horizontal':t.isHorizontal()?'horizontal':'vertical';const r=(n+1)/p;let a=1,o=1;'horizontal'===s?a=r:o=r,e.querySelectorAll(de(i.progressbarFillClass)).forEach((e=>{e.style.transform=`translate3d(0,0,0) scaleX(${a}) scaleY(${o})`,e.style.transitionDuration=`${t.params.speed}ms`}))}'custom'===i.type&&i.renderCustom?(e.innerHTML=i.renderCustom(t,n+1,p),0===r&&s('paginationRender',e)):(0===r&&s('paginationRender',e),s('paginationUpdate',e)),t.params.watchOverflow&&t.enabled&&e.classList[t.isLocked?'add':'remove'](i.lockClass)}))}function p(){const e=t.params.pagination;if(l())return;const i=t.virtual&&t.params.virtual.enabled?t.virtual.slides.length:t.grid&&t.params.grid.rows>1?t.slides.length/Math.ceil(t.params.grid.rows):t.slides.length;let n=t.pagination.el;n=C(n);let r='';if('bullets'===e.type){let n=t.params.loop?Math.ceil(i/t.params.slidesPerGroup):t.snapGrid.length;t.params.freeMode&&t.params.freeMode.enabled&&n>i&&(n=i);for(let i=0;i<n;i+=1)e.renderBullet?r+=e.renderBullet.call(t,i,e.bulletClass):r+=`<${e.bulletElement} ${t.isElement?'part="bullet"':''} class="${e.bulletClass}"></${e.bulletElement}>`}'fraction'===e.type&&(r=e.renderFraction?e.renderFraction.call(t,e.currentClass,e.totalClass):`<span class="${e.currentClass}"></span> / <span class="${e.totalClass}"></span>`),'progressbar'===e.type&&(r=e.renderProgressbar?e.renderProgressbar.call(t,e.progressbarFillClass):`<span class="${e.progressbarFillClass}"></span>`),t.pagination.bullets=[],n.forEach((i=>{'custom'!==e.type&&(i.innerHTML=r||''),'bullets'===e.type&&t.pagination.bullets.push(...i.querySelectorAll(de(e.bulletClass)))})),'custom'!==e.type&&s('paginationRender',n[0])}function h(){t.params.pagination=ce(t,t.originalParams.pagination,t.params.pagination,{el:'swiper-pagination'});const e=t.params.pagination;if(!e.el)return;let i;'string'==typeof e.el&&t.isElement&&(i=t.el.querySelector(e.el)),i||'string'!=typeof e.el||(i=[...document.querySelectorAll(e.el)]),i||(i=e.el),i&&0!==i.length&&(t.params.uniqueNavElements&&'string'==typeof e.el&&Array.isArray(i)&&i.length>1&&(i=[...t.el.querySelectorAll(e.el)],i.length>1&&(i=i.find((e=>T(e,'.swiper')[0]===t.el)))),Array.isArray(i)&&1===i.length&&(i=i[0]),Object.assign(t.pagination,{el:i}),i=C(i),i.forEach((i=>{'bullets'===e.type&&e.clickable&&i.classList.add(...(e.clickableClass||'').split(' ')),i.classList.add(e.modifierClass+e.type),i.classList.add(t.isHorizontal()?e.horizontalClass:e.verticalClass),'bullets'===e.type&&e.dynamicBullets&&(i.classList.add(`${e.modifierClass}${e.type}-dynamic`),o=0,e.dynamicMainBullets<1&&(e.dynamicMainBullets=1)),'progressbar'===e.type&&e.progressbarOpposite&&i.classList.add(e.progressbarOppositeClass),e.clickable&&i.addEventListener('click',d),t.enabled||i.classList.add(e.lockClass)})))}function m(){const e=t.params.pagination;if(l())return;let i=t.pagination.el;i&&(i=C(i),i.forEach((i=>{i.classList.remove(e.hiddenClass),i.classList.remove(e.modifierClass+e.type),i.classList.remove(t.isHorizontal()?e.horizontalClass:e.verticalClass),e.clickable&&(i.classList.remove(...(e.clickableClass||'').split(' ')),i.removeEventListener('click',d))}))),t.pagination.bullets&&t.pagination.bullets.forEach((t=>t.classList.remove(...e.bulletActiveClass.split(' '))))}n('changeDirection',(()=>{if(!t.pagination||!t.pagination.el)return;const e=t.params.pagination;let{el:i}=t.pagination;i=C(i),i.forEach((i=>{i.classList.remove(e.horizontalClass,e.verticalClass),i.classList.add(t.isHorizontal()?e.horizontalClass:e.verticalClass)}))})),n('init',(()=>{!1===t.params.pagination.enabled?f():(h(),p(),u())})),n('activeIndexChange',(()=>{void 0===t.snapIndex&&u()})),n('snapIndexChange',(()=>{u()})),n('snapGridLengthChange',(()=>{p(),u()})),n('destroy',(()=>{m()})),n('enable disable',(()=>{let{el:e}=t.pagination;e&&(e=C(e),e.forEach((e=>e.classList[t.enabled?'remove':'add'](t.params.pagination.lockClass))))})),n('lock unlock',(()=>{u()})),n('click',((e,i)=>{const n=i.target,r=C(t.pagination.el);if(t.params.pagination.el&&t.params.pagination.hideOnClick&&r&&r.length>0&&!n.classList.contains(t.params.pagination.bulletClass)){if(t.navigation&&(t.navigation.nextEl&&n===t.navigation.nextEl||t.navigation.prevEl&&n===t.navigation.prevEl))return;const e=r[0].classList.contains(t.params.pagination.hiddenClass);s(!0===e?'paginationShow':'paginationHide'),r.forEach((e=>e.classList.toggle(t.params.pagination.hiddenClass)))}}));const f=()=>{t.el.classList.add(t.params.pagination.paginationDisabledClass);let{el:e}=t.pagination;e&&(e=C(e),e.forEach((e=>e.classList.add(t.params.pagination.paginationDisabledClass)))),m()};Object.assign(t.pagination,{enable:()=>{t.el.classList.remove(t.params.pagination.paginationDisabledClass);let{el:e}=t.pagination;e&&(e=C(e),e.forEach((e=>e.classList.remove(t.params.pagination.paginationDisabledClass)))),h(),p(),u()},disable:f,render:p,update:u,init:h,destroy:m})},function(e){let{swiper:t,extendParams:i,on:n,emit:s}=e;const r=a();let o,l,u,p,h=!1,m=null,f=null;function g(){if(!t.params.scrollbar.el||!t.scrollbar.el)return;const{scrollbar:e,rtlTranslate:i}=t,{dragEl:n,el:s}=e,r=t.params.scrollbar,a=t.params.loop?t.progressLoop:t.progress;let o=l,c=(u-l)*a;i?(c=-c,c>0?(o=l-c,c=0):-c+l>u&&(o=u+c)):c<0?(o=l+c,c=0):c+l>u&&(o=u-c),t.isHorizontal()?(n.style.transform=`translate3d(${c}px, 0, 0)`,n.style.width=`${o}px`):(n.style.transform=`translate3d(0px, ${c}px, 0)`,n.style.height=`${o}px`),r.hide&&(clearTimeout(m),s.style.opacity=1,m=setTimeout((()=>{s.style.opacity=0,s.style.transitionDuration='400ms'}),1e3))}function _(){if(!t.params.scrollbar.el||!t.scrollbar.el)return;const{scrollbar:e}=t,{dragEl:i,el:n}=e;i.style.width='',i.style.height='',u=t.isHorizontal()?n.offsetWidth:n.offsetHeight,p=t.size/(t.virtualSize+t.params.slidesOffsetBefore-(t.params.centeredSlides?t.snapGrid[0]:0)),l='auto'===t.params.scrollbar.dragSize?u*p:parseInt(t.params.scrollbar.dragSize,10),t.isHorizontal()?i.style.width=`${l}px`:i.style.height=`${l}px`,n.style.display=p>=1?'none':'',t.params.scrollbar.hide&&(n.style.opacity=0),t.params.watchOverflow&&t.enabled&&e.el.classList[t.isLocked?'add':'remove'](t.params.scrollbar.lockClass)}function y(e){return t.isHorizontal()?e.clientX:e.clientY}function v(e){const{scrollbar:i,rtlTranslate:n}=t,{el:s}=i;let r;r=(y(e)-b(s)[t.isHorizontal()?'left':'top']-(null!==o?o:l/2))/(u-l),r=Math.max(Math.min(r,1),0),n&&(r=1-r);const a=t.minTranslate()+(t.maxTranslate()-t.minTranslate())*r;t.updateProgress(a),t.setTranslate(a),t.updateActiveIndex(),t.updateSlidesClasses()}function E(e){const i=t.params.scrollbar,{scrollbar:n,wrapperEl:r}=t,{el:a,dragEl:l}=n;h=!0,o=e.target===l?y(e)-e.target.getBoundingClientRect()[t.isHorizontal()?'left':'top']:null,e.preventDefault(),e.stopPropagation(),r.style.transitionDuration='100ms',l.style.transitionDuration='100ms',v(e),clearTimeout(f),a.style.transitionDuration='0ms',i.hide&&(a.style.opacity=1),t.params.cssMode&&(t.wrapperEl.style['scroll-snap-type']='none'),s('scrollbarDragStart',e)}function S(e){const{scrollbar:i,wrapperEl:n}=t,{el:r,dragEl:a}=i;h&&(e.preventDefault&&e.cancelable?e.preventDefault():e.returnValue=!1,v(e),n.style.transitionDuration='0ms',r.style.transitionDuration='0ms',a.style.transitionDuration='0ms',s('scrollbarDragMove',e))}function T(e){const i=t.params.scrollbar,{scrollbar:n,wrapperEl:r}=t,{el:a}=n;h&&(h=!1,t.params.cssMode&&(t.wrapperEl.style['scroll-snap-type']='',r.style.transitionDuration=''),i.hide&&(clearTimeout(f),f=d((()=>{a.style.opacity=0,a.style.transitionDuration='400ms'}),1e3)),s('scrollbarDragEnd',e),i.snapOnRelease&&t.slideToClosest())}function I(e){const{scrollbar:i,params:n}=t,s=i.el;if(!s)return;const a=s,o=!!n.passiveListeners&&{passive:!1,capture:!1},l=!!n.passiveListeners&&{passive:!0,capture:!1};if(!a)return;const c='on'===e?'addEventListener':'removeEventListener';a[c]('pointerdown',E,o),r[c]('pointermove',S,o),r[c]('pointerup',T,l)}function A(){const{scrollbar:e,el:i}=t;t.params.scrollbar=ce(t,t.originalParams.scrollbar,t.params.scrollbar,{el:'swiper-scrollbar'});const n=t.params.scrollbar;if(!n.el)return;let s,a;if('string'==typeof n.el&&t.isElement&&(s=t.el.querySelector(n.el)),s||'string'!=typeof n.el)s||(s=n.el);else if(s=r.querySelectorAll(n.el),!s.length)return;t.params.uniqueNavElements&&'string'==typeof n.el&&s.length>1&&1===i.querySelectorAll(n.el).length&&(s=i.querySelector(n.el)),s.length>0&&(s=s[0]),s.classList.add(t.isHorizontal()?n.horizontalClass:n.verticalClass),s&&(a=s.querySelector(de(t.params.scrollbar.dragClass)),a||(a=w('div',t.params.scrollbar.dragClass),s.append(a))),Object.assign(e,{el:s,dragEl:a}),n.draggable&&t.params.scrollbar.el&&t.scrollbar.el&&I('on'),s&&s.classList[t.enabled?'remove':'add'](...c(t.params.scrollbar.lockClass))}function O(){const e=t.params.scrollbar,i=t.scrollbar.el;i&&i.classList.remove(...c(t.isHorizontal()?e.horizontalClass:e.verticalClass)),t.params.scrollbar.el&&t.scrollbar.el&&I('off')}i({scrollbar:{el:null,dragSize:'auto',hide:!1,draggable:!1,snapOnRelease:!0,lockClass:'swiper-scrollbar-lock',dragClass:'swiper-scrollbar-drag',scrollbarDisabledClass:'swiper-scrollbar-disabled',horizontalClass:'swiper-scrollbar-horizontal',verticalClass:'swiper-scrollbar-vertical'}}),t.scrollbar={el:null,dragEl:null},n('changeDirection',(()=>{if(!t.scrollbar||!t.scrollbar.el)return;const e=t.params.scrollbar;let{el:i}=t.scrollbar;i=C(i),i.forEach((i=>{i.classList.remove(e.horizontalClass,e.verticalClass),i.classList.add(t.isHorizontal()?e.horizontalClass:e.verticalClass)}))})),n('init',(()=>{!1===t.params.scrollbar.enabled?P():(A(),_(),g())})),n('update resize observerUpdate lock unlock changeDirection',(()=>{_()})),n('setTranslate',(()=>{g()})),n('setTransition',((e,i)=>{!function(e){t.params.scrollbar.el&&t.scrollbar.el&&(t.scrollbar.dragEl.style.transitionDuration=`${e}ms`)}(i)})),n('enable disable',(()=>{const{el:e}=t.scrollbar;e&&e.classList[t.enabled?'remove':'add'](...c(t.params.scrollbar.lockClass))})),n('destroy',(()=>{O()}));const P=()=>{t.el.classList.add(...c(t.params.scrollbar.scrollbarDisabledClass)),t.scrollbar.el&&t.scrollbar.el.classList.add(...c(t.params.scrollbar.scrollbarDisabledClass)),O()};Object.assign(t.scrollbar,{enable:()=>{t.el.classList.remove(...c(t.params.scrollbar.scrollbarDisabledClass)),t.scrollbar.el&&t.scrollbar.el.classList.remove(...c(t.params.scrollbar.scrollbarDisabledClass)),A(),_(),g()},disable:P,updateSize:_,setTranslate:g,init:A,destroy:O})},function(e){let{swiper:t,extendParams:i,on:n}=e;i({parallax:{enabled:!1}});const s='[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]',r=(e,i)=>{const{rtl:n}=t,s=n?-1:1,r=e.getAttribute('data-swiper-parallax')||'0';let a=e.getAttribute('data-swiper-parallax-x'),o=e.getAttribute('data-swiper-parallax-y');const l=e.getAttribute('data-swiper-parallax-scale'),c=e.getAttribute('data-swiper-parallax-opacity'),d=e.getAttribute('data-swiper-parallax-rotate');if(a||o?(a=a||'0',o=o||'0'):t.isHorizontal()?(a=r,o='0'):(o=r,a='0'),a=a.indexOf('%')>=0?parseInt(a,10)*i*s+'%':a*i*s+'px',o=o.indexOf('%')>=0?parseInt(o,10)*i+'%':o*i+'px',null!=c){const t=c-(c-1)*(1-Math.abs(i));e.style.opacity=t}let u=`translate3d(${a}, ${o}, 0px)`;if(null!=l){u+=` scale(${l-(l-1)*(1-Math.abs(i))})`}if(d&&null!=d){u+=` rotate(${d*i*-1}deg)`}e.style.transform=u},a=()=>{const{el:e,slides:i,progress:n,snapGrid:a,isElement:o}=t,l=y(e,s);t.isElement&&l.push(...y(t.hostEl,s)),l.forEach((e=>{r(e,n)})),i.forEach(((e,i)=>{let o=e.progress;t.params.slidesPerGroup>1&&'auto'!==t.params.slidesPerView&&(o+=Math.ceil(i/2)-n*(a.length-1)),o=Math.min(Math.max(o,-1),1),e.querySelectorAll(`${s}, [data-swiper-parallax-rotate]`).forEach((e=>{r(e,o)}))}))};n('beforeInit',(()=>{t.params.parallax.enabled&&(t.params.watchSlidesProgress=!0,t.originalParams.watchSlidesProgress=!0)})),n('init',(()=>{t.params.parallax.enabled&&a()})),n('setTranslate',(()=>{t.params.parallax.enabled&&a()})),n('setTransition',((e,i)=>{t.params.parallax.enabled&&function(e){void 0===e&&(e=t.params.speed);const{el:i,hostEl:n}=t,r=[...i.querySelectorAll(s)];t.isElement&&r.push(...n.querySelectorAll(s)),r.forEach((t=>{let i=parseInt(t.getAttribute('data-swiper-parallax-duration'),10)||e;0===e&&(i=0),t.style.transitionDuration=`${i}ms`}))}(i)}))},function(e){let{swiper:t,extendParams:i,on:n,emit:s}=e;const r=l();i({zoom:{enabled:!1,limitToOriginalSize:!1,maxRatio:3,minRatio:1,panOnMouseMove:!1,toggle:!0,containerClass:'swiper-zoom-container',zoomedSlideClass:'swiper-slide-zoomed'}}),t.zoom={enabled:!1};let a,o,c=1,d=!1,u=!1,h={x:0,y:0};const m=[],f={originX:0,originY:0,slideEl:void 0,slideWidth:void 0,slideHeight:void 0,imageEl:void 0,imageWrapEl:void 0,maxRatio:3},g={isTouched:void 0,isMoved:void 0,currentX:void 0,currentY:void 0,minX:void 0,minY:void 0,maxX:void 0,maxY:void 0,width:void 0,height:void 0,startX:void 0,startY:void 0,touchesStart:{},touchesCurrent:{}},_={x:void 0,y:void 0,prevPositionX:void 0,prevPositionY:void 0,prevTime:void 0};let v,w=1;function E(){if(m.length<2)return 1;const e=m[0].pageX,t=m[0].pageY,i=m[1].pageX,n=m[1].pageY;return Math.sqrt((i-e)**2+(n-t)**2)}function S(){const e=t.params.zoom,i=f.imageWrapEl.getAttribute('data-swiper-zoom')||e.maxRatio;if(e.limitToOriginalSize&&f.imageEl&&f.imageEl.naturalWidth){const e=f.imageEl.naturalWidth/f.imageEl.offsetWidth;return Math.min(e,i)}return i}function I(e){const i=t.isElement?'swiper-slide':`.${t.params.slideClass}`;return!!e.target.matches(i)||t.slides.filter((t=>t.contains(e.target))).length>0}function A(e){const i=`.${t.params.zoom.containerClass}`;return!!e.target.matches(i)||[...t.hostEl.querySelectorAll(i)].filter((t=>t.contains(e.target))).length>0}function C(e){if('mouse'===e.pointerType&&m.splice(0,m.length),!I(e))return;const i=t.params.zoom;if(a=!1,o=!1,m.push(e),!(m.length<2)){if(a=!0,f.scaleStart=E(),!f.slideEl){f.slideEl=e.target.closest(`.${t.params.slideClass}, swiper-slide`),f.slideEl||(f.slideEl=t.slides[t.activeIndex]);let n=f.slideEl.querySelector(`.${i.containerClass}`);if(n&&(n=n.querySelectorAll('picture, img, svg, canvas, .swiper-zoom-target')[0]),f.imageEl=n,f.imageWrapEl=n?T(f.imageEl,`.${i.containerClass}`)[0]:void 0,!f.imageWrapEl)return void(f.imageEl=void 0);f.maxRatio=S()}if(f.imageEl){const[e,t]=function(){if(m.length<2)return{x:null,y:null};const e=f.imageEl.getBoundingClientRect();return[(m[0].pageX+(m[1].pageX-m[0].pageX)/2-e.x-r.scrollX)/c,(m[0].pageY+(m[1].pageY-m[0].pageY)/2-e.y-r.scrollY)/c]}();f.originX=e,f.originY=t,f.imageEl.style.transitionDuration='0ms'}d=!0}}function O(e){if(!I(e))return;const i=t.params.zoom,n=t.zoom,s=m.findIndex((t=>t.pointerId===e.pointerId));s>=0&&(m[s]=e),m.length<2||(o=!0,f.scaleMove=E(),f.imageEl&&(n.scale=f.scaleMove/f.scaleStart*c,n.scale>f.maxRatio&&(n.scale=f.maxRatio-1+(n.scale-f.maxRatio+1)**.5),n.scale<i.minRatio&&(n.scale=i.minRatio+1-(i.minRatio-n.scale+1)**.5),f.imageEl.style.transform=`translate3d(0,0,0) scale(${n.scale})`))}function P(e){if(!I(e))return;if('mouse'===e.pointerType&&'pointerout'===e.type)return;const i=t.params.zoom,n=t.zoom,s=m.findIndex((t=>t.pointerId===e.pointerId));s>=0&&m.splice(s,1),a&&o&&(a=!1,o=!1,f.imageEl&&(n.scale=Math.max(Math.min(n.scale,f.maxRatio),i.minRatio),f.imageEl.style.transitionDuration=`${t.params.speed}ms`,f.imageEl.style.transform=`translate3d(0,0,0) scale(${n.scale})`,c=n.scale,d=!1,n.scale>1&&f.slideEl?f.slideEl.classList.add(`${i.zoomedSlideClass}`):n.scale<=1&&f.slideEl&&f.slideEl.classList.remove(`${i.zoomedSlideClass}`),1===n.scale&&(f.originX=0,f.originY=0,f.slideEl=void 0)))}function N(){t.touchEventsData.preventTouchMoveFromPointerMove=!1}function L(e){const i='mouse'===e.pointerType&&t.params.zoom.panOnMouseMove;if(!I(e)||!A(e))return;const n=t.zoom;if(!f.imageEl)return;if(!g.isTouched||!f.slideEl)return void(i&&R(e));if(i)return void R(e);g.isMoved||(g.width=f.imageEl.offsetWidth||f.imageEl.clientWidth,g.height=f.imageEl.offsetHeight||f.imageEl.clientHeight,g.startX=p(f.imageWrapEl,'x')||0,g.startY=p(f.imageWrapEl,'y')||0,f.slideWidth=f.slideEl.offsetWidth,f.slideHeight=f.slideEl.offsetHeight,f.imageWrapEl.style.transitionDuration='0ms');const s=g.width*n.scale,r=g.height*n.scale;g.minX=Math.min(f.slideWidth/2-s/2,0),g.maxX=-g.minX,g.minY=Math.min(f.slideHeight/2-r/2,0),g.maxY=-g.minY,g.touchesCurrent.x=m.length>0?m[0].pageX:e.pageX,g.touchesCurrent.y=m.length>0?m[0].pageY:e.pageY;if(Math.max(Math.abs(g.touchesCurrent.x-g.touchesStart.x),Math.abs(g.touchesCurrent.y-g.touchesStart.y))>5&&(t.allowClick=!1),!g.isMoved&&!d){if(t.isHorizontal()&&(Math.floor(g.minX)===Math.floor(g.startX)&&g.touchesCurrent.x<g.touchesStart.x||Math.floor(g.maxX)===Math.floor(g.startX)&&g.touchesCurrent.x>g.touchesStart.x))return g.isTouched=!1,void N();if(!t.isHorizontal()&&(Math.floor(g.minY)===Math.floor(g.startY)&&g.touchesCurrent.y<g.touchesStart.y||Math.floor(g.maxY)===Math.floor(g.startY)&&g.touchesCurrent.y>g.touchesStart.y))return g.isTouched=!1,void N()}e.cancelable&&e.preventDefault(),e.stopPropagation(),clearTimeout(v),t.touchEventsData.preventTouchMoveFromPointerMove=!0,v=setTimeout((()=>{t.destroyed||N()})),g.isMoved=!0;const a=(n.scale-c)/(f.maxRatio-t.params.zoom.minRatio),{originX:o,originY:l}=f;g.currentX=g.touchesCurrent.x-g.touchesStart.x+g.startX+a*(g.width-2*o),g.currentY=g.touchesCurrent.y-g.touchesStart.y+g.startY+a*(g.height-2*l),g.currentX<g.minX&&(g.currentX=g.minX+1-(g.minX-g.currentX+1)**.8),g.currentX>g.maxX&&(g.currentX=g.maxX-1+(g.currentX-g.maxX+1)**.8),g.currentY<g.minY&&(g.currentY=g.minY+1-(g.minY-g.currentY+1)**.8),g.currentY>g.maxY&&(g.currentY=g.maxY-1+(g.currentY-g.maxY+1)**.8),_.prevPositionX||(_.prevPositionX=g.touchesCurrent.x),_.prevPositionY||(_.prevPositionY=g.touchesCurrent.y),_.prevTime||(_.prevTime=Date.now()),_.x=(g.touchesCurrent.x-_.prevPositionX)/(Date.now()-_.prevTime)/2,_.y=(g.touchesCurrent.y-_.prevPositionY)/(Date.now()-_.prevTime)/2,Math.abs(g.touchesCurrent.x-_.prevPositionX)<2&&(_.x=0),Math.abs(g.touchesCurrent.y-_.prevPositionY)<2&&(_.y=0),_.prevPositionX=g.touchesCurrent.x,_.prevPositionY=g.touchesCurrent.y,_.prevTime=Date.now(),f.imageWrapEl.style.transform=`translate3d(${g.currentX}px, ${g.currentY}px,0)`}function x(){const e=t.zoom;f.slideEl&&t.activeIndex!==t.slides.indexOf(f.slideEl)&&(f.imageEl&&(f.imageEl.style.transform='translate3d(0,0,0) scale(1)'),f.imageWrapEl&&(f.imageWrapEl.style.transform='translate3d(0,0,0)'),f.slideEl.classList.remove(`${t.params.zoom.zoomedSlideClass}`),e.scale=1,c=1,f.slideEl=void 0,f.imageEl=void 0,f.imageWrapEl=void 0,f.originX=0,f.originY=0)}function R(e){if(c<=1||!f.imageWrapEl)return;if(!I(e)||!A(e))return;const t=r.getComputedStyle(f.imageWrapEl).transform,i=new r.DOMMatrix(t);if(!u)return u=!0,h.x=e.clientX,h.y=e.clientY,g.startX=i.e,g.startY=i.f,g.width=f.imageEl.offsetWidth||f.imageEl.clientWidth,g.height=f.imageEl.offsetHeight||f.imageEl.clientHeight,f.slideWidth=f.slideEl.offsetWidth,void(f.slideHeight=f.slideEl.offsetHeight);const n=-3*(e.clientX-h.x),s=-3*(e.clientY-h.y),a=g.width*c,o=g.height*c,l=f.slideWidth,d=f.slideHeight,p=Math.min(l/2-a/2,0),m=-p,_=Math.min(d/2-o/2,0),y=-_,v=Math.max(Math.min(g.startX+n,m),p),w=Math.max(Math.min(g.startY+s,y),_);f.imageWrapEl.style.transitionDuration='0ms',f.imageWrapEl.style.transform=`translate3d(${v}px, ${w}px, 0)`,h.x=e.clientX,h.y=e.clientY,g.startX=v,g.startY=w,g.currentX=v,g.currentY=w}function D(e){const i=t.zoom,n=t.params.zoom;if(!f.slideEl){e&&e.target&&(f.slideEl=e.target.closest(`.${t.params.slideClass}, swiper-slide`)),f.slideEl||(t.params.virtual&&t.params.virtual.enabled&&t.virtual?f.slideEl=y(t.slidesEl,`.${t.params.slideActiveClass}`)[0]:f.slideEl=t.slides[t.activeIndex]);let i=f.slideEl.querySelector(`.${n.containerClass}`);i&&(i=i.querySelectorAll('picture, img, svg, canvas, .swiper-zoom-target')[0]),f.imageEl=i,f.imageWrapEl=i?T(f.imageEl,`.${n.containerClass}`)[0]:void 0}if(!f.imageEl||!f.imageWrapEl)return;let s,a,o,l,d,u,p,h,m,_,v,w,E,I,A,C,O,P;t.params.cssMode&&(t.wrapperEl.style.overflow='hidden',t.wrapperEl.style.touchAction='none'),f.slideEl.classList.add(`${n.zoomedSlideClass}`),void 0===g.touchesStart.x&&e?(s=e.pageX,a=e.pageY):(s=g.touchesStart.x,a=g.touchesStart.y);const N=c,L='number'==typeof e?e:null;1===c&&L&&(s=void 0,a=void 0,g.touchesStart.x=void 0,g.touchesStart.y=void 0);const x=S();i.scale=L||x,c=L||x,!e||1===c&&L?(p=0,h=0):(O=f.slideEl.offsetWidth,P=f.slideEl.offsetHeight,o=b(f.slideEl).left+r.scrollX,l=b(f.slideEl).top+r.scrollY,d=o+O/2-s,u=l+P/2-a,m=f.imageEl.offsetWidth||f.imageEl.clientWidth,_=f.imageEl.offsetHeight||f.imageEl.clientHeight,v=m*i.scale,w=_*i.scale,E=Math.min(O/2-v/2,0),I=Math.min(P/2-w/2,0),A=-E,C=-I,N>0&&L&&'number'==typeof g.currentX&&'number'==typeof g.currentY?(p=g.currentX*i.scale/N,h=g.currentY*i.scale/N):(p=d*i.scale,h=u*i.scale),p<E&&(p=E),p>A&&(p=A),h<I&&(h=I),h>C&&(h=C)),L&&1===i.scale&&(f.originX=0,f.originY=0),g.currentX=p,g.currentY=h,f.imageWrapEl.style.transitionDuration='300ms',f.imageWrapEl.style.transform=`translate3d(${p}px, ${h}px,0)`,f.imageEl.style.transitionDuration='300ms',f.imageEl.style.transform=`translate3d(0,0,0) scale(${i.scale})`}function M(){const e=t.zoom,i=t.params.zoom;if(!f.slideEl){t.params.virtual&&t.params.virtual.enabled&&t.virtual?f.slideEl=y(t.slidesEl,`.${t.params.slideActiveClass}`)[0]:f.slideEl=t.slides[t.activeIndex];let e=f.slideEl.querySelector(`.${i.containerClass}`);e&&(e=e.querySelectorAll('picture, img, svg, canvas, .swiper-zoom-target')[0]),f.imageEl=e,f.imageWrapEl=e?T(f.imageEl,`.${i.containerClass}`)[0]:void 0}f.imageEl&&f.imageWrapEl&&(t.params.cssMode&&(t.wrapperEl.style.overflow='',t.wrapperEl.style.touchAction=''),e.scale=1,c=1,g.currentX=void 0,g.currentY=void 0,g.touchesStart.x=void 0,g.touchesStart.y=void 0,f.imageWrapEl.style.transitionDuration='300ms',f.imageWrapEl.style.transform='translate3d(0,0,0)',f.imageEl.style.transitionDuration='300ms',f.imageEl.style.transform='translate3d(0,0,0) scale(1)',f.slideEl.classList.remove(`${i.zoomedSlideClass}`),f.slideEl=void 0,f.originX=0,f.originY=0,t.params.zoom.panOnMouseMove&&(h={x:0,y:0},u&&(u=!1,g.startX=0,g.startY=0)))}function k(e){const i=t.zoom;i.scale&&1!==i.scale?M():D(e)}function B(){return{passiveListener:!!t.params.passiveListeners&&{passive:!0,capture:!1},activeListenerWithCapture:!t.params.passiveListeners||{passive:!1,capture:!0}}}function U(){const e=t.zoom;if(e.enabled)return;e.enabled=!0;const{passiveListener:i,activeListenerWithCapture:n}=B();t.wrapperEl.addEventListener('pointerdown',C,i),t.wrapperEl.addEventListener('pointermove',O,n),['pointerup','pointercancel','pointerout'].forEach((e=>{t.wrapperEl.addEventListener(e,P,i)})),t.wrapperEl.addEventListener('pointermove',L,n)}function G(){const e=t.zoom;if(!e.enabled)return;e.enabled=!1;const{passiveListener:i,activeListenerWithCapture:n}=B();t.wrapperEl.removeEventListener('pointerdown',C,i),t.wrapperEl.removeEventListener('pointermove',O,n),['pointerup','pointercancel','pointerout'].forEach((e=>{t.wrapperEl.removeEventListener(e,P,i)})),t.wrapperEl.removeEventListener('pointermove',L,n)}Object.defineProperty(t.zoom,'scale',{get:()=>w,set(e){if(w!==e){const t=f.imageEl,i=f.slideEl;s('zoomChange',e,t,i)}w=e}}),n('init',(()=>{t.params.zoom.enabled&&U()})),n('destroy',(()=>{G()})),n('touchStart',((e,i)=>{t.zoom.enabled&&function(e){const i=t.device;if(!f.imageEl)return;if(g.isTouched)return;i.android&&e.cancelable&&e.preventDefault(),g.isTouched=!0;const n=m.length>0?m[0]:e;g.touchesStart.x=n.pageX,g.touchesStart.y=n.pageY}(i)})),n('touchEnd',((e,i)=>{t.zoom.enabled&&function(){const e=t.zoom;if(m.length=0,!f.imageEl)return;if(!g.isTouched||!g.isMoved)return g.isTouched=!1,void(g.isMoved=!1);g.isTouched=!1,g.isMoved=!1;let i=300,n=300;const s=_.x*i,r=g.currentX+s,a=_.y*n,o=g.currentY+a;0!==_.x&&(i=Math.abs((r-g.currentX)/_.x)),0!==_.y&&(n=Math.abs((o-g.currentY)/_.y));const l=Math.max(i,n);g.currentX=r,g.currentY=o;const c=g.width*e.scale,d=g.height*e.scale;g.minX=Math.min(f.slideWidth/2-c/2,0),g.maxX=-g.minX,g.minY=Math.min(f.slideHeight/2-d/2,0),g.maxY=-g.minY,g.currentX=Math.max(Math.min(g.currentX,g.maxX),g.minX),g.currentY=Math.max(Math.min(g.currentY,g.maxY),g.minY),f.imageWrapEl.style.transitionDuration=`${l}ms`,f.imageWrapEl.style.transform=`translate3d(${g.currentX}px, ${g.currentY}px,0)`}()})),n('doubleTap',((e,i)=>{!t.animating&&t.params.zoom.enabled&&t.zoom.enabled&&t.params.zoom.toggle&&k(i)})),n('transitionEnd',(()=>{t.zoom.enabled&&t.params.zoom.enabled&&x()})),n('slideChange',(()=>{t.zoom.enabled&&t.params.zoom.enabled&&t.params.cssMode&&x()})),Object.assign(t.zoom,{enable:U,disable:G,in:D,out:M,toggle:k})},function(e){let{swiper:t,extendParams:i,on:n}=e;function s(e,t){const i=function(){let e,t,i;return(n,s)=>{for(t=-1,e=n.length;e-t>1;)i=e+t>>1,n[i]<=s?t=i:e=i;return e}}();let n,s;return this.x=e,this.y=t,this.lastIndex=e.length-1,this.interpolate=function(e){return e?(s=i(this.x,e),n=s-1,(e-this.x[n])*(this.y[s]-this.y[n])/(this.x[s]-this.x[n])+this.y[n]):0},this}function r(){t.controller.control&&t.controller.spline&&(t.controller.spline=void 0,delete t.controller.spline)}i({controller:{control:void 0,inverse:!1,by:'slide'}}),t.controller={control:void 0},n('beforeInit',(()=>{if('undefined'!=typeof window&&('string'==typeof t.params.controller.control||t.params.controller.control instanceof HTMLElement)){('string'==typeof t.params.controller.control?[...document.querySelectorAll(t.params.controller.control)]:[t.params.controller.control]).forEach((e=>{if(t.controller.control||(t.controller.control=[]),e&&e.swiper)t.controller.control.push(e.swiper);else if(e){const i=`${t.params.eventsPrefix}init`,n=s=>{t.controller.control.push(s.detail[0]),t.update(),e.removeEventListener(i,n)};e.addEventListener(i,n)}}))}else t.controller.control=t.params.controller.control})),n('update',(()=>{r()})),n('resize',(()=>{r()})),n('observerUpdate',(()=>{r()})),n('setTranslate',((e,i,n)=>{t.controller.control&&!t.controller.control.destroyed&&t.controller.setTranslate(i,n)})),n('setTransition',((e,i,n)=>{t.controller.control&&!t.controller.control.destroyed&&t.controller.setTransition(i,n)})),Object.assign(t.controller,{setTranslate:function(e,i){const n=t.controller.control;let r,a;const o=t.constructor;function l(e){if(e.destroyed)return;const i=t.rtlTranslate?-t.translate:t.translate;'slide'===t.params.controller.by&&(!function(e){t.controller.spline=t.params.loop?new s(t.slidesGrid,e.slidesGrid):new s(t.snapGrid,e.snapGrid)}(e),a=-t.controller.spline.interpolate(-i)),a&&'container'!==t.params.controller.by||(r=(e.maxTranslate()-e.minTranslate())/(t.maxTranslate()-t.minTranslate()),!Number.isNaN(r)&&Number.isFinite(r)||(r=1),a=(i-t.minTranslate())*r+e.minTranslate()),t.params.controller.inverse&&(a=e.maxTranslate()-a),e.updateProgress(a),e.setTranslate(a,t),e.updateActiveIndex(),e.updateSlidesClasses()}if(Array.isArray(n))for(let e=0;e<n.length;e+=1)n[e]!==i&&n[e]instanceof o&&l(n[e]);else n instanceof o&&i!==n&&l(n)},setTransition:function(e,i){const n=t.constructor,s=t.controller.control;let r;function a(i){i.destroyed||(i.setTransition(e,t),0!==e&&(i.transitionStart(),i.params.autoHeight&&d((()=>{i.updateAutoHeight()})),I(i.wrapperEl,(()=>{s&&i.transitionEnd()}))))}if(Array.isArray(s))for(r=0;r<s.length;r+=1)s[r]!==i&&s[r]instanceof n&&a(s[r]);else s instanceof n&&i!==s&&a(s)}})},function(e){let{swiper:t,extendParams:i,on:n}=e;i({a11y:{enabled:!0,notificationClass:'swiper-notification',prevSlideMessage:'Previous slide',nextSlideMessage:'Next slide',firstSlideMessage:'This is the first slide',lastSlideMessage:'This is the last slide',paginationBulletMessage:'Go to slide {{index}}',slideLabelMessage:'{{index}} / {{slidesLength}}',containerMessage:null,containerRoleDescriptionMessage:null,containerRole:null,itemRoleDescriptionMessage:null,slideRole:'group',id:null,scrollOnFocus:!0}}),t.a11y={clicked:!1};let s,r,o=null,l=(new Date).getTime();function c(e){const t=o;0!==t.length&&(t.innerHTML='',t.innerHTML=e)}function d(e){(e=C(e)).forEach((e=>{e.setAttribute('tabIndex','0')}))}function u(e){(e=C(e)).forEach((e=>{e.setAttribute('tabIndex','-1')}))}function p(e,t){(e=C(e)).forEach((e=>{e.setAttribute('role',t)}))}function h(e,t){(e=C(e)).forEach((e=>{e.setAttribute('aria-roledescription',t)}))}function m(e,t){(e=C(e)).forEach((e=>{e.setAttribute('aria-label',t)}))}function f(e){(e=C(e)).forEach((e=>{e.setAttribute('aria-disabled',!0)}))}function g(e){(e=C(e)).forEach((e=>{e.setAttribute('aria-disabled',!1)}))}function _(e){if(13!==e.keyCode&&32!==e.keyCode)return;const i=t.params.a11y,n=e.target;if(!t.pagination||!t.pagination.el||n!==t.pagination.el&&!t.pagination.el.contains(e.target)||e.target.matches(de(t.params.pagination.bulletClass))){if(t.navigation&&t.navigation.prevEl&&t.navigation.nextEl){const e=C(t.navigation.prevEl);C(t.navigation.nextEl).includes(n)&&(t.isEnd&&!t.params.loop||t.slideNext(),t.isEnd?c(i.lastSlideMessage):c(i.nextSlideMessage)),e.includes(n)&&(t.isBeginning&&!t.params.loop||t.slidePrev(),t.isBeginning?c(i.firstSlideMessage):c(i.prevSlideMessage))}t.pagination&&n.matches(de(t.params.pagination.bulletClass))&&n.click()}}function y(){return t.pagination&&t.pagination.bullets&&t.pagination.bullets.length}function v(){return y()&&t.params.pagination.clickable}const b=(e,t,i)=>{d(e),'BUTTON'!==e.tagName&&(p(e,'button'),e.addEventListener('keydown',_)),m(e,i),function(e,t){(e=C(e)).forEach((e=>{e.setAttribute('aria-controls',t)}))}(e,t)},E=e=>{r&&r!==e.target&&!r.contains(e.target)&&(s=!0),t.a11y.clicked=!0},T=()=>{s=!1,requestAnimationFrame((()=>{requestAnimationFrame((()=>{t.destroyed||(t.a11y.clicked=!1)}))}))},I=e=>{l=(new Date).getTime()},A=e=>{if(t.a11y.clicked||!t.params.a11y.scrollOnFocus)return;if((new Date).getTime()-l<100)return;const i=e.target.closest(`.${t.params.slideClass}, swiper-slide`);if(!i||!t.slides.includes(i))return;r=i;const n=t.slides.indexOf(i)===t.activeIndex,a=t.params.watchSlidesProgress&&t.visibleSlides&&t.visibleSlides.includes(i);n||a||e.sourceCapabilities&&e.sourceCapabilities.firesTouchEvents||(t.isHorizontal()?t.el.scrollLeft=0:t.el.scrollTop=0,requestAnimationFrame((()=>{s||(t.params.loop?t.slideToLoop(parseInt(i.getAttribute('data-swiper-slide-index')),0):t.slideTo(t.slides.indexOf(i),0),s=!1)})))},O=()=>{const e=t.params.a11y;e.itemRoleDescriptionMessage&&h(t.slides,e.itemRoleDescriptionMessage),e.slideRole&&p(t.slides,e.slideRole);const i=t.slides.length;e.slideLabelMessage&&t.slides.forEach(((n,s)=>{const r=t.params.loop?parseInt(n.getAttribute('data-swiper-slide-index'),10):s;m(n,e.slideLabelMessage.replace(/\{\{index\}\}/,r+1).replace(/\{\{slidesLength\}\}/,i))}))},P=()=>{const e=t.params.a11y;t.el.append(o);const i=t.el;e.containerRoleDescriptionMessage&&h(i,e.containerRoleDescriptionMessage),e.containerMessage&&m(i,e.containerMessage),e.containerRole&&p(i,e.containerRole);const n=t.wrapperEl,s=e.id||n.getAttribute('id')||`swiper-wrapper-${r=16,'x'.repeat(r).replace(/x/g,(()=>Math.round(16*Math.random()).toString(16)))}`;var r;const l=t.params.autoplay&&t.params.autoplay.enabled?'off':'polite';var c;c=s,C(n).forEach((e=>{e.setAttribute('id',c)})),function(e,t){(e=C(e)).forEach((e=>{e.setAttribute('aria-live',t)}))}(n,l),O();let{nextEl:d,prevEl:u}=t.navigation?t.navigation:{};if(d=C(d),u=C(u),d&&d.forEach((t=>b(t,s,e.nextSlideMessage))),u&&u.forEach((t=>b(t,s,e.prevSlideMessage))),v()){C(t.pagination.el).forEach((e=>{e.addEventListener('keydown',_)}))}a().addEventListener('visibilitychange',I),t.el.addEventListener('focus',A,!0),t.el.addEventListener('focus',A,!0),t.el.addEventListener('pointerdown',E,!0),t.el.addEventListener('pointerup',T,!0)};n('beforeInit',(()=>{o=w('span',t.params.a11y.notificationClass),o.setAttribute('aria-live','assertive'),o.setAttribute('aria-atomic','true')})),n('afterInit',(()=>{t.params.a11y.enabled&&P()})),n('slidesLengthChange snapGridLengthChange slidesGridLengthChange',(()=>{t.params.a11y.enabled&&O()})),n('fromEdge toEdge afterInit lock unlock',(()=>{t.params.a11y.enabled&&function(){if(t.params.loop||t.params.rewind||!t.navigation)return;const{nextEl:e,prevEl:i}=t.navigation;i&&(t.isBeginning?(f(i),u(i)):(g(i),d(i))),e&&(t.isEnd?(f(e),u(e)):(g(e),d(e)))}()})),n('paginationUpdate',(()=>{t.params.a11y.enabled&&function(){const e=t.params.a11y;y()&&t.pagination.bullets.forEach((i=>{t.params.pagination.clickable&&(d(i),t.params.pagination.renderBullet||(p(i,'button'),m(i,e.paginationBulletMessage.replace(/\{\{index\}\}/,S(i)+1)))),i.matches(de(t.params.pagination.bulletActiveClass))?i.setAttribute('aria-current','true'):i.removeAttribute('aria-current')}))}()})),n('destroy',(()=>{t.params.a11y.enabled&&function(){o&&o.remove();let{nextEl:e,prevEl:i}=t.navigation?t.navigation:{};e=C(e),i=C(i),e&&e.forEach((e=>e.removeEventListener('keydown',_))),i&&i.forEach((e=>e.removeEventListener('keydown',_))),v()&&C(t.pagination.el).forEach((e=>{e.removeEventListener('keydown',_)}));a().removeEventListener('visibilitychange',I),t.el&&'string'!=typeof t.el&&(t.el.removeEventListener('focus',A,!0),t.el.removeEventListener('pointerdown',E,!0),t.el.removeEventListener('pointerup',T,!0))}()}))},function(e){let{swiper:t,extendParams:i,on:n}=e;i({history:{enabled:!1,root:'',replaceState:!1,key:'slides',keepQuery:!1}});let s=!1,r={};const a=e=>e.toString().replace(/\s+/g,'-').replace(/[^\w-]+/g,'').replace(/--+/g,'-').replace(/^-+/,'').replace(/-+$/,''),o=e=>{const t=l();let i;i=e?new URL(e):t.location;const n=i.pathname.slice(1).split('/').filter((e=>''!==e)),s=n.length;return{key:n[s-2],value:n[s-1]}},c=(e,i)=>{const n=l();if(!s||!t.params.history.enabled)return;let r;r=t.params.url?new URL(t.params.url):n.location;const o=t.virtual&&t.params.virtual.enabled?t.slidesEl.querySelector(`[data-swiper-slide-index="${i}"]`):t.slides[i];let c=a(o.getAttribute('data-history'));if(t.params.history.root.length>0){let i=t.params.history.root;'/'===i[i.length-1]&&(i=i.slice(0,i.length-1)),c=`${i}/${e?`${e}/`:''}${c}`}else r.pathname.includes(e)||(c=`${e?`${e}/`:''}${c}`);t.params.history.keepQuery&&(c+=r.search);const d=n.history.state;d&&d.value===c||(t.params.history.replaceState?n.history.replaceState({value:c},null,c):n.history.pushState({value:c},null,c))},d=(e,i,n)=>{if(i)for(let s=0,r=t.slides.length;s<r;s+=1){const r=t.slides[s];if(a(r.getAttribute('data-history'))===i){const i=t.getSlideIndex(r);t.slideTo(i,e,n)}}else t.slideTo(0,e,n)},u=()=>{r=o(t.params.url),d(t.params.speed,r.value,!1)};n('init',(()=>{t.params.history.enabled&&(()=>{const e=l();if(t.params.history){if(!e.history||!e.history.pushState)return t.params.history.enabled=!1,void(t.params.hashNavigation.enabled=!0);s=!0,r=o(t.params.url),r.key||r.value?(d(0,r.value,t.params.runCallbacksOnInit),t.params.history.replaceState||e.addEventListener('popstate',u)):t.params.history.replaceState||e.addEventListener('popstate',u)}})()})),n('destroy',(()=>{t.params.history.enabled&&(()=>{const e=l();t.params.history.replaceState||e.removeEventListener('popstate',u)})()})),n('transitionEnd _freeModeNoMomentumRelease',(()=>{s&&c(t.params.history.key,t.activeIndex)})),n('slideChange',(()=>{s&&t.params.cssMode&&c(t.params.history.key,t.activeIndex)}))},function(e){let{swiper:t,extendParams:i,emit:n,on:s}=e,r=!1;const o=a(),c=l();i({hashNavigation:{enabled:!1,replaceState:!1,watchState:!1,getSlideIndex(e,i){if(t.virtual&&t.params.virtual.enabled){const e=t.slides.find((e=>e.getAttribute('data-hash')===i));if(!e)return 0;return parseInt(e.getAttribute('data-swiper-slide-index'),10)}return t.getSlideIndex(y(t.slidesEl,`.${t.params.slideClass}[data-hash="${i}"], swiper-slide[data-hash="${i}"]`)[0])}}});const d=()=>{n('hashChange');const e=o.location.hash.replace('#',''),i=t.virtual&&t.params.virtual.enabled?t.slidesEl.querySelector(`[data-swiper-slide-index="${t.activeIndex}"]`):t.slides[t.activeIndex];if(e!==(i?i.getAttribute('data-hash'):'')){const i=t.params.hashNavigation.getSlideIndex(t,e);if(void 0===i||Number.isNaN(i))return;t.slideTo(i)}},u=()=>{if(!r||!t.params.hashNavigation.enabled)return;const e=t.virtual&&t.params.virtual.enabled?t.slidesEl.querySelector(`[data-swiper-slide-index="${t.activeIndex}"]`):t.slides[t.activeIndex],i=e?e.getAttribute('data-hash')||e.getAttribute('data-history'):'';t.params.hashNavigation.replaceState&&c.history&&c.history.replaceState?(c.history.replaceState(null,null,`#${i}`||''),n('hashSet')):(o.location.hash=i||'',n('hashSet'))};s('init',(()=>{t.params.hashNavigation.enabled&&(()=>{if(!t.params.hashNavigation.enabled||t.params.history&&t.params.history.enabled)return;r=!0;const e=o.location.hash.replace('#','');if(e){const i=0,n=t.params.hashNavigation.getSlideIndex(t,e);t.slideTo(n||0,i,t.params.runCallbacksOnInit,!0)}t.params.hashNavigation.watchState&&c.addEventListener('hashchange',d)})()})),s('destroy',(()=>{t.params.hashNavigation.enabled&&t.params.hashNavigation.watchState&&c.removeEventListener('hashchange',d)})),s('transitionEnd _freeModeNoMomentumRelease',(()=>{r&&u()})),s('slideChange',(()=>{r&&t.params.cssMode&&u()}))},function(e){let t,i,{swiper:n,extendParams:s,on:r,emit:o,params:l}=e;n.autoplay={running:!1,paused:!1,timeLeft:0},s({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!1,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});let c,d,u,p,h,m,f,g,_=l&&l.autoplay?l.autoplay.delay:3e3,y=l&&l.autoplay?l.autoplay.delay:3e3,v=(new Date).getTime();function w(e){n&&!n.destroyed&&n.wrapperEl&&e.target===n.wrapperEl&&(n.wrapperEl.removeEventListener('transitionend',w),g||e.detail&&e.detail.bySwiperTouchMove||A())}const b=()=>{if(n.destroyed||!n.autoplay.running)return;n.autoplay.paused?d=!0:d&&(y=c,d=!1);const e=n.autoplay.paused?c:v+y-(new Date).getTime();n.autoplay.timeLeft=e,o('autoplayTimeLeft',e,e/_),i=requestAnimationFrame((()=>{b()}))},E=e=>{if(n.destroyed||!n.autoplay.running)return;cancelAnimationFrame(i),b();let s=void 0===e?n.params.autoplay.delay:e;_=n.params.autoplay.delay,y=n.params.autoplay.delay;const r=(()=>{let e;if(e=n.virtual&&n.params.virtual.enabled?n.slides.find((e=>e.classList.contains('swiper-slide-active'))):n.slides[n.activeIndex],!e)return;return parseInt(e.getAttribute('data-swiper-autoplay'),10)})();!Number.isNaN(r)&&r>0&&void 0===e&&(s=r,_=r,y=r),c=s;const a=n.params.speed,l=()=>{n&&!n.destroyed&&(n.params.autoplay.reverseDirection?!n.isBeginning||n.params.loop||n.params.rewind?(n.slidePrev(a,!0,!0),o('autoplay')):n.params.autoplay.stopOnLastSlide||(n.slideTo(n.slides.length-1,a,!0,!0),o('autoplay')):!n.isEnd||n.params.loop||n.params.rewind?(n.slideNext(a,!0,!0),o('autoplay')):n.params.autoplay.stopOnLastSlide||(n.slideTo(0,a,!0,!0),o('autoplay')),n.params.cssMode&&(v=(new Date).getTime(),requestAnimationFrame((()=>{E()}))))};return s>0?(clearTimeout(t),t=setTimeout((()=>{l()}),s)):requestAnimationFrame((()=>{l()})),s},S=()=>{v=(new Date).getTime(),n.autoplay.running=!0,E(),o('autoplayStart')},T=()=>{n.autoplay.running=!1,clearTimeout(t),cancelAnimationFrame(i),o('autoplayStop')},I=(e,i)=>{if(n.destroyed||!n.autoplay.running)return;clearTimeout(t),e||(f=!0);const s=()=>{o('autoplayPause'),n.params.autoplay.waitForTransition?n.wrapperEl.addEventListener('transitionend',w):A()};if(n.autoplay.paused=!0,i)return m&&(c=n.params.autoplay.delay),m=!1,void s();const r=c||n.params.autoplay.delay;c=r-((new Date).getTime()-v),n.isEnd&&c<0&&!n.params.loop||(c<0&&(c=0),s())},A=()=>{n.isEnd&&c<0&&!n.params.loop||n.destroyed||!n.autoplay.running||(v=(new Date).getTime(),f?(f=!1,E(c)):E(),n.autoplay.paused=!1,o('autoplayResume'))},C=()=>{if(n.destroyed||!n.autoplay.running)return;const e=a();'hidden'===e.visibilityState&&(f=!0,I(!0)),'visible'===e.visibilityState&&A()},O=e=>{'mouse'===e.pointerType&&(f=!0,g=!0,n.animating||n.autoplay.paused||I(!0))},P=e=>{'mouse'===e.pointerType&&(g=!1,n.autoplay.paused&&A())};r('init',(()=>{n.params.autoplay.enabled&&(n.params.autoplay.pauseOnMouseEnter&&(n.el.addEventListener('pointerenter',O),n.el.addEventListener('pointerleave',P)),a().addEventListener('visibilitychange',C),S())})),r('destroy',(()=>{n.el&&'string'!=typeof n.el&&(n.el.removeEventListener('pointerenter',O),n.el.removeEventListener('pointerleave',P)),a().removeEventListener('visibilitychange',C),n.autoplay.running&&T()})),r('_freeModeStaticRelease',(()=>{(p||f)&&A()})),r('_freeModeNoMomentumRelease',(()=>{n.params.autoplay.disableOnInteraction?T():I(!0,!0)})),r('beforeTransitionStart',((e,t,i)=>{!n.destroyed&&n.autoplay.running&&(i||!n.params.autoplay.disableOnInteraction?I(!0,!0):T())})),r('sliderFirstMove',(()=>{!n.destroyed&&n.autoplay.running&&(n.params.autoplay.disableOnInteraction?T():(u=!0,p=!1,f=!1,h=setTimeout((()=>{f=!0,p=!0,I(!0)}),200)))})),r('touchEnd',(()=>{if(!n.destroyed&&n.autoplay.running&&u){if(clearTimeout(h),clearTimeout(t),n.params.autoplay.disableOnInteraction)return p=!1,void(u=!1);p&&n.params.cssMode&&A(),p=!1,u=!1}})),r('slideChange',(()=>{!n.destroyed&&n.autoplay.running&&(m=!0)})),Object.assign(n.autoplay,{start:S,stop:T,pause:I,resume:A})},function(e){let{swiper:t,extendParams:i,on:n}=e;i({thumbs:{swiper:null,multipleActiveThumbs:!0,autoScrollOffset:0,slideThumbActiveClass:'swiper-slide-thumb-active',thumbsContainerClass:'swiper-thumbs'}});let s=!1,r=!1;function o(){const e=t.thumbs.swiper;if(!e||e.destroyed)return;const i=e.clickedIndex,n=e.clickedSlide;if(n&&n.classList.contains(t.params.thumbs.slideThumbActiveClass))return;if(null==i)return;let s;s=e.params.loop?parseInt(e.clickedSlide.getAttribute('data-swiper-slide-index'),10):i,t.params.loop?t.slideToLoop(s):t.slideTo(s)}function l(){const{thumbs:e}=t.params;if(s)return!1;s=!0;const i=t.constructor;if(e.swiper instanceof i){if(e.swiper.destroyed)return s=!1,!1;t.thumbs.swiper=e.swiper,Object.assign(t.thumbs.swiper.originalParams,{watchSlidesProgress:!0,slideToClickedSlide:!1}),Object.assign(t.thumbs.swiper.params,{watchSlidesProgress:!0,slideToClickedSlide:!1}),t.thumbs.swiper.update()}else if(h(e.swiper)){const n=Object.assign({},e.swiper);Object.assign(n,{watchSlidesProgress:!0,slideToClickedSlide:!1}),t.thumbs.swiper=new i(n),r=!0}return t.thumbs.swiper.el.classList.add(t.params.thumbs.thumbsContainerClass),t.thumbs.swiper.on('tap',o),!0}function c(e){const i=t.thumbs.swiper;if(!i||i.destroyed)return;const n='auto'===i.params.slidesPerView?i.slidesPerViewDynamic():i.params.slidesPerView;let s=1;const r=t.params.thumbs.slideThumbActiveClass;if(t.params.slidesPerView>1&&!t.params.centeredSlides&&(s=t.params.slidesPerView),t.params.thumbs.multipleActiveThumbs||(s=1),s=Math.floor(s),i.slides.forEach((e=>e.classList.remove(r))),i.params.loop||i.params.virtual&&i.params.virtual.enabled)for(let e=0;e<s;e+=1)y(i.slidesEl,`[data-swiper-slide-index="${t.realIndex+e}"]`).forEach((e=>{e.classList.add(r)}));else for(let e=0;e<s;e+=1)i.slides[t.realIndex+e]&&i.slides[t.realIndex+e].classList.add(r);const a=t.params.thumbs.autoScrollOffset,o=a&&!i.params.loop;if(t.realIndex!==i.realIndex||o){const s=i.activeIndex;let r,l;if(i.params.loop){const e=i.slides.find((e=>e.getAttribute('data-swiper-slide-index')===`${t.realIndex}`));r=i.slides.indexOf(e),l=t.activeIndex>t.previousIndex?'next':'prev'}else r=t.realIndex,l=r>t.previousIndex?'next':'prev';o&&(r+='next'===l?a:-1*a),i.visibleSlidesIndexes&&i.visibleSlidesIndexes.indexOf(r)<0&&(i.params.centeredSlides?r=r>s?r-Math.floor(n/2)+1:r+Math.floor(n/2)-1:r>s&&i.params.slidesPerGroup,i.slideTo(r,e?0:void 0))}}t.thumbs={swiper:null},n('beforeInit',(()=>{const{thumbs:e}=t.params;if(e&&e.swiper)if('string'==typeof e.swiper||e.swiper instanceof HTMLElement){const i=a(),n=()=>{const n='string'==typeof e.swiper?i.querySelector(e.swiper):e.swiper;if(n&&n.swiper)e.swiper=n.swiper,l(),c(!0);else if(n){const i=`${t.params.eventsPrefix}init`,s=r=>{e.swiper=r.detail[0],n.removeEventListener(i,s),l(),c(!0),e.swiper.update(),t.update()};n.addEventListener(i,s)}return n},s=()=>{if(t.destroyed)return;n()||requestAnimationFrame(s)};requestAnimationFrame(s)}else l(),c(!0)})),n('slideChange update resize observerUpdate',(()=>{c()})),n('setTransition',((e,i)=>{const n=t.thumbs.swiper;n&&!n.destroyed&&n.setTransition(i)})),n('beforeDestroy',(()=>{const e=t.thumbs.swiper;e&&!e.destroyed&&r&&e.destroy()})),Object.assign(t.thumbs,{init:l,update:c})},function(e){let{swiper:t,extendParams:i,emit:n,once:s}=e;i({freeMode:{enabled:!1,momentum:!0,momentumRatio:1,momentumBounce:!0,momentumBounceRatio:1,momentumVelocityRatio:1,sticky:!1,minimumVelocity:.02}}),Object.assign(t,{freeMode:{onTouchStart:function(){if(t.params.cssMode)return;const e=t.getTranslate();t.setTranslate(e),t.setTransition(0),t.touchEventsData.velocities.length=0,t.freeMode.onTouchEnd({currentPos:t.rtl?t.translate:-t.translate})},onTouchMove:function(){if(t.params.cssMode)return;const{touchEventsData:e,touches:i}=t;0===e.velocities.length&&e.velocities.push({position:i[t.isHorizontal()?'startX':'startY'],time:e.touchStartTime}),e.velocities.push({position:i[t.isHorizontal()?'currentX':'currentY'],time:u()})},onTouchEnd:function(e){let{currentPos:i}=e;if(t.params.cssMode)return;const{params:r,wrapperEl:a,rtlTranslate:o,snapGrid:l,touchEventsData:c}=t,d=u()-c.touchStartTime;if(i<-t.minTranslate())t.slideTo(t.activeIndex);else if(i>-t.maxTranslate())t.slides.length<l.length?t.slideTo(l.length-1):t.slideTo(t.slides.length-1);else{if(r.freeMode.momentum){if(c.velocities.length>1){const e=c.velocities.pop(),i=c.velocities.pop(),n=e.position-i.position,s=e.time-i.time;t.velocity=n/s,t.velocity/=2,Math.abs(t.velocity)<r.freeMode.minimumVelocity&&(t.velocity=0),(s>150||u()-e.time>300)&&(t.velocity=0)}else t.velocity=0;t.velocity*=r.freeMode.momentumVelocityRatio,c.velocities.length=0;let e=1e3*r.freeMode.momentumRatio;const i=t.velocity*e;let d=t.translate+i;o&&(d=-d);let p,h=!1;const m=20*Math.abs(t.velocity)*r.freeMode.momentumBounceRatio;let f;if(d<t.maxTranslate())r.freeMode.momentumBounce?(d+t.maxTranslate()<-m&&(d=t.maxTranslate()-m),p=t.maxTranslate(),h=!0,c.allowMomentumBounce=!0):d=t.maxTranslate(),r.loop&&r.centeredSlides&&(f=!0);else if(d>t.minTranslate())r.freeMode.momentumBounce?(d-t.minTranslate()>m&&(d=t.minTranslate()+m),p=t.minTranslate(),h=!0,c.allowMomentumBounce=!0):d=t.minTranslate(),r.loop&&r.centeredSlides&&(f=!0);else if(r.freeMode.sticky){let e;for(let t=0;t<l.length;t+=1)if(l[t]>-d){e=t;break}d=Math.abs(l[e]-d)<Math.abs(l[e-1]-d)||'next'===t.swipeDirection?l[e]:l[e-1],d=-d}if(f&&s('transitionEnd',(()=>{t.loopFix()})),0!==t.velocity){if(e=o?Math.abs((-d-t.translate)/t.velocity):Math.abs((d-t.translate)/t.velocity),r.freeMode.sticky){const i=Math.abs((o?-d:d)-t.translate),n=t.slidesSizesGrid[t.activeIndex];e=i<n?r.speed:i<2*n?1.5*r.speed:2.5*r.speed}}else if(r.freeMode.sticky)return void t.slideToClosest();r.freeMode.momentumBounce&&h?(t.updateProgress(p),t.setTransition(e),t.setTranslate(d),t.transitionStart(!0,t.swipeDirection),t.animating=!0,I(a,(()=>{t&&!t.destroyed&&c.allowMomentumBounce&&(n('momentumBounce'),t.setTransition(r.speed),setTimeout((()=>{t.setTranslate(p),I(a,(()=>{t&&!t.destroyed&&t.transitionEnd()}))}),0))}))):t.velocity?(n('_freeModeNoMomentumRelease'),t.updateProgress(d),t.setTransition(e),t.setTranslate(d),t.transitionStart(!0,t.swipeDirection),t.animating||(t.animating=!0,I(a,(()=>{t&&!t.destroyed&&t.transitionEnd()})))):t.updateProgress(d),t.updateActiveIndex(),t.updateSlidesClasses()}else{if(r.freeMode.sticky)return void t.slideToClosest();r.freeMode&&n('_freeModeNoMomentumRelease')}(!r.freeMode.momentum||d>=r.longSwipesMs)&&(n('_freeModeStaticRelease'),t.updateProgress(),t.updateActiveIndex(),t.updateSlidesClasses())}}}})},function(e){let t,i,n,s,{swiper:r,extendParams:a,on:o}=e;a({grid:{rows:1,fill:'column'}});const l=()=>{let e=r.params.spaceBetween;return'string'==typeof e&&e.indexOf('%')>=0?e=parseFloat(e.replace('%',''))/100*r.size:'string'==typeof e&&(e=parseFloat(e)),e};o('init',(()=>{s=r.params.grid&&r.params.grid.rows>1})),o('update',(()=>{const{params:e,el:t}=r,i=e.grid&&e.grid.rows>1;s&&!i?(t.classList.remove(`${e.containerModifierClass}grid`,`${e.containerModifierClass}grid-column`),n=1,r.emitContainerClasses()):!s&&i&&(t.classList.add(`${e.containerModifierClass}grid`),'column'===e.grid.fill&&t.classList.add(`${e.containerModifierClass}grid-column`),r.emitContainerClasses()),s=i})),r.grid={initSlides:e=>{const{slidesPerView:s}=r.params,{rows:a,fill:o}=r.params.grid,l=r.virtual&&r.params.virtual.enabled?r.virtual.slides.length:e.length;n=Math.floor(l/a),t=Math.floor(l/a)===l/a?l:Math.ceil(l/a)*a,'auto'!==s&&'row'===o&&(t=Math.max(t,s*a)),i=t/a},unsetSlides:()=>{r.slides&&r.slides.forEach((e=>{e.swiperSlideGridSet&&(e.style.height='',e.style[r.getDirectionLabel('margin-top')]='')}))},updateSlide:(e,s,a)=>{const{slidesPerGroup:o}=r.params,c=l(),{rows:d,fill:u}=r.params.grid,p=r.virtual&&r.params.virtual.enabled?r.virtual.slides.length:a.length;let h,m,f;if('row'===u&&o>1){const i=Math.floor(e/(o*d)),n=e-d*o*i,r=0===i?o:Math.min(Math.ceil((p-i*d*o)/d),o);f=Math.floor(n/r),m=n-f*r+i*o,h=m+f*t/d,s.style.order=h}else'column'===u?(m=Math.floor(e/d),f=e-m*d,(m>n||m===n&&f===d-1)&&(f+=1,f>=d&&(f=0,m+=1))):(f=Math.floor(e/i),m=e-f*i);s.row=f,s.column=m,s.style.height=`calc((100% - ${(d-1)*c}px) / ${d})`,s.style[r.getDirectionLabel('margin-top')]=0!==f?c&&`${c}px`:'',s.swiperSlideGridSet=!0},updateWrapperSize:(e,i)=>{const{centeredSlides:n,roundLengths:s}=r.params,a=l(),{rows:o}=r.params.grid;if(r.virtualSize=(e+a)*t,r.virtualSize=Math.ceil(r.virtualSize/o)-a,r.params.cssMode||(r.wrapperEl.style[r.getDirectionLabel('width')]=`${r.virtualSize+a}px`),n){const e=[];for(let t=0;t<i.length;t+=1){let n=i[t];s&&(n=Math.floor(n)),i[t]<r.virtualSize+i[0]&&e.push(n)}i.splice(0,i.length),i.push(...e)}}}},function(e){let{swiper:t}=e;Object.assign(t,{appendSlide:ue.bind(t),prependSlide:pe.bind(t),addSlide:he.bind(t),removeSlide:me.bind(t),removeAllSlides:fe.bind(t)})},function(e){let{swiper:t,extendParams:i,on:n}=e;i({fadeEffect:{crossFade:!1}}),ge({effect:'fade',swiper:t,on:n,setTranslate:()=>{const{slides:e}=t;t.params.fadeEffect;for(let i=0;i<e.length;i+=1){const e=t.slides[i];let n=-e.swiperSlideOffset;t.params.virtualTranslate||(n-=t.translate);let s=0;t.isHorizontal()||(s=n,n=0);const r=t.params.fadeEffect.crossFade?Math.max(1-Math.abs(e.progress),0):1+Math.min(Math.max(e.progress,-1),0),a=_e(0,e);a.style.opacity=r,a.style.transform=`translate3d(${n}px, ${s}px, 0px)`}},setTransition:e=>{const i=t.slides.map((e=>_(e)));i.forEach((t=>{t.style.transitionDuration=`${e}ms`})),ye({swiper:t,duration:e,transformElements:i,allSlides:!0})},overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!t.params.cssMode})})},function(e){let{swiper:t,extendParams:i,on:n}=e;i({cubeEffect:{slideShadows:!0,shadow:!0,shadowOffset:20,shadowScale:.94}});const s=(e,t,i)=>{let n=i?e.querySelector('.swiper-slide-shadow-left'):e.querySelector('.swiper-slide-shadow-top'),s=i?e.querySelector('.swiper-slide-shadow-right'):e.querySelector('.swiper-slide-shadow-bottom');n||(n=w('div',('swiper-slide-shadow-cube swiper-slide-shadow-'+(i?'left':'top')).split(' ')),e.append(n)),s||(s=w('div',('swiper-slide-shadow-cube swiper-slide-shadow-'+(i?'right':'bottom')).split(' ')),e.append(s)),n&&(n.style.opacity=Math.max(-t,0)),s&&(s.style.opacity=Math.max(t,0))};ge({effect:'cube',swiper:t,on:n,setTranslate:()=>{const{el:e,wrapperEl:i,slides:n,width:r,height:a,rtlTranslate:o,size:l,browser:c}=t,d=O(t),u=t.params.cubeEffect,p=t.isHorizontal(),h=t.virtual&&t.params.virtual.enabled;let m,f=0;u.shadow&&(p?(m=t.wrapperEl.querySelector('.swiper-cube-shadow'),m||(m=w('div','swiper-cube-shadow'),t.wrapperEl.append(m)),m.style.height=`${r}px`):(m=e.querySelector('.swiper-cube-shadow'),m||(m=w('div','swiper-cube-shadow'),e.append(m))));for(let e=0;e<n.length;e+=1){const t=n[e];let i=e;h&&(i=parseInt(t.getAttribute('data-swiper-slide-index'),10));let r=90*i,a=Math.floor(r/360);o&&(r=-r,a=Math.floor(-r/360));const c=Math.max(Math.min(t.progress,1),-1);let m=0,g=0,_=0;i%4==0?(m=4*-a*l,_=0):(i-1)%4==0?(m=0,_=4*-a*l):(i-2)%4==0?(m=l+4*a*l,_=l):(i-3)%4==0&&(m=-l,_=3*l+4*l*a),o&&(m=-m),p||(g=m,m=0);const y=`rotateX(${d(p?0:-r)}deg) rotateY(${d(p?r:0)}deg) translate3d(${m}px, ${g}px, ${_}px)`;c<=1&&c>-1&&(f=90*i+90*c,o&&(f=90*-i-90*c)),t.style.transform=y,u.slideShadows&&s(t,c,p)}if(i.style.transformOrigin=`50% 50% -${l/2}px`,i.style['-webkit-transform-origin']=`50% 50% -${l/2}px`,u.shadow)if(p)m.style.transform=`translate3d(0px, ${r/2+u.shadowOffset}px, ${-r/2}px) rotateX(89.99deg) rotateZ(0deg) scale(${u.shadowScale})`;else{const e=Math.abs(f)-90*Math.floor(Math.abs(f)/90),t=1.5-(Math.sin(2*e*Math.PI/360)/2+Math.cos(2*e*Math.PI/360)/2),i=u.shadowScale,n=u.shadowScale/t,s=u.shadowOffset;m.style.transform=`scale3d(${i}, 1, ${n}) translate3d(0px, ${a/2+s}px, ${-a/2/n}px) rotateX(-89.99deg)`}const g=(c.isSafari||c.isWebView)&&c.needPerspectiveFix?-l/2:0;i.style.transform=`translate3d(0px,0,${g}px) rotateX(${d(t.isHorizontal()?0:f)}deg) rotateY(${d(t.isHorizontal()?-f:0)}deg)`,i.style.setProperty('--swiper-cube-translate-z',`${g}px`)},setTransition:e=>{const{el:i,slides:n}=t;if(n.forEach((t=>{t.style.transitionDuration=`${e}ms`,t.querySelectorAll('.swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left').forEach((t=>{t.style.transitionDuration=`${e}ms`}))})),t.params.cubeEffect.shadow&&!t.isHorizontal()){const t=i.querySelector('.swiper-cube-shadow');t&&(t.style.transitionDuration=`${e}ms`)}},recreateShadows:()=>{const e=t.isHorizontal();t.slides.forEach((t=>{const i=Math.max(Math.min(t.progress,1),-1);s(t,i,e)}))},getEffectParams:()=>t.params.cubeEffect,perspective:()=>!0,overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,resistanceRatio:0,spaceBetween:0,centeredSlides:!1,virtualTranslate:!0})})},function(e){let{swiper:t,extendParams:i,on:n}=e;i({flipEffect:{slideShadows:!0,limitRotation:!0}});const s=(e,i)=>{let n=t.isHorizontal()?e.querySelector('.swiper-slide-shadow-left'):e.querySelector('.swiper-slide-shadow-top'),s=t.isHorizontal()?e.querySelector('.swiper-slide-shadow-right'):e.querySelector('.swiper-slide-shadow-bottom');n||(n=ve('flip',e,t.isHorizontal()?'left':'top')),s||(s=ve('flip',e,t.isHorizontal()?'right':'bottom')),n&&(n.style.opacity=Math.max(-i,0)),s&&(s.style.opacity=Math.max(i,0))};ge({effect:'flip',swiper:t,on:n,setTranslate:()=>{const{slides:e,rtlTranslate:i}=t,n=t.params.flipEffect,r=O(t);for(let a=0;a<e.length;a+=1){const o=e[a];let l=o.progress;t.params.flipEffect.limitRotation&&(l=Math.max(Math.min(o.progress,1),-1));const c=o.swiperSlideOffset;let d=-180*l,u=0,p=t.params.cssMode?-c-t.translate:-c,h=0;t.isHorizontal()?i&&(d=-d):(h=p,p=0,u=-d,d=0),o.style.zIndex=-Math.abs(Math.round(l))+e.length,n.slideShadows&&s(o,l);const m=`translate3d(${p}px, ${h}px, 0px) rotateX(${r(u)}deg) rotateY(${r(d)}deg)`;_e(0,o).style.transform=m}},setTransition:e=>{const i=t.slides.map((e=>_(e)));i.forEach((t=>{t.style.transitionDuration=`${e}ms`,t.querySelectorAll('.swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left').forEach((t=>{t.style.transitionDuration=`${e}ms`}))})),ye({swiper:t,duration:e,transformElements:i})},recreateShadows:()=>{t.params.flipEffect,t.slides.forEach((e=>{let i=e.progress;t.params.flipEffect.limitRotation&&(i=Math.max(Math.min(e.progress,1),-1)),s(e,i)}))},getEffectParams:()=>t.params.flipEffect,perspective:()=>!0,overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!t.params.cssMode})})},function(e){let{swiper:t,extendParams:i,on:n}=e;i({coverflowEffect:{rotate:50,stretch:0,depth:100,scale:1,modifier:1,slideShadows:!0}}),ge({effect:'coverflow',swiper:t,on:n,setTranslate:()=>{const{width:e,height:i,slides:n,slidesSizesGrid:s}=t,r=t.params.coverflowEffect,a=t.isHorizontal(),o=t.translate,l=a?e/2-o:i/2-o,c=a?r.rotate:-r.rotate,d=r.depth,u=O(t);for(let e=0,t=n.length;e<t;e+=1){const t=n[e],i=s[e],o=(l-t.swiperSlideOffset-i/2)/i,p='function'==typeof r.modifier?r.modifier(o):o*r.modifier;let h=a?c*p:0,m=a?0:c*p,f=-d*Math.abs(p),g=r.stretch;'string'==typeof g&&-1!==g.indexOf('%')&&(g=parseFloat(r.stretch)/100*i);let _=a?0:g*p,y=a?g*p:0,v=1-(1-r.scale)*Math.abs(p);Math.abs(y)<.001&&(y=0),Math.abs(_)<.001&&(_=0),Math.abs(f)<.001&&(f=0),Math.abs(h)<.001&&(h=0),Math.abs(m)<.001&&(m=0),Math.abs(v)<.001&&(v=0);const w=`translate3d(${y}px,${_}px,${f}px)  rotateX(${u(m)}deg) rotateY(${u(h)}deg) scale(${v})`;if(_e(0,t).style.transform=w,t.style.zIndex=1-Math.abs(Math.round(p)),r.slideShadows){let e=a?t.querySelector('.swiper-slide-shadow-left'):t.querySelector('.swiper-slide-shadow-top'),i=a?t.querySelector('.swiper-slide-shadow-right'):t.querySelector('.swiper-slide-shadow-bottom');e||(e=ve('coverflow',t,a?'left':'top')),i||(i=ve('coverflow',t,a?'right':'bottom')),e&&(e.style.opacity=p>0?p:0),i&&(i.style.opacity=-p>0?-p:0)}}},setTransition:e=>{t.slides.map((e=>_(e))).forEach((t=>{t.style.transitionDuration=`${e}ms`,t.querySelectorAll('.swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left').forEach((t=>{t.style.transitionDuration=`${e}ms`}))}))},perspective:()=>!0,overwriteParams:()=>({watchSlidesProgress:!0})})},function(e){let{swiper:t,extendParams:i,on:n}=e;i({creativeEffect:{limitProgress:1,shadowPerProgress:!1,progressMultiplier:1,perspective:!0,prev:{translate:[0,0,0],rotate:[0,0,0],opacity:1,scale:1},next:{translate:[0,0,0],rotate:[0,0,0],opacity:1,scale:1}}});const s=e=>'string'==typeof e?e:`${e}px`;ge({effect:'creative',swiper:t,on:n,setTranslate:()=>{const{slides:e,wrapperEl:i,slidesSizesGrid:n}=t,r=t.params.creativeEffect,{progressMultiplier:a}=r,o=t.params.centeredSlides,l=O(t);if(o){const e=n[0]/2-t.params.slidesOffsetBefore||0;i.style.transform=`translateX(calc(50% - ${e}px))`}for(let i=0;i<e.length;i+=1){const n=e[i],c=n.progress,d=Math.min(Math.max(n.progress,-r.limitProgress),r.limitProgress);let u=d;o||(u=Math.min(Math.max(n.originalProgress,-r.limitProgress),r.limitProgress));const p=n.swiperSlideOffset,h=[t.params.cssMode?-p-t.translate:-p,0,0],m=[0,0,0];let f=!1;t.isHorizontal()||(h[1]=h[0],h[0]=0);let g={translate:[0,0,0],rotate:[0,0,0],scale:1,opacity:1};d<0?(g=r.next,f=!0):d>0&&(g=r.prev,f=!0),h.forEach(((e,t)=>{h[t]=`calc(${e}px + (${s(g.translate[t])} * ${Math.abs(d*a)}))`})),m.forEach(((e,t)=>{let i=g.rotate[t]*Math.abs(d*a);m[t]=i})),n.style.zIndex=-Math.abs(Math.round(c))+e.length;const _=h.join(', '),y=`rotateX(${l(m[0])}deg) rotateY(${l(m[1])}deg) rotateZ(${l(m[2])}deg)`,v=u<0?`scale(${1+(1-g.scale)*u*a})`:`scale(${1-(1-g.scale)*u*a})`,w=u<0?1+(1-g.opacity)*u*a:1-(1-g.opacity)*u*a,b=`translate3d(${_}) ${y} ${v}`;if(f&&g.shadow||!f){let e=n.querySelector('.swiper-slide-shadow');if(!e&&g.shadow&&(e=ve('creative',n)),e){const t=r.shadowPerProgress?d*(1/r.limitProgress):d;e.style.opacity=Math.min(Math.max(Math.abs(t),0),1)}}const E=_e(0,n);E.style.transform=b,E.style.opacity=w,g.origin&&(E.style.transformOrigin=g.origin)}},setTransition:e=>{const i=t.slides.map((e=>_(e)));i.forEach((t=>{t.style.transitionDuration=`${e}ms`,t.querySelectorAll('.swiper-slide-shadow').forEach((t=>{t.style.transitionDuration=`${e}ms`}))})),ye({swiper:t,duration:e,transformElements:i,allSlides:!0})},perspective:()=>t.params.creativeEffect.perspective,overwriteParams:()=>({watchSlidesProgress:!0,virtualTranslate:!t.params.cssMode})})},function(e){let{swiper:t,extendParams:i,on:n}=e;i({cardsEffect:{slideShadows:!0,rotate:!0,perSlideRotate:2,perSlideOffset:8}}),ge({effect:'cards',swiper:t,on:n,setTranslate:()=>{const{slides:e,activeIndex:i,rtlTranslate:n}=t,s=t.params.cardsEffect,{startTranslate:r,isTouched:a}=t.touchEventsData,o=n?-t.translate:t.translate;for(let l=0;l<e.length;l+=1){const c=e[l],d=c.progress,u=Math.min(Math.max(d,-4),4);let p=c.swiperSlideOffset;t.params.centeredSlides&&!t.params.cssMode&&(t.wrapperEl.style.transform=`translateX(${t.minTranslate()}px)`),t.params.centeredSlides&&t.params.cssMode&&(p-=e[0].swiperSlideOffset);let h=t.params.cssMode?-p-t.translate:-p,m=0;const f=-100*Math.abs(u);let g=1,_=-s.perSlideRotate*u,y=s.perSlideOffset-.75*Math.abs(u);const v=t.virtual&&t.params.virtual.enabled?t.virtual.from+l:l,w=(v===i||v===i-1)&&u>0&&u<1&&(a||t.params.cssMode)&&o<r,b=(v===i||v===i+1)&&u<0&&u>-1&&(a||t.params.cssMode)&&o>r;if(w||b){const e=(1-Math.abs((Math.abs(u)-.5)/.5))**.5;_+=-28*u*e,g+=-.5*e,y+=96*e,m=-25*e*Math.abs(u)+'%'}if(h=u<0?`calc(${h}px ${n?'-':'+'} (${y*Math.abs(u)}%))`:u>0?`calc(${h}px ${n?'-':'+'} (-${y*Math.abs(u)}%))`:`${h}px`,!t.isHorizontal()){const e=m;m=h,h=e}const E=u<0?''+(1+(1-g)*u):''+(1-(1-g)*u),S=`\n        translate3d(${h}, ${m}, ${f}px)\n        rotateZ(${s.rotate?n?-_:_:0}deg)\n        scale(${E})\n      `;if(s.slideShadows){let e=c.querySelector('.swiper-slide-shadow');e||(e=ve('cards',c)),e&&(e.style.opacity=Math.min(Math.max((Math.abs(u)-.5)/.5,0),1))}c.style.zIndex=-Math.abs(Math.round(d))+e.length;_e(0,c).style.transform=S}},setTransition:e=>{const i=t.slides.map((e=>_(e)));i.forEach((t=>{t.style.transitionDuration=`${e}ms`,t.querySelectorAll('.swiper-slide-shadow').forEach((t=>{t.style.transitionDuration=`${e}ms`}))})),ye({swiper:t,duration:e,transformElements:i})},perspective:()=>!0,overwriteParams:()=>({_loopSwapReset:!1,watchSlidesProgress:!0,loopAdditionalSlides:t.params.cardsEffect.rotate?3:2,centeredSlides:!0,virtualTranslate:!t.params.cssMode})})}];le.use(we);const be=['eventsPrefix','injectStyles','injectStylesUrls','modules','init','_direction','oneWayMovement','swiperElementNodeName','touchEventsTarget','initialSlide','_speed','cssMode','updateOnWindowResize','resizeObserver','nested','focusableElements','_enabled','_width','_height','preventInteractionOnTransition','userAgent','url','_edgeSwipeDetection','_edgeSwipeThreshold','_freeMode','_autoHeight','setWrapperSize','virtualTranslate','_effect','breakpoints','breakpointsBase','_spaceBetween','_slidesPerView','maxBackfaceHiddenSlides','_grid','_slidesPerGroup','_slidesPerGroupSkip','_slidesPerGroupAuto','_centeredSlides','_centeredSlidesBounds','_slidesOffsetBefore','_slidesOffsetAfter','normalizeSlideIndex','_centerInsufficientSlides','_watchOverflow','roundLengths','touchRatio','touchAngle','simulateTouch','_shortSwipes','_longSwipes','longSwipesRatio','longSwipesMs','_followFinger','allowTouchMove','_threshold','touchMoveStopPropagation','touchStartPreventDefault','touchStartForcePreventDefault','touchReleaseOnEdges','uniqueNavElements','_resistance','_resistanceRatio','_watchSlidesProgress','_grabCursor','preventClicks','preventClicksPropagation','_slideToClickedSlide','_loop','loopAdditionalSlides','loopAddBlankSlides','loopPreventsSliding','_rewind','_allowSlidePrev','_allowSlideNext','_swipeHandler','_noSwiping','noSwipingClass','noSwipingSelector','passiveListeners','containerModifierClass','slideClass','slideActiveClass','slideVisibleClass','slideFullyVisibleClass','slideNextClass','slidePrevClass','slideBlankClass','wrapperClass','lazyPreloaderClass','lazyPreloadPrevNext','runCallbacksOnInit','observer','observeParents','observeSlideChildren','a11y','_autoplay','_controller','coverflowEffect','cubeEffect','fadeEffect','flipEffect','creativeEffect','cardsEffect','hashNavigation','history','keyboard','mousewheel','_navigation','_pagination','parallax','_scrollbar','_thumbs','virtual','zoom','control'];function Ee(e){return'object'==typeof e&&null!==e&&e.constructor&&'Object'===Object.prototype.toString.call(e).slice(8,-1)&&!e.__swiper__}function Se(e,t){const i=['__proto__','constructor','prototype'];Object.keys(t).filter((e=>i.indexOf(e)<0)).forEach((i=>{void 0===e[i]?e[i]=t[i]:Ee(t[i])&&Ee(e[i])&&Object.keys(t[i]).length>0?t[i].__swiper__?e[i]=t[i]:Se(e[i],t[i]):e[i]=t[i]}))}function Te(e){return void 0===e&&(e=''),e.replace(/-[a-z]/g,(e=>e.toUpperCase().replace('-','')))}const Ie=e=>{if(parseFloat(e)===Number(e))return Number(e);if('true'===e)return!0;if(''===e)return!0;if('false'===e)return!1;if('null'===e)return null;if('undefined'!==e){if('string'==typeof e&&e.includes('{')&&e.includes('}')&&e.includes('"')){let t;try{t=JSON.parse(e)}catch(i){t=e}return t}return e}},Ae=['a11y','autoplay','controller','cards-effect','coverflow-effect','creative-effect','cube-effect','fade-effect','flip-effect','free-mode','grid','hash-navigation','history','keyboard','mousewheel','navigation','pagination','parallax','scrollbar','thumbs','virtual','zoom'];function Ce(e,t,i){const n={},s={};Se(n,se);const r=[...be,'on'],a=r.map((e=>e.replace(/_/,'')));r.forEach((t=>{t=t.replace('_',''),void 0!==e[t]&&(s[t]=e[t])}));const o=[...e.attributes];return'string'==typeof t&&void 0!==i&&o.push({name:t,value:Ee(i)?{...i}:i}),o.forEach((e=>{const t=Ae.find((t=>e.name.startsWith(`${t}-`)));if(t){const i=Te(t),n=Te(e.name.split(`${t}-`)[1]);void 0===s[i]&&(s[i]={}),!0===s[i]&&(s[i]={enabled:!0}),s[i][n]=Ie(e.value)}else{const t=Te(e.name);if(!a.includes(t))return;const i=Ie(e.value);s[t]&&Ae.includes(e.name)&&!Ee(i)?(s[t].constructor!==Object&&(s[t]={}),s[t].enabled=!!i):s[t]=i}})),Se(n,s),n.navigation?n.navigation={prevEl:'.swiper-button-prev',nextEl:'.swiper-button-next',...!0!==n.navigation?n.navigation:{}}:!1===n.navigation&&delete n.navigation,n.scrollbar?n.scrollbar={el:'.swiper-scrollbar',...!0!==n.scrollbar?n.scrollbar:{}}:!1===n.scrollbar&&delete n.scrollbar,n.pagination?n.pagination={el:'.swiper-pagination',...!0!==n.pagination?n.pagination:{}}:!1===n.pagination&&delete n.pagination,{params:n,passedParams:s}}const Oe=':host{--swiper-theme-color:#007aff}:host{position:relative;display:block;margin-left:auto;margin-right:auto;z-index:1}.swiper{width:100%;height:100%;margin-left:auto;margin-right:auto;position:relative;overflow:hidden;list-style:none;padding:0;z-index:1;display:block}.swiper-vertical>.swiper-wrapper{flex-direction:column}.swiper-wrapper{position:relative;width:100%;height:100%;z-index:1;display:flex;transition-property:transform;transition-timing-function:var(--swiper-wrapper-transition-timing-function,initial);box-sizing:content-box}.swiper-android ::slotted(swiper-slide),.swiper-ios ::slotted(swiper-slide),.swiper-wrapper{transform:translate3d(0px,0,0)}.swiper-horizontal{touch-action:pan-y}.swiper-vertical{touch-action:pan-x}::slotted(swiper-slide){flex-shrink:0;width:100%;height:100%;position:relative;transition-property:transform;display:block}::slotted(.swiper-slide-invisible-blank){visibility:hidden}.swiper-autoheight,.swiper-autoheight ::slotted(swiper-slide){height:auto}.swiper-autoheight .swiper-wrapper{align-items:flex-start;transition-property:transform,height}.swiper-backface-hidden ::slotted(swiper-slide){transform:translateZ(0);-webkit-backface-visibility:hidden;backface-visibility:hidden}.swiper-3d.swiper-css-mode .swiper-wrapper{perspective:1200px}.swiper-3d .swiper-wrapper{transform-style:preserve-3d}.swiper-3d{perspective:1200px}.swiper-3d .swiper-cube-shadow,.swiper-3d ::slotted(swiper-slide){transform-style:preserve-3d}.swiper-css-mode>.swiper-wrapper{overflow:auto;scrollbar-width:none;-ms-overflow-style:none}.swiper-css-mode>.swiper-wrapper::-webkit-scrollbar{display:none}.swiper-css-mode ::slotted(swiper-slide){scroll-snap-align:start start}.swiper-css-mode.swiper-horizontal>.swiper-wrapper{scroll-snap-type:x mandatory}.swiper-css-mode.swiper-vertical>.swiper-wrapper{scroll-snap-type:y mandatory}.swiper-css-mode.swiper-free-mode>.swiper-wrapper{scroll-snap-type:none}.swiper-css-mode.swiper-free-mode ::slotted(swiper-slide){scroll-snap-align:none}.swiper-css-mode.swiper-centered>.swiper-wrapper::before{content:\'\';flex-shrink:0;order:9999}.swiper-css-mode.swiper-centered ::slotted(swiper-slide){scroll-snap-align:center center;scroll-snap-stop:always}.swiper-css-mode.swiper-centered.swiper-horizontal ::slotted(swiper-slide):first-child{margin-inline-start:var(--swiper-centered-offset-before)}.swiper-css-mode.swiper-centered.swiper-horizontal>.swiper-wrapper::before{height:100%;min-height:1px;width:var(--swiper-centered-offset-after)}.swiper-css-mode.swiper-centered.swiper-vertical ::slotted(swiper-slide):first-child{margin-block-start:var(--swiper-centered-offset-before)}.swiper-css-mode.swiper-centered.swiper-vertical>.swiper-wrapper::before{width:100%;min-width:1px;height:var(--swiper-centered-offset-after)}.swiper-virtual ::slotted(swiper-slide){-webkit-backface-visibility:hidden;transform:translateZ(0)}.swiper-virtual.swiper-css-mode .swiper-wrapper::after{content:\'\';position:absolute;left:0;top:0;pointer-events:none}.swiper-virtual.swiper-css-mode.swiper-horizontal .swiper-wrapper::after{height:1px;width:var(--swiper-virtual-size)}.swiper-virtual.swiper-css-mode.swiper-vertical .swiper-wrapper::after{width:1px;height:var(--swiper-virtual-size)}:host{--swiper-navigation-size:44px}.swiper-button-next,.swiper-button-prev{position:absolute;top:var(--swiper-navigation-top-offset,50%);width:calc(var(--swiper-navigation-size)/ 44 * 27);height:var(--swiper-navigation-size);margin-top:calc(0px - (var(--swiper-navigation-size)/ 2));z-index:10;cursor:pointer;display:flex;align-items:center;justify-content:center;color:var(--swiper-navigation-color,var(--swiper-theme-color))}.swiper-button-next.swiper-button-disabled,.swiper-button-prev.swiper-button-disabled{opacity:.35;cursor:auto;pointer-events:none}.swiper-button-next.swiper-button-hidden,.swiper-button-prev.swiper-button-hidden{opacity:0;cursor:auto;pointer-events:none}.swiper-navigation-disabled .swiper-button-next,.swiper-navigation-disabled .swiper-button-prev{display:none!important}.swiper-button-next svg,.swiper-button-prev svg{width:100%;height:100%;object-fit:contain;transform-origin:center}.swiper-rtl .swiper-button-next svg,.swiper-rtl .swiper-button-prev svg{transform:rotate(180deg)}.swiper-button-prev,.swiper-rtl .swiper-button-next{left:var(--swiper-navigation-sides-offset,10px);right:auto}.swiper-button-next,.swiper-rtl .swiper-button-prev{right:var(--swiper-navigation-sides-offset,10px);left:auto}.swiper-button-lock{display:none}.swiper-pagination{position:absolute;text-align:center;transition:.3s opacity;transform:translate3d(0,0,0);z-index:10}.swiper-pagination.swiper-pagination-hidden{opacity:0}.swiper-pagination-disabled>.swiper-pagination,.swiper-pagination.swiper-pagination-disabled{display:none!important}.swiper-horizontal>.swiper-pagination-bullets,.swiper-pagination-bullets.swiper-pagination-horizontal,.swiper-pagination-custom,.swiper-pagination-fraction{bottom:var(--swiper-pagination-bottom,8px);top:var(--swiper-pagination-top,auto);left:0;width:100%}.swiper-pagination-bullets-dynamic{overflow:hidden;font-size:0}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet{transform:scale(.33);position:relative}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active{transform:scale(1)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-main{transform:scale(1)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-prev{transform:scale(.66)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-prev-prev{transform:scale(.33)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-next{transform:scale(.66)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-next-next{transform:scale(.33)}.swiper-pagination-bullet{width:var(--swiper-pagination-bullet-width,var(--swiper-pagination-bullet-size,8px));height:var(--swiper-pagination-bullet-height,var(--swiper-pagination-bullet-size,8px));display:inline-block;border-radius:var(--swiper-pagination-bullet-border-radius,50%);background:var(--swiper-pagination-bullet-inactive-color,#000);opacity:var(--swiper-pagination-bullet-inactive-opacity, .2)}button.swiper-pagination-bullet{border:none;margin:0;padding:0;box-shadow:none;-webkit-appearance:none;appearance:none}.swiper-pagination-clickable .swiper-pagination-bullet{cursor:pointer}.swiper-pagination-bullet:only-child{display:none!important}.swiper-pagination-bullet-active{opacity:var(--swiper-pagination-bullet-opacity, 1);background:var(--swiper-pagination-color,var(--swiper-theme-color))}.swiper-pagination-vertical.swiper-pagination-bullets,.swiper-vertical>.swiper-pagination-bullets{right:var(--swiper-pagination-right,8px);left:var(--swiper-pagination-left,auto);top:50%;transform:translate3d(0px,-50%,0)}.swiper-pagination-vertical.swiper-pagination-bullets .swiper-pagination-bullet,.swiper-vertical>.swiper-pagination-bullets .swiper-pagination-bullet{margin:var(--swiper-pagination-bullet-vertical-gap,6px) 0;display:block}.swiper-pagination-vertical.swiper-pagination-bullets.swiper-pagination-bullets-dynamic,.swiper-vertical>.swiper-pagination-bullets.swiper-pagination-bullets-dynamic{top:50%;transform:translateY(-50%);width:8px}.swiper-pagination-vertical.swiper-pagination-bullets.swiper-pagination-bullets-dynamic .swiper-pagination-bullet,.swiper-vertical>.swiper-pagination-bullets.swiper-pagination-bullets-dynamic .swiper-pagination-bullet{display:inline-block;transition:.2s transform,.2s top}.swiper-horizontal>.swiper-pagination-bullets .swiper-pagination-bullet,.swiper-pagination-horizontal.swiper-pagination-bullets .swiper-pagination-bullet{margin:0 var(--swiper-pagination-bullet-horizontal-gap,4px)}.swiper-horizontal>.swiper-pagination-bullets.swiper-pagination-bullets-dynamic,.swiper-pagination-horizontal.swiper-pagination-bullets.swiper-pagination-bullets-dynamic{left:50%;transform:translateX(-50%);white-space:nowrap}.swiper-horizontal>.swiper-pagination-bullets.swiper-pagination-bullets-dynamic .swiper-pagination-bullet,.swiper-pagination-horizontal.swiper-pagination-bullets.swiper-pagination-bullets-dynamic .swiper-pagination-bullet{transition:.2s transform,.2s left}.swiper-horizontal.swiper-rtl>.swiper-pagination-bullets-dynamic .swiper-pagination-bullet{transition:.2s transform,.2s right}.swiper-pagination-fraction{color:var(--swiper-pagination-fraction-color,inherit)}.swiper-pagination-progressbar{background:var(--swiper-pagination-progressbar-bg-color,rgba(0,0,0,.25));position:absolute}.swiper-pagination-progressbar .swiper-pagination-progressbar-fill{background:var(--swiper-pagination-color,var(--swiper-theme-color));position:absolute;left:0;top:0;width:100%;height:100%;transform:scale(0);transform-origin:left top}.swiper-rtl .swiper-pagination-progressbar .swiper-pagination-progressbar-fill{transform-origin:right top}.swiper-horizontal>.swiper-pagination-progressbar,.swiper-pagination-progressbar.swiper-pagination-horizontal,.swiper-pagination-progressbar.swiper-pagination-vertical.swiper-pagination-progressbar-opposite,.swiper-vertical>.swiper-pagination-progressbar.swiper-pagination-progressbar-opposite{width:100%;height:var(--swiper-pagination-progressbar-size,4px);left:0;top:0}.swiper-horizontal>.swiper-pagination-progressbar.swiper-pagination-progressbar-opposite,.swiper-pagination-progressbar.swiper-pagination-horizontal.swiper-pagination-progressbar-opposite,.swiper-pagination-progressbar.swiper-pagination-vertical,.swiper-vertical>.swiper-pagination-progressbar{width:var(--swiper-pagination-progressbar-size,4px);height:100%;left:0;top:0}.swiper-pagination-lock{display:none}.swiper-scrollbar{border-radius:var(--swiper-scrollbar-border-radius,10px);position:relative;touch-action:none;background:var(--swiper-scrollbar-bg-color,rgba(0,0,0,.1))}.swiper-scrollbar-disabled>.swiper-scrollbar,.swiper-scrollbar.swiper-scrollbar-disabled{display:none!important}.swiper-horizontal>.swiper-scrollbar,.swiper-scrollbar.swiper-scrollbar-horizontal{position:absolute;left:var(--swiper-scrollbar-sides-offset,1%);bottom:var(--swiper-scrollbar-bottom,4px);top:var(--swiper-scrollbar-top,auto);z-index:50;height:var(--swiper-scrollbar-size,4px);width:calc(100% - 2 * var(--swiper-scrollbar-sides-offset,1%))}.swiper-scrollbar.swiper-scrollbar-vertical,.swiper-vertical>.swiper-scrollbar{position:absolute;left:var(--swiper-scrollbar-left,auto);right:var(--swiper-scrollbar-right,4px);top:var(--swiper-scrollbar-sides-offset,1%);z-index:50;width:var(--swiper-scrollbar-size,4px);height:calc(100% - 2 * var(--swiper-scrollbar-sides-offset,1%))}.swiper-scrollbar-drag{height:100%;width:100%;position:relative;background:var(--swiper-scrollbar-drag-bg-color,rgba(0,0,0,.5));border-radius:var(--swiper-scrollbar-border-radius,10px);left:0;top:0}.swiper-scrollbar-cursor-drag{cursor:move}.swiper-scrollbar-lock{display:none}::slotted(.swiper-slide-zoomed){cursor:move;touch-action:none}.swiper .swiper-notification{position:absolute;left:0;top:0;pointer-events:none;opacity:0;z-index:-1000}.swiper-free-mode>.swiper-wrapper{transition-timing-function:ease-out;margin:0 auto}.swiper-grid>.swiper-wrapper{flex-wrap:wrap}.swiper-grid-column>.swiper-wrapper{flex-wrap:wrap;flex-direction:column}.swiper-fade.swiper-free-mode ::slotted(swiper-slide){transition-timing-function:ease-out}.swiper-fade ::slotted(swiper-slide){pointer-events:none;transition-property:opacity}.swiper-fade ::slotted(swiper-slide) ::slotted(swiper-slide){pointer-events:none}.swiper-fade ::slotted(.swiper-slide-active){pointer-events:auto}.swiper-fade ::slotted(.swiper-slide-active) ::slotted(.swiper-slide-active){pointer-events:auto}.swiper.swiper-cube{overflow:visible}.swiper-cube ::slotted(swiper-slide){pointer-events:none;-webkit-backface-visibility:hidden;backface-visibility:hidden;z-index:1;visibility:hidden;transform-origin:0 0;width:100%;height:100%}.swiper-cube ::slotted(swiper-slide) ::slotted(swiper-slide){pointer-events:none}.swiper-cube.swiper-rtl ::slotted(swiper-slide){transform-origin:100% 0}.swiper-cube ::slotted(.swiper-slide-active),.swiper-cube ::slotted(.swiper-slide-active) ::slotted(.swiper-slide-active){pointer-events:auto}.swiper-cube ::slotted(.swiper-slide-active),.swiper-cube ::slotted(.swiper-slide-next),.swiper-cube ::slotted(.swiper-slide-prev){pointer-events:auto;visibility:visible}.swiper-cube .swiper-cube-shadow{position:absolute;left:0;bottom:0px;width:100%;height:100%;opacity:.6;z-index:0}.swiper-cube .swiper-cube-shadow:before{content:\'\';background:#000;position:absolute;left:0;top:0;bottom:0;right:0;filter:blur(50px)}.swiper-cube ::slotted(.swiper-slide-next)+::slotted(swiper-slide){pointer-events:auto;visibility:visible}.swiper.swiper-flip{overflow:visible}.swiper-flip ::slotted(swiper-slide){pointer-events:none;-webkit-backface-visibility:hidden;backface-visibility:hidden;z-index:1}.swiper-flip ::slotted(swiper-slide) ::slotted(swiper-slide){pointer-events:none}.swiper-flip ::slotted(.swiper-slide-active),.swiper-flip ::slotted(.swiper-slide-active) ::slotted(.swiper-slide-active){pointer-events:auto}.swiper-creative ::slotted(swiper-slide){-webkit-backface-visibility:hidden;backface-visibility:hidden;overflow:hidden;transition-property:transform,opacity,height}.swiper.swiper-cards{overflow:visible}.swiper-cards ::slotted(swiper-slide){transform-origin:center bottom;-webkit-backface-visibility:hidden;backface-visibility:hidden;overflow:hidden}';const Pe='undefined'==typeof window||'undefined'==typeof HTMLElement?class{}:HTMLElement,Ne='<svg width="11" height="20" viewBox="0 0 11 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M0.38296 20.0762C0.111788 19.805 0.111788 19.3654 0.38296 19.0942L9.19758 10.2796L0.38296 1.46497C0.111788 1.19379 0.111788 0.754138 0.38296 0.482966C0.654131 0.211794 1.09379 0.211794 1.36496 0.482966L10.4341 9.55214C10.8359 9.9539 10.8359 10.6053 10.4341 11.007L1.36496 20.0762C1.09379 20.3474 0.654131 20.3474 0.38296 20.0762Z" fill="currentColor"/></svg>\n    ',Le=(e,t)=>{if('undefined'!=typeof CSSStyleSheet&&e.adoptedStyleSheets){const i=new CSSStyleSheet;i.replaceSync(t),e.adoptedStyleSheets=[i]}else{const i=document.createElement('style');i.rel='stylesheet',i.textContent=t,e.appendChild(i)}};class xe extends Pe{constructor(){super(),this.attachShadow({mode:'open'})}static get nextButtonSvg(){return Ne}static get prevButtonSvg(){return Ne.replace('/></svg>',' transform-origin="center" transform="rotate(180)"/></svg>')}cssStyles(){return[Oe,...this.injectStyles&&Array.isArray(this.injectStyles)?this.injectStyles:[]].join('\n')}cssLinks(){return this.injectStylesUrls||[]}calcSlideSlots(){const e=this.slideSlots||0,t=[...this.querySelectorAll('[slot^=slide-]')].map((e=>parseInt(e.getAttribute('slot').split('slide-')[1],10)));if(this.slideSlots=t.length?Math.max(...t)+1:0,this.rendered)if(this.slideSlots>e)for(let t=e;t<this.slideSlots;t+=1){const e=document.createElement('swiper-slide');e.setAttribute('part',`slide slide-${t+1}`);const i=document.createElement('slot');i.setAttribute('name',`slide-${t+1}`),e.appendChild(i),this.shadowRoot.querySelector('.swiper-wrapper').appendChild(e)}else if(this.slideSlots<e){const e=this.swiper.slides;for(let t=e.length-1;t>=0;t-=1)t>this.slideSlots&&e[t].remove()}}render(){if(this.rendered)return;this.calcSlideSlots();let e=this.cssStyles();this.slideSlots>0&&(e=e.replace(/::slotted\(([a-z-0-9.]*)\)/g,'$1')),e.length&&Le(this.shadowRoot,e),this.cssLinks().forEach((e=>{if(this.shadowRoot.querySelector(`link[href="${e}"]`))return;const t=document.createElement('link');t.rel='stylesheet',t.href=e,this.shadowRoot.appendChild(t)}));const t=document.createElement('div');var i;t.classList.add('swiper'),t.part='container',t.innerHTML=`\n      <slot name="container-start"></slot>\n      <div class="swiper-wrapper" part="wrapper">\n        <slot></slot>\n        ${Array.from({length:this.slideSlots}).map(((e,t)=>`\n        <swiper-slide part="slide slide-${t}">\n          <slot name="slide-${t}"></slot>\n        </swiper-slide>\n        `)).join('')}\n      </div>\n      <slot name="container-end"></slot>\n      ${i=this.passedParams,void 0===i&&(i={}),i.navigation&&void 0===i.navigation.nextEl&&void 0===i.navigation.prevEl?`\n        <div part="button-prev" class="swiper-button-prev">${this.constructor.prevButtonSvg}</div>\n        <div part="button-next" class="swiper-button-next">${this.constructor.nextButtonSvg}</div>\n      `:''}\n      ${function(e){return void 0===e&&(e={}),e.pagination&&void 0===e.pagination.el}(this.passedParams)?'\n        <div part="pagination" class="swiper-pagination"></div>\n      ':''}\n      ${function(e){return void 0===e&&(e={}),e.scrollbar&&void 0===e.scrollbar.el}(this.passedParams)?'\n        <div part="scrollbar" class="swiper-scrollbar"></div>\n      ':''}\n    `,this.shadowRoot.appendChild(t),this.rendered=!0}initialize(){var e=this;if(this.swiper&&this.swiper.initialized)return;const{params:t,passedParams:i}=Ce(this);this.swiperParams=t,this.passedParams=i,delete this.swiperParams.init,this.render(),this.swiper=new le(this.shadowRoot.querySelector('.swiper'),{...t.virtual?{}:{observer:!0},...t,touchEventsTarget:'container',onAny:function(i){'observerUpdate'===i&&e.calcSlideSlots();const n=t.eventsPrefix?`${t.eventsPrefix}${i.toLowerCase()}`:i.toLowerCase();for(var s=arguments.length,r=new Array(s>1?s-1:0),a=1;a<s;a++)r[a-1]=arguments[a];const o=new CustomEvent(n,{detail:r,bubbles:'hashChange'!==i,cancelable:!0});e.dispatchEvent(o)}})}connectedCallback(){this.swiper&&this.swiper.initialized&&this.nested&&this.closest('swiper-slide')&&this.closest('swiper-slide').swiperLoopMoveDOM||!1!==this.init&&'false'!==this.getAttribute('init')&&this.initialize()}disconnectedCallback(){this.nested&&this.closest('swiper-slide')&&this.closest('swiper-slide').swiperLoopMoveDOM||this.swiper&&this.swiper.destroy&&this.swiper.destroy()}updateSwiperOnPropChange(e,t){const{params:i,passedParams:n}=Ce(this,e,t);this.passedParams=n,this.swiperParams=i,this.swiper&&this.swiper.params[e]===t||function(e){let{swiper:t,slides:i,passedParams:n,changedParams:s,nextEl:r,prevEl:a,scrollbarEl:o,paginationEl:l}=e;const c=s.filter((e=>'children'!==e&&'direction'!==e&&'wrapperClass'!==e)),{params:d,pagination:u,navigation:p,scrollbar:h,virtual:m,thumbs:f}=t;let g,_,y,v,w,b,E,S;s.includes('thumbs')&&n.thumbs&&n.thumbs.swiper&&!n.thumbs.swiper.destroyed&&d.thumbs&&(!d.thumbs.swiper||d.thumbs.swiper.destroyed)&&(g=!0),s.includes('controller')&&n.controller&&n.controller.control&&d.controller&&!d.controller.control&&(_=!0),s.includes('pagination')&&n.pagination&&(n.pagination.el||l)&&(d.pagination||!1===d.pagination)&&u&&!u.el&&(y=!0),s.includes('scrollbar')&&n.scrollbar&&(n.scrollbar.el||o)&&(d.scrollbar||!1===d.scrollbar)&&h&&!h.el&&(v=!0),s.includes('navigation')&&n.navigation&&(n.navigation.prevEl||a)&&(n.navigation.nextEl||r)&&(d.navigation||!1===d.navigation)&&p&&!p.prevEl&&!p.nextEl&&(w=!0);const T=e=>{t[e]&&(t[e].destroy(),'navigation'===e?(t.isElement&&(t[e].prevEl.remove(),t[e].nextEl.remove()),d[e].prevEl=void 0,d[e].nextEl=void 0,t[e].prevEl=void 0,t[e].nextEl=void 0):(t.isElement&&t[e].el.remove(),d[e].el=void 0,t[e].el=void 0))};s.includes('loop')&&t.isElement&&(d.loop&&!n.loop?b=!0:!d.loop&&n.loop?E=!0:S=!0),c.forEach((e=>{if(Ee(d[e])&&Ee(n[e]))Object.assign(d[e],n[e]),'navigation'!==e&&'pagination'!==e&&'scrollbar'!==e||!('enabled'in n[e])||n[e].enabled||T(e);else{const t=n[e];!0!==t&&!1!==t||'navigation'!==e&&'pagination'!==e&&'scrollbar'!==e?d[e]=n[e]:!1===t&&T(e)}})),c.includes('controller')&&!_&&t.controller&&t.controller.control&&d.controller&&d.controller.control&&(t.controller.control=d.controller.control),s.includes('children')&&i&&m&&d.virtual.enabled?(m.slides=i,m.update(!0)):s.includes('virtual')&&m&&d.virtual.enabled&&(i&&(m.slides=i),m.update(!0)),s.includes('children')&&i&&d.loop&&(S=!0),g&&f.init()&&f.update(!0);_&&(t.controller.control=d.controller.control),y&&(!t.isElement||l&&'string'!=typeof l||(l=document.createElement('div'),l.classList.add('swiper-pagination'),l.part.add('pagination'),t.el.appendChild(l)),l&&(d.pagination.el=l),u.init(),u.render(),u.update()),v&&(!t.isElement||o&&'string'!=typeof o||(o=document.createElement('div'),o.classList.add('swiper-scrollbar'),o.part.add('scrollbar'),t.el.appendChild(o)),o&&(d.scrollbar.el=o),h.init(),h.updateSize(),h.setTranslate()),w&&(t.isElement&&(r&&'string'!=typeof r||(r=document.createElement('div'),r.classList.add('swiper-button-next'),r.innerHTML=t.hostEl.constructor.nextButtonSvg,r.part.add('button-next'),t.el.appendChild(r)),a&&'string'!=typeof a||(a=document.createElement('div'),a.classList.add('swiper-button-prev'),a.innerHTML=t.hostEl.constructor.prevButtonSvg,a.part.add('button-prev'),t.el.appendChild(a))),r&&(d.navigation.nextEl=r),a&&(d.navigation.prevEl=a),p.init(),p.update()),s.includes('allowSlideNext')&&(t.allowSlideNext=n.allowSlideNext),s.includes('allowSlidePrev')&&(t.allowSlidePrev=n.allowSlidePrev),s.includes('direction')&&t.changeDirection(n.direction,!1),(b||S)&&t.loopDestroy(),(E||S)&&t.loopCreate(),t.update()}({swiper:this.swiper,passedParams:this.passedParams,changedParams:[Te(e)],...'navigation'===e&&n[e]?{prevEl:'.swiper-button-prev',nextEl:'.swiper-button-next'}:{},...'pagination'===e&&n[e]?{paginationEl:'.swiper-pagination'}:{},...'scrollbar'===e&&n[e]?{scrollbarEl:'.swiper-scrollbar'}:{}})}attributeChangedCallback(e,t,i){this.swiper&&this.swiper.initialized&&('true'===t&&null===i&&(i=!1),this.updateSwiperOnPropChange(e,i))}static get observedAttributes(){const e=be.filter((e=>e.includes('_'))).map((e=>e.replace(/[A-Z]/g,(e=>`-${e}`)).replace('_','').toLowerCase()));return e}}be.forEach((e=>{'init'!==e&&(e=e.replace('_',''),Object.defineProperty(xe.prototype,e,{configurable:!0,get(){return(this.passedParams||{})[e]},set(t){this.passedParams||(this.passedParams={}),this.passedParams[e]=t,this.swiper&&this.swiper.initialized&&this.updateSwiperOnPropChange(e,t)}}))}));class Re extends Pe{constructor(){super(),this.attachShadow({mode:'open'})}render(){const e=this.lazy||''===this.getAttribute('lazy')||'true'===this.getAttribute('lazy');if(Le(this.shadowRoot,'::slotted(.swiper-slide-shadow),::slotted(.swiper-slide-shadow-bottom),::slotted(.swiper-slide-shadow-left),::slotted(.swiper-slide-shadow-right),::slotted(.swiper-slide-shadow-top){position:absolute;left:0;top:0;width:100%;height:100%;pointer-events:none;z-index:10}::slotted(.swiper-slide-shadow){background:rgba(0,0,0,.15)}::slotted(.swiper-slide-shadow-left){background-image:linear-gradient(to left,rgba(0,0,0,.5),rgba(0,0,0,0))}::slotted(.swiper-slide-shadow-right){background-image:linear-gradient(to right,rgba(0,0,0,.5),rgba(0,0,0,0))}::slotted(.swiper-slide-shadow-top){background-image:linear-gradient(to top,rgba(0,0,0,.5),rgba(0,0,0,0))}::slotted(.swiper-slide-shadow-bottom){background-image:linear-gradient(to bottom,rgba(0,0,0,.5),rgba(0,0,0,0))}.swiper-lazy-preloader{animation:swiper-preloader-spin 1s infinite linear;width:42px;height:42px;position:absolute;left:50%;top:50%;margin-left:-21px;margin-top:-21px;z-index:10;transform-origin:50%;box-sizing:border-box;border:4px solid var(--swiper-preloader-color,var(--swiper-theme-color));border-radius:50%;border-top-color:transparent}@keyframes swiper-preloader-spin{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}::slotted(.swiper-slide-shadow-cube.swiper-slide-shadow-bottom),::slotted(.swiper-slide-shadow-cube.swiper-slide-shadow-left),::slotted(.swiper-slide-shadow-cube.swiper-slide-shadow-right),::slotted(.swiper-slide-shadow-cube.swiper-slide-shadow-top){z-index:0;-webkit-backface-visibility:hidden;backface-visibility:hidden}::slotted(.swiper-slide-shadow-flip.swiper-slide-shadow-bottom),::slotted(.swiper-slide-shadow-flip.swiper-slide-shadow-left),::slotted(.swiper-slide-shadow-flip.swiper-slide-shadow-right),::slotted(.swiper-slide-shadow-flip.swiper-slide-shadow-top){z-index:0;-webkit-backface-visibility:hidden;backface-visibility:hidden}::slotted(.swiper-zoom-container){width:100%;height:100%;display:flex;justify-content:center;align-items:center;text-align:center}::slotted(.swiper-zoom-container)>canvas,::slotted(.swiper-zoom-container)>img,::slotted(.swiper-zoom-container)>svg{max-width:100%;max-height:100%;object-fit:contain}'),this.shadowRoot.appendChild(document.createElement('slot')),e){const e=document.createElement('div');e.classList.add('swiper-lazy-preloader'),e.part.add('preloader'),this.shadowRoot.appendChild(e)}}initialize(){this.render()}connectedCallback(){this.swiperLoopMoveDOM||this.initialize()}}'undefined'!=typeof window&&(window.SwiperElementRegisterParams=e=>{be.push(...e)})
/**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   */;const De=globalThis,Me=De.trustedTypes,ke=Me?Me.createPolicy('lit-html',{createHTML:e=>e}):void 0,Be='$lit$',Ue=`lit$${Math.random().toFixed(9).slice(2)}$`,Ge='?'+Ue,We=`<${Ge}>`,je=document,$e=()=>je.createComment(''),He=e=>null===e||'object'!=typeof e&&'function'!=typeof e,Fe=Array.isArray,ze='[ \t\n\f\r]',Ve=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,Ye=/-->/g,Qe=/>/g,Ke=RegExp(`>|${ze}(?:([^\\s"'>=/]+)(${ze}*=${ze}*(?:[^ \t\n\f\r"'\`<>=]|("|')|))|$)`,'g'),qe=/'/g,Xe=/"/g,Ze=/^(?:script|style|textarea|title)$/i,Je=(e=>(t,...i)=>({_$litType$:e,strings:t,values:i}))(1),et=Symbol.for('lit-noChange'),tt=Symbol.for('lit-nothing'),it=new WeakMap,nt=je.createTreeWalker(je,129);function st(e,t){if(!Fe(e)||!e.hasOwnProperty('raw'))throw Error('invalid template strings array');return void 0!==ke?ke.createHTML(t):t}const rt=(e,t)=>{const i=e.length-1,n=[];let s,r=2===t?'<svg>':3===t?'<math>':'',a=Ve;for(let t=0;t<i;t++){const i=e[t];let o,l,c=-1,d=0;for(;d<i.length&&(a.lastIndex=d,l=a.exec(i),null!==l);)d=a.lastIndex,a===Ve?'!--'===l[1]?a=Ye:void 0!==l[1]?a=Qe:void 0!==l[2]?(Ze.test(l[2])&&(s=RegExp('</'+l[2],'g')),a=Ke):void 0!==l[3]&&(a=Ke):a===Ke?'>'===l[0]?(a=s??Ve,c=-1):void 0===l[1]?c=-2:(c=a.lastIndex-l[2].length,o=l[1],a=void 0===l[3]?Ke:'"'===l[3]?Xe:qe):a===Xe||a===qe?a=Ke:a===Ye||a===Qe?a=Ve:(a=Ke,s=void 0);const u=a===Ke&&e[t+1].startsWith('/>')?' ':'';r+=a===Ve?i+We:c>=0?(n.push(o),i.slice(0,c)+Be+i.slice(c)+Ue+u):i+Ue+(-2===c?t:u)}return[st(e,r+(e[i]||'<?>')+(2===t?'</svg>':3===t?'</math>':'')),n]};class at{constructor({strings:e,_$litType$:t},i){let n;this.parts=[];let s=0,r=0;const a=e.length-1,o=this.parts,[l,c]=rt(e,t);if(this.el=at.createElement(l,i),nt.currentNode=this.el.content,2===t||3===t){const e=this.el.content.firstChild;e.replaceWith(...e.childNodes)}for(;null!==(n=nt.nextNode())&&o.length<a;){if(1===n.nodeType){if(n.hasAttributes())for(const e of n.getAttributeNames())if(e.endsWith(Be)){const t=c[r++],i=n.getAttribute(e).split(Ue),a=/([.?@])?(.*)/.exec(t);o.push({type:1,index:s,name:a[2],strings:i,ctor:'.'===a[1]?ut:'?'===a[1]?pt:'@'===a[1]?ht:dt}),n.removeAttribute(e)}else e.startsWith(Ue)&&(o.push({type:6,index:s}),n.removeAttribute(e));if(Ze.test(n.tagName)){const e=n.textContent.split(Ue),t=e.length-1;if(t>0){n.textContent=Me?Me.emptyScript:'';for(let i=0;i<t;i++)n.append(e[i],$e()),nt.nextNode(),o.push({type:2,index:++s});n.append(e[t],$e())}}}else if(8===n.nodeType)if(n.data===Ge)o.push({type:2,index:s});else{let e=-1;for(;-1!==(e=n.data.indexOf(Ue,e+1));)o.push({type:7,index:s}),e+=Ue.length-1}s++}}static createElement(e,t){const i=je.createElement('template');return i.innerHTML=e,i}}function ot(e,t,i=e,n){if(t===et)return t;let s=void 0!==n?i._$Co?.[n]:i._$Cl;const r=He(t)?void 0:t._$litDirective$;return s?.constructor!==r&&(s?._$AO?.(!1),void 0===r?s=void 0:(s=new r(e),s._$AT(e,i,n)),void 0!==n?(i._$Co??=[])[n]=s:i._$Cl=s),void 0!==s&&(t=ot(e,s._$AS(e,t.values),s,n)),t}class lt{constructor(e,t){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=t}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){const{el:{content:t},parts:i}=this._$AD,n=(e?.creationScope??je).importNode(t,!0);nt.currentNode=n;let s=nt.nextNode(),r=0,a=0,o=i[0];for(;void 0!==o;){if(r===o.index){let t;2===o.type?t=new ct(s,s.nextSibling,this,e):1===o.type?t=new o.ctor(s,o.name,o.strings,this,e):6===o.type&&(t=new mt(s,this,e)),this._$AV.push(t),o=i[++a]}r!==o?.index&&(s=nt.nextNode(),r++)}return nt.currentNode=je,n}p(e){let t=0;for(const i of this._$AV)void 0!==i&&(void 0!==i.strings?(i._$AI(e,i,t),t+=i.strings.length-2):i._$AI(e[t])),t++}}class ct{get _$AU(){return this._$AM?._$AU??this._$Cv}constructor(e,t,i,n){this.type=2,this._$AH=tt,this._$AN=void 0,this._$AA=e,this._$AB=t,this._$AM=i,this.options=n,this._$Cv=n?.isConnected??!0}get parentNode(){let e=this._$AA.parentNode;const t=this._$AM;return void 0!==t&&11===e?.nodeType&&(e=t.parentNode),e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e,t=this){e=ot(this,e,t),He(e)?e===tt||null==e||''===e?(this._$AH!==tt&&this._$AR(),this._$AH=tt):e!==this._$AH&&e!==et&&this._(e):void 0!==e._$litType$?this.$(e):void 0!==e.nodeType?this.T(e):(e=>Fe(e)||'function'==typeof e?.[Symbol.iterator])(e)?this.k(e):this._(e)}O(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}T(e){this._$AH!==e&&(this._$AR(),this._$AH=this.O(e))}_(e){this._$AH!==tt&&He(this._$AH)?this._$AA.nextSibling.data=e:this.T(je.createTextNode(e)),this._$AH=e}$(e){const{values:t,_$litType$:i}=e,n='number'==typeof i?this._$AC(e):(void 0===i.el&&(i.el=at.createElement(st(i.h,i.h[0]),this.options)),i);if(this._$AH?._$AD===n)this._$AH.p(t);else{const e=new lt(n,this),i=e.u(this.options);e.p(t),this.T(i),this._$AH=e}}_$AC(e){let t=it.get(e.strings);return void 0===t&&it.set(e.strings,t=new at(e)),t}k(e){Fe(this._$AH)||(this._$AH=[],this._$AR());const t=this._$AH;let i,n=0;for(const s of e)n===t.length?t.push(i=new ct(this.O($e()),this.O($e()),this,this.options)):i=t[n],i._$AI(s),n++;n<t.length&&(this._$AR(i&&i._$AB.nextSibling,n),t.length=n)}_$AR(e=this._$AA.nextSibling,t){for(this._$AP?.(!1,!0,t);e&&e!==this._$AB;){const t=e.nextSibling;e.remove(),e=t}}setConnected(e){void 0===this._$AM&&(this._$Cv=e,this._$AP?.(e))}}class dt{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(e,t,i,n,s){this.type=1,this._$AH=tt,this._$AN=void 0,this.element=e,this.name=t,this._$AM=n,this.options=s,i.length>2||''!==i[0]||''!==i[1]?(this._$AH=Array(i.length-1).fill(new String),this.strings=i):this._$AH=tt}_$AI(e,t=this,i,n){const s=this.strings;let r=!1;if(void 0===s)e=ot(this,e,t,0),r=!He(e)||e!==this._$AH&&e!==et,r&&(this._$AH=e);else{const n=e;let a,o;for(e=s[0],a=0;a<s.length-1;a++)o=ot(this,n[i+a],t,a),o===et&&(o=this._$AH[a]),r||=!He(o)||o!==this._$AH[a],o===tt?e=tt:e!==tt&&(e+=(o??'')+s[a+1]),this._$AH[a]=o}r&&!n&&this.j(e)}j(e){e===tt?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e??'')}}class ut extends dt{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===tt?void 0:e}}class pt extends dt{constructor(){super(...arguments),this.type=4}j(e){this.element.toggleAttribute(this.name,!!e&&e!==tt)}}class ht extends dt{constructor(e,t,i,n,s){super(e,t,i,n,s),this.type=5}_$AI(e,t=this){if((e=ot(this,e,t,0)??tt)===et)return;const i=this._$AH,n=e===tt&&i!==tt||e.capture!==i.capture||e.once!==i.once||e.passive!==i.passive,s=e!==tt&&(i===tt||n);n&&this.element.removeEventListener(this.name,this,i),s&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){'function'==typeof this._$AH?this._$AH.call(this.options?.host??this.element,e):this._$AH.handleEvent(e)}}class mt{constructor(e,t,i){this.element=e,this.type=6,this._$AN=void 0,this._$AM=t,this.options=i}get _$AU(){return this._$AM._$AU}_$AI(e){ot(this,e)}}const ft=De.litHtmlPolyfillSupport;ft?.(at,ct),(De.litHtmlVersions??=[]).push('3.3.0');
/**
   * @license
   * Copyright 2020 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   */
const gt=Symbol.for(''),_t=e=>{if(e?.r===gt)return e?._$litStatic$},yt=new Map,vt=(e=>(t,...i)=>{const n=i.length;let s,r;const a=[],o=[];let l,c=0,d=!1;for(;c<n;){for(l=t[c];c<n&&void 0!==(r=i[c],s=_t(r));)l+=s+t[++c],d=!0;c!==n&&o.push(r),a.push(l),c++}if(c===n&&a.push(t[n]),d){const e=a.join('$$lit$$');void 0===(t=yt.get(e))&&(a.raw=a,yt.set(e,t=a)),i=o}return e(t,...i)})(Je),wt='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><path d="M324.5 411.1c6.2 6.2 16.4 6.2 22.6 0s6.2-16.4 0-22.6L214.6 256 347.1 123.5c6.2-6.2 6.2-16.4 0-22.6s-16.4-6.2-22.6 0L192 233.4 59.5 100.9c-6.2-6.2-16.4-6.2-22.6 0s-6.2 16.4 0 22.6L169.4 256 36.9 388.5c-6.2 6.2-6.2 16.4 0 22.6s16.4 6.2 22.6 0L192 278.6 324.5 411.1z" fill="currentColor" /></svg>';var bt,Et,St,Tt,It,At,Ct,Ot,Pt,Nt,Lt,xt,Rt,Dt,Mt,kt,Bt,Ut,Gt;vt`${(e=>({_$litStatic$:e,r:gt}))(wt)}`,function(e){e[e.READ=2]='READ',e[e.WRITE=4]='WRITE',e[e.READ_WRITE=6]='READ_WRITE'}(bt||(bt={})),function(e){e.API='api',e.SCIM='scim',e.WIDGET='widget',e.ZAPIER='zapier'}(Et||(Et={})),function(e){e.IGNORE='ignore',e.OPTIONAL='optional',e.REQUIRED='required'}(St||(St={})),function(e){e.API='api',e.EMAIL='email',e.NEWSPAGE='newspage',e.WIDGET='widget',e.ZAPIER='zapier'}(Tt||(Tt={})),function(e){e.CLOUDFLARE_ERROR='cloudflare-error',e.CLOUDFLARE_PENDING='cloudflare-pending',e.INVALID_CNAME='invalid-cname',e.MISSING_CNAME='missing-cname',e.VERIFIED='verified'}(It||(It={}));class Wt{id;name;static instancesById=new Map;static instancesByName=new Map;constructor(e,t){this.id=e,this.name=t,Wt.instancesById.set(e,this),Wt.instancesByName.set(t,this)}static values(){return Array.from(this.instancesById.values())}static fromId(e){return this.instancesById.get(e)}static fromName(e){return this.instancesByName.get(e)}}!function(e){e[e.EMAIL_SENDING_DISABLED=0]='EMAIL_SENDING_DISABLED',e[e.EMAIL_SENDING_SUSPENDED=1]='EMAIL_SENDING_SUSPENDED',e[e.ORGANIZATION_NOT_FOUND=2]='ORGANIZATION_NOT_FOUND',e[e.PAYMENT_REQUIRED=3]='PAYMENT_REQUIRED',e[e.PROJECT_NOT_FOUND=4]='PROJECT_NOT_FOUND',e[e.PUBLICATION_NOT_FOUND=5]='PUBLICATION_NOT_FOUND',e[e.STRIPE_USAGE_RECORDING_FAILED=6]='STRIPE_USAGE_RECORDING_FAILED',e[e.TEMPLATE_NOT_FOUND=7]='TEMPLATE_NOT_FOUND',e[e.UPGRADE_REQUIRED=8]='UPGRADE_REQUIRED'}(At||(At={})),function(e){e[e.CUSTOM=0]='CUSTOM',e[e.OPT_IN_CONFIRMATION=1]='OPT_IN_CONFIRMATION',e[e.PUBLICATION=2]='PUBLICATION'}(Ct||(Ct={})),function(e){e[e.AMAZON_SES=0]='AMAZON_SES',e[e.NOTICEABLE=1]='NOTICEABLE'}(Ot||(Ot={})),function(e){e[e.ATTACHMENT_REJECTED=0]='ATTACHMENT_REJECTED',e[e.CONTENT_REJECTED=1]='CONTENT_REJECTED',e[e.GENERAL=2]='GENERAL',e[e.MAILBOX_FULL=3]='MAILBOX_FULL',e[e.MESSAGE_TOO_LARGE=4]='MESSAGE_TOO_LARGE',e[e.NO_EMAIL=5]='NO_EMAIL',e[e.ON_ACCOUNT_SUPPRESSION_LIST=6]='ON_ACCOUNT_SUPPRESSION_LIST',e[e.SUPPRESSED=7]='SUPPRESSED',e[e.UNDETERMINED=8]='UNDETERMINED'}(Pt||(Pt={})),function(e){e[e.PERMANENT=0]='PERMANENT',e[e.TRANSIENT=1]='TRANSIENT',e[e.UNDETERMINED=2]='UNDETERMINED'}(Nt||(Nt={})),function(e){e[e.BRING_YOUR_OWN_IP_HOST_NAME_LOOKUP_UNAVAILABLE=0]='BRING_YOUR_OWN_IP_HOST_NAME_LOOKUP_UNAVAILABLE',e[e.GENERAL=1]='GENERAL',e[e.INTERNAL_FAILURE=2]='INTERNAL_FAILURE',e[e.IP_FAILURE=3]='IP_FAILURE',e[e.MAILBOX_FULL=4]='MAILBOX_FULL',e[e.RECIPIENT_SERVER_ERROR=5]='RECIPIENT_SERVER_ERROR',e[e.SPAM_DETECTED=6]='SPAM_DETECTED',e[e.TRANSIENT_COMMUNICATION_FAILURE=7]='TRANSIENT_COMMUNICATION_FAILURE',e[e.UNDETERMINED=8]='UNDETERMINED'}(Lt||(Lt={})),function(e){e[e.ABUSE=0]='ABUSE',e[e.AUTH_FAILURE=1]='AUTH_FAILURE',e[e.FRAUD=2]='FRAUD',e[e.NOT_SPAM=3]='NOT_SPAM',e[e.OTHER=4]='OTHER',e[e.VIRUS=5]='VIRUS'}(xt||(xt={})),function(e){e[e.BOUNCE=0]='BOUNCE',e[e.CLICK=1]='CLICK',e[e.COMPLAINT=2]='COMPLAINT',e[e.DELIVERY=3]='DELIVERY',e[e.DELIVERY_DELAY=4]='DELIVERY_DELAY',e[e.FAILURE=5]='FAILURE',e[e.OPEN=6]='OPEN',e[e.SEND=7]='SEND',e[e.REJECT=8]='REJECT',e[e.SUBSCRIPTION=9]='SUBSCRIPTION',e[e.UNSUBSCRIPTION=10]='UNSUBSCRIPTION'}(Rt||(Rt={}));class jt extends Wt{static NON_SUBSCRIBED=new jt(0,'non-subscribed');static SUBSCRIBED=new jt(1,'subscribed');static UNSUBSCRIBED=new jt(2,'unsubscribed');static HARD_BOUNCED=new jt(3,'hard-bounced');static SPAM_COMPLAINT=new jt(4,'spam-complaint');static SUPPRESSED=new jt(5,'suppressed')}class $t extends Wt{static AMAZON_SES=new $t(0,'amazon-ses');static API=new $t(1,'api');static DASHBOARD=new $t(2,'dashboard');static EMAIL_MANAGE_PREFERENCES_LINK=new $t(3,'email-manage-preferences-link');static NEWSPAGE=new $t(4,'newspage');static WIDGET=new $t(5,'widget');static ZAPIER=new $t(6,'zapier');static EMAIL_LIST_UNSUBSCRIBE_HEADER_HTTP=new $t(7,'email-list-unsubscribe-header-http');static EMAIL_LIST_UNSUBSCRIBE_HEADER_MAILTO=new $t(8,'email-list-unsubscribe-header-mailto');static EMAIL_UNSUBSCRIBE_LINK=new $t(9,'email-unsubscribe-link')}class Ht extends Wt{static AMAZON_SES=new Ht(0,'amazon-ses');static API=new Ht(1,'api');static DASHBOARD=new Ht(2,'dashboard');static EMAIL_MANAGE_PREFERENCES_LINK=new Ht(3,'email-manage-preferences-link');static NEWSPAGE=new Ht(4,'newspage');static WIDGET=new Ht(5,'widget');static ZAPIER=new Ht(6,'zapier')}!function(e){e.QUERY_PARAMETER='query-parameter',e.REQUEST_HEADER='request-header'}(Dt||(Dt={})),function(e){e.COMMENTS_PRIVATE='c',e.COMMENTS_PUBLIC='cp',e.EMAIL_COMPLAINTS='ec',e.EMAIL_CTA_CLICKS='ecc',e.EMAIL_DELIVERIES='ed',e.EMAIL_FAILURES='ef',e.EMAIL_HARD_BOUNCES='ehb',e.EMAIL_LINK_CLICKS='elc',e.EMAIL_OPENINGS='eo',e.EMAIL_REJECTIONS='er',e.EMAIL_SENDS='es',e.EMAIL_SOFT_BOUNCES='esb',e.EMAIL_SUBSCRIPTIONS_ARCHIVED='esa',e.EMAIL_SUBSCRIPTIONS_CLEANED='esc',e.EMAIL_SUBSCRIPTIONS_NON_SUBSCRIBED='esns',e.EMAIL_SUBSCRIPTIONS_SUBSCRIBED='ess',e.EMAIL_SUBSCRIPTIONS_UNSUBSCRIBED='esu',e.EMAIL_UNIQUE_LINK_CLICKS='eulc',e.EMAIL_UNIQUE_OPENINGS='euo',e.EMAIL_UNSUBSCRIBES='eu',e.NEWSPAGE_CTA_CLICKS='ncc',e.NEWSPAGE_LINK_CLICKS='nlc',e.NEWSPAGE_VIEWS='nv',e.PUBLICATION_CREATIONS='pc',e.PUSH_SUBSCRIPTIONS='ps',e.PUSH_UNSUBSCRIPTIONS='pu',e.REACTIONS_BAD='rb',e.REACTIONS_GOOD='rg',e.REACTIONS_NEUTRAL='rn',e.WIDGET_CTA_CLICKS='wcc',e.WIDGET_LINK_CLICKS='wlc',e.WIDGET_OPENINGS='wo',e.WIDGET_VIEWS='wv'}(Mt||(Mt={})),function(e){e.COMMENTS='c',e.EMAIL_COMPLAINTS='ec',e.EMAIL_CTA_CLICKS='ecc',e.EMAIL_DELIVERIES='ed',e.EMAIL_FAILURES='ef',e.EMAIL_HARD_BOUNCES='ehb',e.EMAIL_LINK_CLICKS='elc',e.EMAIL_OPENINGS='eo',e.EMAIL_REJECTIONS='er',e.EMAIL_SENDS='es',e.EMAIL_SOFT_BOUNCES='esb',e.EMAIL_UNIQUE_LINK_CLICKS='eulc',e.EMAIL_UNIQUE_OPENINGS='euo',e.EMAIL_UNSUBSCRIBES='eu',e.NEWSPAGE_CTA_CLICKS='ncc',e.NEWSPAGE_LINK_CLICKS='nlc',e.NEWSPAGE_VIEWS='nv',e.REACTIONS_BAD='rb',e.REACTIONS_GOOD='rg',e.REACTIONS_NEUTRAL='rn',e.WIDGET_CTA_CLICKS='wcc',e.WIDGET_LINK_CLICKS='wlc',e.WIDGET_VIEWS='wv'}(kt||(kt={})),function(e){e.DAILY='d',e.HOURLY='h'}(Bt||(Bt={})),function(e){e.DAILY='d',e.HOURLY='h'}(Ut||(Ut={}));class Ft{id;name;phrases;constructor(e,t,i=new Map){this.id=e,this.name=t,this.phrases=i}toString(){return`PhraseCategory{id="${this.id}", name="${this.name}"}`}}class zt{static getDirection(e){switch(e){case'ar':case'ar-001':case'ar-AE':case'ar-BH':case'ar-DJ':case'ar-DZ':case'ar-EG':case'ar-EH':case'ar-ER':case'ar-IL':case'ar-IQ':case'ar-JO':case'ar-KM':case'ar-KW':case'ar-LB':case'ar-LY':case'ar-MA':case'ar-MR':case'ar-OM':case'ar-PS':case'ar-QA':case'ar-SA':case'ar-SD':case'ar-SO':case'ar-SS':case'ar-SY':case'ar-TD':case'ar-TN':case'ar-YE':case'ckb':case'ckb-IQ':case'ckb-IR':case'fa':case'fa-AF':case'fa-IR':case'he':case'he-IL':case'ks':case'ks-IN':case'lrc':case'lrc-IQ':case'lrc-IR':case'mzn':case'mzn-IR':case'pa-Arab':case'pa-Arab-PK':case'ps':case'ps-AF':case'sd':case'sd-PK':case'ug':case'ug-CN':case'ur':case'ur-IN':case'ur-PK':case'uz-Arab':case'uz-Arab-AF':case'yi':case'yi-001':return Gt.RTL;default:return Gt.LTR}}}!function(e){e.LTR='ltr',e.RTL='rtl'}(Gt||(Gt={}));var Vt=function(e,t){return Vt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])},Vt(e,t)};function Yt(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Class extends value '+String(t)+' is not a constructor or null');function i(){this.constructor=e}Vt(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}var Qt=function(){return Qt=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var s in t=arguments[i])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e},Qt.apply(this,arguments)};function Kt(e,t,i){if(i||2===arguments.length)for(var n,s=0,r=t.length;s<r;s++)!n&&s in t||(n||(n=Array.prototype.slice.call(t,0,s)),n[s]=t[s]);return e.concat(n||Array.prototype.slice.call(t))}function qt(e,t){var i=t&&t.cache?t.cache:ai,n=t&&t.serializer?t.serializer:si;return(t&&t.strategy?t.strategy:ei)(e,{cache:i,serializer:n})}function Xt(e,t,i,n){var s,r=null==(s=n)||'number'==typeof s||'boolean'==typeof s?n:i(n),a=t.get(r);return void 0===a&&(a=e.call(this,n),t.set(r,a)),a}function Zt(e,t,i){var n=Array.prototype.slice.call(arguments,3),s=i(n),r=t.get(s);return void 0===r&&(r=e.apply(this,n),t.set(s,r)),r}function Jt(e,t,i,n,s){return i.bind(t,e,n,s)}function ei(e,t){return Jt(e,this,1===e.length?Xt:Zt,t.cache.create(),t.serializer)}'function'==typeof SuppressedError&&SuppressedError;var ti,ii,ni,si=function(){return JSON.stringify(arguments)},ri=function(){function e(){this.cache=Object.create(null)}return e.prototype.get=function(e){return this.cache[e]},e.prototype.set=function(e,t){this.cache[e]=t},e}(),ai={create:function(){return new ri}},oi={variadic:function(e,t){return Jt(e,this,Zt,t.cache.create(),t.serializer)}};function li(e){return e.type===ii.literal}function ci(e){return e.type===ii.argument}function di(e){return e.type===ii.number}function ui(e){return e.type===ii.date}function pi(e){return e.type===ii.time}function hi(e){return e.type===ii.select}function mi(e){return e.type===ii.plural}function fi(e){return e.type===ii.pound}function gi(e){return e.type===ii.tag}function _i(e){return!(!e||'object'!=typeof e||e.type!==ni.number)}function yi(e){return!(!e||'object'!=typeof e||e.type!==ni.dateTime)}!function(e){e[e.EXPECT_ARGUMENT_CLOSING_BRACE=1]='EXPECT_ARGUMENT_CLOSING_BRACE',e[e.EMPTY_ARGUMENT=2]='EMPTY_ARGUMENT',e[e.MALFORMED_ARGUMENT=3]='MALFORMED_ARGUMENT',e[e.EXPECT_ARGUMENT_TYPE=4]='EXPECT_ARGUMENT_TYPE',e[e.INVALID_ARGUMENT_TYPE=5]='INVALID_ARGUMENT_TYPE',e[e.EXPECT_ARGUMENT_STYLE=6]='EXPECT_ARGUMENT_STYLE',e[e.INVALID_NUMBER_SKELETON=7]='INVALID_NUMBER_SKELETON',e[e.INVALID_DATE_TIME_SKELETON=8]='INVALID_DATE_TIME_SKELETON',e[e.EXPECT_NUMBER_SKELETON=9]='EXPECT_NUMBER_SKELETON',e[e.EXPECT_DATE_TIME_SKELETON=10]='EXPECT_DATE_TIME_SKELETON',e[e.UNCLOSED_QUOTE_IN_ARGUMENT_STYLE=11]='UNCLOSED_QUOTE_IN_ARGUMENT_STYLE',e[e.EXPECT_SELECT_ARGUMENT_OPTIONS=12]='EXPECT_SELECT_ARGUMENT_OPTIONS',e[e.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE=13]='EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE',e[e.INVALID_PLURAL_ARGUMENT_OFFSET_VALUE=14]='INVALID_PLURAL_ARGUMENT_OFFSET_VALUE',e[e.EXPECT_SELECT_ARGUMENT_SELECTOR=15]='EXPECT_SELECT_ARGUMENT_SELECTOR',e[e.EXPECT_PLURAL_ARGUMENT_SELECTOR=16]='EXPECT_PLURAL_ARGUMENT_SELECTOR',e[e.EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT=17]='EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT',e[e.EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT=18]='EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT',e[e.INVALID_PLURAL_ARGUMENT_SELECTOR=19]='INVALID_PLURAL_ARGUMENT_SELECTOR',e[e.DUPLICATE_PLURAL_ARGUMENT_SELECTOR=20]='DUPLICATE_PLURAL_ARGUMENT_SELECTOR',e[e.DUPLICATE_SELECT_ARGUMENT_SELECTOR=21]='DUPLICATE_SELECT_ARGUMENT_SELECTOR',e[e.MISSING_OTHER_CLAUSE=22]='MISSING_OTHER_CLAUSE',e[e.INVALID_TAG=23]='INVALID_TAG',e[e.INVALID_TAG_NAME=25]='INVALID_TAG_NAME',e[e.UNMATCHED_CLOSING_TAG=26]='UNMATCHED_CLOSING_TAG',e[e.UNCLOSED_TAG=27]='UNCLOSED_TAG'}(ti||(ti={})),function(e){e[e.literal=0]='literal',e[e.argument=1]='argument',e[e.number=2]='number',e[e.date=3]='date',e[e.time=4]='time',e[e.select=5]='select',e[e.plural=6]='plural',e[e.pound=7]='pound',e[e.tag=8]='tag'}(ii||(ii={})),function(e){e[e.number=0]='number',e[e.dateTime=1]='dateTime'}(ni||(ni={}));var vi=/[ \xA0\u1680\u2000-\u200A\u202F\u205F\u3000]/,wi=/(?:[Eec]{1,6}|G{1,5}|[Qq]{1,5}|(?:[yYur]+|U{1,5})|[ML]{1,5}|d{1,2}|D{1,3}|F{1}|[abB]{1,5}|[hkHK]{1,2}|w{1,2}|W{1}|m{1,2}|s{1,2}|[zZOvVxX]{1,4})(?=([^']*'[^']*')*[^']*$)/g;function bi(e){var t={};return e.replace(wi,(function(e){var i=e.length;switch(e[0]){case'G':t.era=4===i?'long':5===i?'narrow':'short';break;case'y':t.year=2===i?'2-digit':'numeric';break;case'Y':case'u':case'U':case'r':throw new RangeError('`Y/u/U/r` (year) patterns are not supported, use `y` instead');case'q':case'Q':throw new RangeError('`q/Q` (quarter) patterns are not supported');case'M':case'L':t.month=['numeric','2-digit','short','long','narrow'][i-1];break;case'w':case'W':throw new RangeError('`w/W` (week) patterns are not supported');case'd':t.day=['numeric','2-digit'][i-1];break;case'D':case'F':case'g':throw new RangeError('`D/F/g` (day) patterns are not supported, use `d` instead');case'E':t.weekday=4===i?'long':5===i?'narrow':'short';break;case'e':if(i<4)throw new RangeError('`e..eee` (weekday) patterns are not supported');t.weekday=['short','long','narrow','short'][i-4];break;case'c':if(i<4)throw new RangeError('`c..ccc` (weekday) patterns are not supported');t.weekday=['short','long','narrow','short'][i-4];break;case'a':t.hour12=!0;break;case'b':case'B':throw new RangeError('`b/B` (period) patterns are not supported, use `a` instead');case'h':t.hourCycle='h12',t.hour=['numeric','2-digit'][i-1];break;case'H':t.hourCycle='h23',t.hour=['numeric','2-digit'][i-1];break;case'K':t.hourCycle='h11',t.hour=['numeric','2-digit'][i-1];break;case'k':t.hourCycle='h24',t.hour=['numeric','2-digit'][i-1];break;case'j':case'J':case'C':throw new RangeError('`j/J/C` (hour) patterns are not supported, use `h/H/K/k` instead');case'm':t.minute=['numeric','2-digit'][i-1];break;case's':t.second=['numeric','2-digit'][i-1];break;case'S':case'A':throw new RangeError('`S/A` (second) patterns are not supported, use `s` instead');case'z':t.timeZoneName=i<4?'short':'long';break;case'Z':case'O':case'v':case'V':case'X':case'x':throw new RangeError('`Z/O/v/V/X/x` (timeZone) patterns are not supported, use `z` instead')}return''})),t}var Ei=/[\t-\r \x85\u200E\u200F\u2028\u2029]/i;var Si=/^\.(?:(0+)(\*)?|(#+)|(0+)(#+))$/g,Ti=/^(@+)?(\+|#+)?[rs]?$/g,Ii=/(\*)(0+)|(#+)(0+)|(0+)/g,Ai=/^(0+)$/;function Ci(e){var t={};return'r'===e[e.length-1]?t.roundingPriority='morePrecision':'s'===e[e.length-1]&&(t.roundingPriority='lessPrecision'),e.replace(Ti,(function(e,i,n){return'string'!=typeof n?(t.minimumSignificantDigits=i.length,t.maximumSignificantDigits=i.length):'+'===n?t.minimumSignificantDigits=i.length:'#'===i[0]?t.maximumSignificantDigits=i.length:(t.minimumSignificantDigits=i.length,t.maximumSignificantDigits=i.length+('string'==typeof n?n.length:0)),''})),t}function Oi(e){switch(e){case'sign-auto':return{signDisplay:'auto'};case'sign-accounting':case'()':return{currencySign:'accounting'};case'sign-always':case'+!':return{signDisplay:'always'};case'sign-accounting-always':case'()!':return{signDisplay:'always',currencySign:'accounting'};case'sign-except-zero':case'+?':return{signDisplay:'exceptZero'};case'sign-accounting-except-zero':case'()?':return{signDisplay:'exceptZero',currencySign:'accounting'};case'sign-never':case'+_':return{signDisplay:'never'}}}function Pi(e){var t;if('E'===e[0]&&'E'===e[1]?(t={notation:'engineering'},e=e.slice(2)):'E'===e[0]&&(t={notation:'scientific'},e=e.slice(1)),t){var i=e.slice(0,2);if('+!'===i?(t.signDisplay='always',e=e.slice(2)):'+?'===i&&(t.signDisplay='exceptZero',e=e.slice(2)),!Ai.test(e))throw new Error('Malformed concise eng/scientific notation');t.minimumIntegerDigits=e.length}return t}function Ni(e){var t=Oi(e);return t||{}}function Li(e){for(var t={},i=0,n=e;i<n.length;i++){var s=n[i];switch(s.stem){case'percent':case'%':t.style='percent';continue;case'%x100':t.style='percent',t.scale=100;continue;case'currency':t.style='currency',t.currency=s.options[0];continue;case'group-off':case',_':t.useGrouping=!1;continue;case'precision-integer':case'.':t.maximumFractionDigits=0;continue;case'measure-unit':case'unit':t.style='unit',t.unit=s.options[0].replace(/^(.*?)-/,'');continue;case'compact-short':case'K':t.notation='compact',t.compactDisplay='short';continue;case'compact-long':case'KK':t.notation='compact',t.compactDisplay='long';continue;case'scientific':t=Qt(Qt(Qt({},t),{notation:'scientific'}),s.options.reduce((function(e,t){return Qt(Qt({},e),Ni(t))}),{}));continue;case'engineering':t=Qt(Qt(Qt({},t),{notation:'engineering'}),s.options.reduce((function(e,t){return Qt(Qt({},e),Ni(t))}),{}));continue;case'notation-simple':t.notation='standard';continue;case'unit-width-narrow':t.currencyDisplay='narrowSymbol',t.unitDisplay='narrow';continue;case'unit-width-short':t.currencyDisplay='code',t.unitDisplay='short';continue;case'unit-width-full-name':t.currencyDisplay='name',t.unitDisplay='long';continue;case'unit-width-iso-code':t.currencyDisplay='symbol';continue;case'scale':t.scale=parseFloat(s.options[0]);continue;case'rounding-mode-floor':t.roundingMode='floor';continue;case'rounding-mode-ceiling':t.roundingMode='ceil';continue;case'rounding-mode-down':t.roundingMode='trunc';continue;case'rounding-mode-up':t.roundingMode='expand';continue;case'rounding-mode-half-even':t.roundingMode='halfEven';continue;case'rounding-mode-half-down':t.roundingMode='halfTrunc';continue;case'rounding-mode-half-up':t.roundingMode='halfExpand';continue;case'integer-width':if(s.options.length>1)throw new RangeError('integer-width stems only accept a single optional option');s.options[0].replace(Ii,(function(e,i,n,s,r,a){if(i)t.minimumIntegerDigits=n.length;else{if(s&&r)throw new Error('We currently do not support maximum integer digits');if(a)throw new Error('We currently do not support exact integer digits')}return''}));continue}if(Ai.test(s.stem))t.minimumIntegerDigits=s.stem.length;else if(Si.test(s.stem)){if(s.options.length>1)throw new RangeError('Fraction-precision stems only accept a single optional option');s.stem.replace(Si,(function(e,i,n,s,r,a){return'*'===n?t.minimumFractionDigits=i.length:s&&'#'===s[0]?t.maximumFractionDigits=s.length:r&&a?(t.minimumFractionDigits=r.length,t.maximumFractionDigits=r.length+a.length):(t.minimumFractionDigits=i.length,t.maximumFractionDigits=i.length),''}));var r=s.options[0];'w'===r?t=Qt(Qt({},t),{trailingZeroDisplay:'stripIfInteger'}):r&&(t=Qt(Qt({},t),Ci(r)))}else if(Ti.test(s.stem))t=Qt(Qt({},t),Ci(s.stem));else{var a=Oi(s.stem);a&&(t=Qt(Qt({},t),a));var o=Pi(s.stem);o&&(t=Qt(Qt({},t),o))}}return t}var xi,Ri={'001':['H','h'],419:['h','H','hB','hb'],AC:['H','h','hb','hB'],AD:['H','hB'],AE:['h','hB','hb','H'],AF:['H','hb','hB','h'],AG:['h','hb','H','hB'],AI:['H','h','hb','hB'],AL:['h','H','hB'],AM:['H','hB'],AO:['H','hB'],AR:['h','H','hB','hb'],AS:['h','H'],AT:['H','hB'],AU:['h','hb','H','hB'],AW:['H','hB'],AX:['H'],AZ:['H','hB','h'],BA:['H','hB','h'],BB:['h','hb','H','hB'],BD:['h','hB','H'],BE:['H','hB'],BF:['H','hB'],BG:['H','hB','h'],BH:['h','hB','hb','H'],BI:['H','h'],BJ:['H','hB'],BL:['H','hB'],BM:['h','hb','H','hB'],BN:['hb','hB','h','H'],BO:['h','H','hB','hb'],BQ:['H'],BR:['H','hB'],BS:['h','hb','H','hB'],BT:['h','H'],BW:['H','h','hb','hB'],BY:['H','h'],BZ:['H','h','hb','hB'],CA:['h','hb','H','hB'],CC:['H','h','hb','hB'],CD:['hB','H'],CF:['H','h','hB'],CG:['H','hB'],CH:['H','hB','h'],CI:['H','hB'],CK:['H','h','hb','hB'],CL:['h','H','hB','hb'],CM:['H','h','hB'],CN:['H','hB','hb','h'],CO:['h','H','hB','hb'],CP:['H'],CR:['h','H','hB','hb'],CU:['h','H','hB','hb'],CV:['H','hB'],CW:['H','hB'],CX:['H','h','hb','hB'],CY:['h','H','hb','hB'],CZ:['H'],DE:['H','hB'],DG:['H','h','hb','hB'],DJ:['h','H'],DK:['H'],DM:['h','hb','H','hB'],DO:['h','H','hB','hb'],DZ:['h','hB','hb','H'],EA:['H','h','hB','hb'],EC:['h','H','hB','hb'],EE:['H','hB'],EG:['h','hB','hb','H'],EH:['h','hB','hb','H'],ER:['h','H'],ES:['H','hB','h','hb'],ET:['hB','hb','h','H'],FI:['H'],FJ:['h','hb','H','hB'],FK:['H','h','hb','hB'],FM:['h','hb','H','hB'],FO:['H','h'],FR:['H','hB'],GA:['H','hB'],GB:['H','h','hb','hB'],GD:['h','hb','H','hB'],GE:['H','hB','h'],GF:['H','hB'],GG:['H','h','hb','hB'],GH:['h','H'],GI:['H','h','hb','hB'],GL:['H','h'],GM:['h','hb','H','hB'],GN:['H','hB'],GP:['H','hB'],GQ:['H','hB','h','hb'],GR:['h','H','hb','hB'],GT:['h','H','hB','hb'],GU:['h','hb','H','hB'],GW:['H','hB'],GY:['h','hb','H','hB'],HK:['h','hB','hb','H'],HN:['h','H','hB','hb'],HR:['H','hB'],HU:['H','h'],IC:['H','h','hB','hb'],ID:['H'],IE:['H','h','hb','hB'],IL:['H','hB'],IM:['H','h','hb','hB'],IN:['h','H'],IO:['H','h','hb','hB'],IQ:['h','hB','hb','H'],IR:['hB','H'],IS:['H'],IT:['H','hB'],JE:['H','h','hb','hB'],JM:['h','hb','H','hB'],JO:['h','hB','hb','H'],JP:['H','K','h'],KE:['hB','hb','H','h'],KG:['H','h','hB','hb'],KH:['hB','h','H','hb'],KI:['h','hb','H','hB'],KM:['H','h','hB','hb'],KN:['h','hb','H','hB'],KP:['h','H','hB','hb'],KR:['h','H','hB','hb'],KW:['h','hB','hb','H'],KY:['h','hb','H','hB'],KZ:['H','hB'],LA:['H','hb','hB','h'],LB:['h','hB','hb','H'],LC:['h','hb','H','hB'],LI:['H','hB','h'],LK:['H','h','hB','hb'],LR:['h','hb','H','hB'],LS:['h','H'],LT:['H','h','hb','hB'],LU:['H','h','hB'],LV:['H','hB','hb','h'],LY:['h','hB','hb','H'],MA:['H','h','hB','hb'],MC:['H','hB'],MD:['H','hB'],ME:['H','hB','h'],MF:['H','hB'],MG:['H','h'],MH:['h','hb','H','hB'],MK:['H','h','hb','hB'],ML:['H'],MM:['hB','hb','H','h'],MN:['H','h','hb','hB'],MO:['h','hB','hb','H'],MP:['h','hb','H','hB'],MQ:['H','hB'],MR:['h','hB','hb','H'],MS:['H','h','hb','hB'],MT:['H','h'],MU:['H','h'],MV:['H','h'],MW:['h','hb','H','hB'],MX:['h','H','hB','hb'],MY:['hb','hB','h','H'],MZ:['H','hB'],NA:['h','H','hB','hb'],NC:['H','hB'],NE:['H'],NF:['H','h','hb','hB'],NG:['H','h','hb','hB'],NI:['h','H','hB','hb'],NL:['H','hB'],NO:['H','h'],NP:['H','h','hB'],NR:['H','h','hb','hB'],NU:['H','h','hb','hB'],NZ:['h','hb','H','hB'],OM:['h','hB','hb','H'],PA:['h','H','hB','hb'],PE:['h','H','hB','hb'],PF:['H','h','hB'],PG:['h','H'],PH:['h','hB','hb','H'],PK:['h','hB','H'],PL:['H','h'],PM:['H','hB'],PN:['H','h','hb','hB'],PR:['h','H','hB','hb'],PS:['h','hB','hb','H'],PT:['H','hB'],PW:['h','H'],PY:['h','H','hB','hb'],QA:['h','hB','hb','H'],RE:['H','hB'],RO:['H','hB'],RS:['H','hB','h'],RU:['H'],RW:['H','h'],SA:['h','hB','hb','H'],SB:['h','hb','H','hB'],SC:['H','h','hB'],SD:['h','hB','hb','H'],SE:['H'],SG:['h','hb','H','hB'],SH:['H','h','hb','hB'],SI:['H','hB'],SJ:['H'],SK:['H'],SL:['h','hb','H','hB'],SM:['H','h','hB'],SN:['H','h','hB'],SO:['h','H'],SR:['H','hB'],SS:['h','hb','H','hB'],ST:['H','hB'],SV:['h','H','hB','hb'],SX:['H','h','hb','hB'],SY:['h','hB','hb','H'],SZ:['h','hb','H','hB'],TA:['H','h','hb','hB'],TC:['h','hb','H','hB'],TD:['h','H','hB'],TF:['H','h','hB'],TG:['H','hB'],TH:['H','h'],TJ:['H','h'],TL:['H','hB','hb','h'],TM:['H','h'],TN:['h','hB','hb','H'],TO:['h','H'],TR:['H','hB'],TT:['h','hb','H','hB'],TW:['hB','hb','h','H'],TZ:['hB','hb','H','h'],UA:['H','hB','h'],UG:['hB','hb','H','h'],UM:['h','hb','H','hB'],US:['h','hb','H','hB'],UY:['h','H','hB','hb'],UZ:['H','hB','h'],VA:['H','h','hB'],VC:['h','hb','H','hB'],VE:['h','H','hB','hb'],VG:['h','hb','H','hB'],VI:['h','hb','H','hB'],VN:['H','h'],VU:['h','H'],WF:['H','hB'],WS:['h','H'],XK:['H','hB','h'],YE:['h','hB','hb','H'],YT:['H','hB'],ZA:['H','h','hb','hB'],ZM:['h','hb','H','hB'],ZW:['H','h'],'af-ZA':['H','h','hB','hb'],'ar-001':['h','hB','hb','H'],'ca-ES':['H','h','hB'],'en-001':['h','hb','H','hB'],'en-HK':['h','hb','H','hB'],'en-IL':['H','h','hb','hB'],'en-MY':['h','hb','H','hB'],'es-BR':['H','h','hB','hb'],'es-ES':['H','h','hB','hb'],'es-GQ':['H','h','hB','hb'],'fr-CA':['H','h','hB'],'gl-ES':['H','h','hB'],'gu-IN':['hB','hb','h','H'],'hi-IN':['hB','h','H'],'it-CH':['H','h','hB'],'it-IT':['H','h','hB'],'kn-IN':['hB','h','H'],'ml-IN':['hB','h','H'],'mr-IN':['hB','hb','h','H'],'pa-IN':['hB','hb','h','H'],'ta-IN':['hB','h','hb','H'],'te-IN':['hB','h','H'],'zu-ZA':['H','hB','hb','h']};function Di(e){var t=e.hourCycle;if(void 0===t&&e.hourCycles&&e.hourCycles.length&&(t=e.hourCycles[0]),t)switch(t){case'h24':return'k';case'h23':return'H';case'h12':return'h';case'h11':return'K';default:throw new Error('Invalid hourCycle')}var i,n=e.language;return'root'!==n&&(i=e.maximize().region),(Ri[i||'']||Ri[n||'']||Ri[''.concat(n,'-001')]||Ri['001'])[0]}var Mi=new RegExp('^'.concat(vi.source,'*')),ki=new RegExp(''.concat(vi.source,'*$'));function Bi(e,t){return{start:e,end:t}}var Ui=!!String.prototype.startsWith&&'_a'.startsWith('a',1),Gi=!!String.fromCodePoint,Wi=!!Object.fromEntries,ji=!!String.prototype.codePointAt,$i=!!String.prototype.trimStart,Hi=!!String.prototype.trimEnd,Fi=!!Number.isSafeInteger?Number.isSafeInteger:function(e){return'number'==typeof e&&isFinite(e)&&Math.floor(e)===e&&Math.abs(e)<=9007199254740991},zi=!0;try{zi='a'===(null===(xi=Ji('([^\\p{White_Space}\\p{Pattern_Syntax}]*)','yu').exec('a'))||void 0===xi?void 0:xi[0])}catch(nl){zi=!1}var Vi,Yi=Ui?function(e,t,i){return e.startsWith(t,i)}:function(e,t,i){return e.slice(i,i+t.length)===t},Qi=Gi?String.fromCodePoint:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var i,n='',s=e.length,r=0;s>r;){if((i=e[r++])>1114111)throw RangeError(i+' is not a valid code point');n+=i<65536?String.fromCharCode(i):String.fromCharCode(55296+((i-=65536)>>10),i%1024+56320)}return n},Ki=Wi?Object.fromEntries:function(e){for(var t={},i=0,n=e;i<n.length;i++){var s=n[i],r=s[0],a=s[1];t[r]=a}return t},qi=ji?function(e,t){return e.codePointAt(t)}:function(e,t){var i=e.length;if(!(t<0||t>=i)){var n,s=e.charCodeAt(t);return s<55296||s>56319||t+1===i||(n=e.charCodeAt(t+1))<56320||n>57343?s:n-56320+(s-55296<<10)+65536}},Xi=$i?function(e){return e.trimStart()}:function(e){return e.replace(Mi,'')},Zi=Hi?function(e){return e.trimEnd()}:function(e){return e.replace(ki,'')};function Ji(e,t){return new RegExp(e,t)}if(zi){var en=Ji('([^\\p{White_Space}\\p{Pattern_Syntax}]*)','yu');Vi=function(e,t){var i;return en.lastIndex=t,null!==(i=en.exec(e)[1])&&void 0!==i?i:''}}else Vi=function(e,t){for(var i=[];;){var n=qi(e,t);if(void 0===n||an(n)||on(n))break;i.push(n),t+=n>=65536?2:1}return Qi.apply(void 0,i)};var tn,nn=function(){function e(e,t){void 0===t&&(t={}),this.message=e,this.position={offset:0,line:1,column:1},this.ignoreTag=!!t.ignoreTag,this.locale=t.locale,this.requiresOtherClause=!!t.requiresOtherClause,this.shouldParseSkeletons=!!t.shouldParseSkeletons}return e.prototype.parse=function(){if(0!==this.offset())throw Error('parser can only be used once');return this.parseMessage(0,'',!1)},e.prototype.parseMessage=function(e,t,i){for(var n=[];!this.isEOF();){var s=this.char();if(123===s){if((r=this.parseArgument(e,i)).err)return r;n.push(r.val)}else{if(125===s&&e>0)break;if(35!==s||'plural'!==t&&'selectordinal'!==t){if(60===s&&!this.ignoreTag&&47===this.peek()){if(i)break;return this.error(ti.UNMATCHED_CLOSING_TAG,Bi(this.clonePosition(),this.clonePosition()))}if(60===s&&!this.ignoreTag&&sn(this.peek()||0)){if((r=this.parseTag(e,t)).err)return r;n.push(r.val)}else{var r;if((r=this.parseLiteral(e,t)).err)return r;n.push(r.val)}}else{var a=this.clonePosition();this.bump(),n.push({type:ii.pound,location:Bi(a,this.clonePosition())})}}}return{val:n,err:null}},e.prototype.parseTag=function(e,t){var i=this.clonePosition();this.bump();var n=this.parseTagName();if(this.bumpSpace(),this.bumpIf('/>'))return{val:{type:ii.literal,value:'<'.concat(n,'/>'),location:Bi(i,this.clonePosition())},err:null};if(this.bumpIf('>')){var s=this.parseMessage(e+1,t,!0);if(s.err)return s;var r=s.val,a=this.clonePosition();if(this.bumpIf('</')){if(this.isEOF()||!sn(this.char()))return this.error(ti.INVALID_TAG,Bi(a,this.clonePosition()));var o=this.clonePosition();return n!==this.parseTagName()?this.error(ti.UNMATCHED_CLOSING_TAG,Bi(o,this.clonePosition())):(this.bumpSpace(),this.bumpIf('>')?{val:{type:ii.tag,value:n,children:r,location:Bi(i,this.clonePosition())},err:null}:this.error(ti.INVALID_TAG,Bi(a,this.clonePosition())))}return this.error(ti.UNCLOSED_TAG,Bi(i,this.clonePosition()))}return this.error(ti.INVALID_TAG,Bi(i,this.clonePosition()))},e.prototype.parseTagName=function(){var e=this.offset();for(this.bump();!this.isEOF()&&rn(this.char());)this.bump();return this.message.slice(e,this.offset())},e.prototype.parseLiteral=function(e,t){for(var i=this.clonePosition(),n='';;){var s=this.tryParseQuote(t);if(s)n+=s;else{var r=this.tryParseUnquoted(e,t);if(r)n+=r;else{var a=this.tryParseLeftAngleBracket();if(!a)break;n+=a}}}var o=Bi(i,this.clonePosition());return{val:{type:ii.literal,value:n,location:o},err:null}},e.prototype.tryParseLeftAngleBracket=function(){return this.isEOF()||60!==this.char()||!this.ignoreTag&&(sn(e=this.peek()||0)||47===e)?null:(this.bump(),'<');var e},e.prototype.tryParseQuote=function(e){if(this.isEOF()||39!==this.char())return null;switch(this.peek()){case 39:return this.bump(),this.bump(),'\'';case 123:case 60:case 62:case 125:break;case 35:if('plural'===e||'selectordinal'===e)break;return null;default:return null}this.bump();var t=[this.char()];for(this.bump();!this.isEOF();){var i=this.char();if(39===i){if(39!==this.peek()){this.bump();break}t.push(39),this.bump()}else t.push(i);this.bump()}return Qi.apply(void 0,t)},e.prototype.tryParseUnquoted=function(e,t){if(this.isEOF())return null;var i=this.char();return 60===i||123===i||35===i&&('plural'===t||'selectordinal'===t)||125===i&&e>0?null:(this.bump(),Qi(i))},e.prototype.parseArgument=function(e,t){var i=this.clonePosition();if(this.bump(),this.bumpSpace(),this.isEOF())return this.error(ti.EXPECT_ARGUMENT_CLOSING_BRACE,Bi(i,this.clonePosition()));if(125===this.char())return this.bump(),this.error(ti.EMPTY_ARGUMENT,Bi(i,this.clonePosition()));var n=this.parseIdentifierIfPossible().value;if(!n)return this.error(ti.MALFORMED_ARGUMENT,Bi(i,this.clonePosition()));if(this.bumpSpace(),this.isEOF())return this.error(ti.EXPECT_ARGUMENT_CLOSING_BRACE,Bi(i,this.clonePosition()));switch(this.char()){case 125:return this.bump(),{val:{type:ii.argument,value:n,location:Bi(i,this.clonePosition())},err:null};case 44:return this.bump(),this.bumpSpace(),this.isEOF()?this.error(ti.EXPECT_ARGUMENT_CLOSING_BRACE,Bi(i,this.clonePosition())):this.parseArgumentOptions(e,t,n,i);default:return this.error(ti.MALFORMED_ARGUMENT,Bi(i,this.clonePosition()))}},e.prototype.parseIdentifierIfPossible=function(){var e=this.clonePosition(),t=this.offset(),i=Vi(this.message,t),n=t+i.length;return this.bumpTo(n),{value:i,location:Bi(e,this.clonePosition())}},e.prototype.parseArgumentOptions=function(e,t,i,n){var s,r=this.clonePosition(),a=this.parseIdentifierIfPossible().value,o=this.clonePosition();switch(a){case'':return this.error(ti.EXPECT_ARGUMENT_TYPE,Bi(r,o));case'number':case'date':case'time':this.bumpSpace();var l=null;if(this.bumpIf(',')){this.bumpSpace();var c=this.clonePosition();if((_=this.parseSimpleArgStyleIfPossible()).err)return _;if(0===(h=Zi(_.val)).length)return this.error(ti.EXPECT_ARGUMENT_STYLE,Bi(this.clonePosition(),this.clonePosition()));l={style:h,styleLocation:Bi(c,this.clonePosition())}}if((y=this.tryParseArgumentClose(n)).err)return y;var d=Bi(n,this.clonePosition());if(l&&Yi(null==l?void 0:l.style,'::',0)){var u=Xi(l.style.slice(2));if('number'===a)return(_=this.parseNumberSkeletonFromString(u,l.styleLocation)).err?_:{val:{type:ii.number,value:i,location:d,style:_.val},err:null};if(0===u.length)return this.error(ti.EXPECT_DATE_TIME_SKELETON,d);var p=u;this.locale&&(p=function(e,t){for(var i='',n=0;n<e.length;n++){var s=e.charAt(n);if('j'===s){for(var r=0;n+1<e.length&&e.charAt(n+1)===s;)r++,n++;var a=1+(1&r),o=r<2?1:3+(r>>1),l=Di(t);for('H'!=l&&'k'!=l||(o=0);o-- >0;)i+='a';for(;a-- >0;)i=l+i}else i+='J'===s?'H':s}return i}(u,this.locale));var h={type:ni.dateTime,pattern:p,location:l.styleLocation,parsedOptions:this.shouldParseSkeletons?bi(p):{}};return{val:{type:'date'===a?ii.date:ii.time,value:i,location:d,style:h},err:null}}return{val:{type:'number'===a?ii.number:'date'===a?ii.date:ii.time,value:i,location:d,style:null!==(s=null==l?void 0:l.style)&&void 0!==s?s:null},err:null};case'plural':case'selectordinal':case'select':var m=this.clonePosition();if(this.bumpSpace(),!this.bumpIf(','))return this.error(ti.EXPECT_SELECT_ARGUMENT_OPTIONS,Bi(m,Qt({},m)));this.bumpSpace();var f=this.parseIdentifierIfPossible(),g=0;if('select'!==a&&'offset'===f.value){if(!this.bumpIf(':'))return this.error(ti.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE,Bi(this.clonePosition(),this.clonePosition()));var _;if(this.bumpSpace(),(_=this.tryParseDecimalInteger(ti.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE,ti.INVALID_PLURAL_ARGUMENT_OFFSET_VALUE)).err)return _;this.bumpSpace(),f=this.parseIdentifierIfPossible(),g=_.val}var y,v=this.tryParsePluralOrSelectOptions(e,a,t,f);if(v.err)return v;if((y=this.tryParseArgumentClose(n)).err)return y;var w=Bi(n,this.clonePosition());return'select'===a?{val:{type:ii.select,value:i,options:Ki(v.val),location:w},err:null}:{val:{type:ii.plural,value:i,options:Ki(v.val),offset:g,pluralType:'plural'===a?'cardinal':'ordinal',location:w},err:null};default:return this.error(ti.INVALID_ARGUMENT_TYPE,Bi(r,o))}},e.prototype.tryParseArgumentClose=function(e){return this.isEOF()||125!==this.char()?this.error(ti.EXPECT_ARGUMENT_CLOSING_BRACE,Bi(e,this.clonePosition())):(this.bump(),{val:!0,err:null})},e.prototype.parseSimpleArgStyleIfPossible=function(){for(var e=0,t=this.clonePosition();!this.isEOF();){switch(this.char()){case 39:this.bump();var i=this.clonePosition();if(!this.bumpUntil('\''))return this.error(ti.UNCLOSED_QUOTE_IN_ARGUMENT_STYLE,Bi(i,this.clonePosition()));this.bump();break;case 123:e+=1,this.bump();break;case 125:if(!(e>0))return{val:this.message.slice(t.offset,this.offset()),err:null};e-=1;break;default:this.bump()}}return{val:this.message.slice(t.offset,this.offset()),err:null}},e.prototype.parseNumberSkeletonFromString=function(e,t){var i=[];try{i=function(e){if(0===e.length)throw new Error('Number skeleton cannot be empty');for(var t=e.split(Ei).filter((function(e){return e.length>0})),i=[],n=0,s=t;n<s.length;n++){var r=s[n].split('/');if(0===r.length)throw new Error('Invalid number skeleton');for(var a=r[0],o=r.slice(1),l=0,c=o;l<c.length;l++)if(0===c[l].length)throw new Error('Invalid number skeleton');i.push({stem:a,options:o})}return i}(e)}catch(e){return this.error(ti.INVALID_NUMBER_SKELETON,t)}return{val:{type:ni.number,tokens:i,location:t,parsedOptions:this.shouldParseSkeletons?Li(i):{}},err:null}},e.prototype.tryParsePluralOrSelectOptions=function(e,t,i,n){for(var s,r=!1,a=[],o=new Set,l=n.value,c=n.location;;){if(0===l.length){var d=this.clonePosition();if('select'===t||!this.bumpIf('='))break;var u=this.tryParseDecimalInteger(ti.EXPECT_PLURAL_ARGUMENT_SELECTOR,ti.INVALID_PLURAL_ARGUMENT_SELECTOR);if(u.err)return u;c=Bi(d,this.clonePosition()),l=this.message.slice(d.offset,this.offset())}if(o.has(l))return this.error('select'===t?ti.DUPLICATE_SELECT_ARGUMENT_SELECTOR:ti.DUPLICATE_PLURAL_ARGUMENT_SELECTOR,c);'other'===l&&(r=!0),this.bumpSpace();var p=this.clonePosition();if(!this.bumpIf('{'))return this.error('select'===t?ti.EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT:ti.EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT,Bi(this.clonePosition(),this.clonePosition()));var h=this.parseMessage(e+1,t,i);if(h.err)return h;var m=this.tryParseArgumentClose(p);if(m.err)return m;a.push([l,{value:h.val,location:Bi(p,this.clonePosition())}]),o.add(l),this.bumpSpace(),l=(s=this.parseIdentifierIfPossible()).value,c=s.location}return 0===a.length?this.error('select'===t?ti.EXPECT_SELECT_ARGUMENT_SELECTOR:ti.EXPECT_PLURAL_ARGUMENT_SELECTOR,Bi(this.clonePosition(),this.clonePosition())):this.requiresOtherClause&&!r?this.error(ti.MISSING_OTHER_CLAUSE,Bi(this.clonePosition(),this.clonePosition())):{val:a,err:null}},e.prototype.tryParseDecimalInteger=function(e,t){var i=1,n=this.clonePosition();this.bumpIf('+')||this.bumpIf('-')&&(i=-1);for(var s=!1,r=0;!this.isEOF();){var a=this.char();if(!(a>=48&&a<=57))break;s=!0,r=10*r+(a-48),this.bump()}var o=Bi(n,this.clonePosition());return s?Fi(r*=i)?{val:r,err:null}:this.error(t,o):this.error(e,o)},e.prototype.offset=function(){return this.position.offset},e.prototype.isEOF=function(){return this.offset()===this.message.length},e.prototype.clonePosition=function(){return{offset:this.position.offset,line:this.position.line,column:this.position.column}},e.prototype.char=function(){var e=this.position.offset;if(e>=this.message.length)throw Error('out of bound');var t=qi(this.message,e);if(void 0===t)throw Error('Offset '.concat(e,' is at invalid UTF-16 code unit boundary'));return t},e.prototype.error=function(e,t){return{val:null,err:{kind:e,message:this.message,location:t}}},e.prototype.bump=function(){if(!this.isEOF()){var e=this.char();10===e?(this.position.line+=1,this.position.column=1,this.position.offset+=1):(this.position.column+=1,this.position.offset+=e<65536?1:2)}},e.prototype.bumpIf=function(e){if(Yi(this.message,e,this.offset())){for(var t=0;t<e.length;t++)this.bump();return!0}return!1},e.prototype.bumpUntil=function(e){var t=this.offset(),i=this.message.indexOf(e,t);return i>=0?(this.bumpTo(i),!0):(this.bumpTo(this.message.length),!1)},e.prototype.bumpTo=function(e){if(this.offset()>e)throw Error('targetOffset '.concat(e,' must be greater than or equal to the current offset ').concat(this.offset()));for(e=Math.min(e,this.message.length);;){var t=this.offset();if(t===e)break;if(t>e)throw Error('targetOffset '.concat(e,' is at invalid UTF-16 code unit boundary'));if(this.bump(),this.isEOF())break}},e.prototype.bumpSpace=function(){for(;!this.isEOF()&&an(this.char());)this.bump()},e.prototype.peek=function(){if(this.isEOF())return null;var e=this.char(),t=this.offset(),i=this.message.charCodeAt(t+(e>=65536?2:1));return null!=i?i:null},e}();function sn(e){return e>=97&&e<=122||e>=65&&e<=90}function rn(e){return 45===e||46===e||e>=48&&e<=57||95===e||e>=97&&e<=122||e>=65&&e<=90||183==e||e>=192&&e<=214||e>=216&&e<=246||e>=248&&e<=893||e>=895&&e<=8191||e>=8204&&e<=8205||e>=8255&&e<=8256||e>=8304&&e<=8591||e>=11264&&e<=12271||e>=12289&&e<=55295||e>=63744&&e<=64975||e>=65008&&e<=65533||e>=65536&&e<=983039}function an(e){return e>=9&&e<=13||32===e||133===e||e>=8206&&e<=8207||8232===e||8233===e}function on(e){return e>=33&&e<=35||36===e||e>=37&&e<=39||40===e||41===e||42===e||43===e||44===e||45===e||e>=46&&e<=47||e>=58&&e<=59||e>=60&&e<=62||e>=63&&e<=64||91===e||92===e||93===e||94===e||96===e||123===e||124===e||125===e||126===e||161===e||e>=162&&e<=165||166===e||167===e||169===e||171===e||172===e||174===e||176===e||177===e||182===e||187===e||191===e||215===e||247===e||e>=8208&&e<=8213||e>=8214&&e<=8215||8216===e||8217===e||8218===e||e>=8219&&e<=8220||8221===e||8222===e||8223===e||e>=8224&&e<=8231||e>=8240&&e<=8248||8249===e||8250===e||e>=8251&&e<=8254||e>=8257&&e<=8259||8260===e||8261===e||8262===e||e>=8263&&e<=8273||8274===e||8275===e||e>=8277&&e<=8286||e>=8592&&e<=8596||e>=8597&&e<=8601||e>=8602&&e<=8603||e>=8604&&e<=8607||8608===e||e>=8609&&e<=8610||8611===e||e>=8612&&e<=8613||8614===e||e>=8615&&e<=8621||8622===e||e>=8623&&e<=8653||e>=8654&&e<=8655||e>=8656&&e<=8657||8658===e||8659===e||8660===e||e>=8661&&e<=8691||e>=8692&&e<=8959||e>=8960&&e<=8967||8968===e||8969===e||8970===e||8971===e||e>=8972&&e<=8991||e>=8992&&e<=8993||e>=8994&&e<=9e3||9001===e||9002===e||e>=9003&&e<=9083||9084===e||e>=9085&&e<=9114||e>=9115&&e<=9139||e>=9140&&e<=9179||e>=9180&&e<=9185||e>=9186&&e<=9254||e>=9255&&e<=9279||e>=9280&&e<=9290||e>=9291&&e<=9311||e>=9472&&e<=9654||9655===e||e>=9656&&e<=9664||9665===e||e>=9666&&e<=9719||e>=9720&&e<=9727||e>=9728&&e<=9838||9839===e||e>=9840&&e<=10087||10088===e||10089===e||10090===e||10091===e||10092===e||10093===e||10094===e||10095===e||10096===e||10097===e||10098===e||10099===e||10100===e||10101===e||e>=10132&&e<=10175||e>=10176&&e<=10180||10181===e||10182===e||e>=10183&&e<=10213||10214===e||10215===e||10216===e||10217===e||10218===e||10219===e||10220===e||10221===e||10222===e||10223===e||e>=10224&&e<=10239||e>=10240&&e<=10495||e>=10496&&e<=10626||10627===e||10628===e||10629===e||10630===e||10631===e||10632===e||10633===e||10634===e||10635===e||10636===e||10637===e||10638===e||10639===e||10640===e||10641===e||10642===e||10643===e||10644===e||10645===e||10646===e||10647===e||10648===e||e>=10649&&e<=10711||10712===e||10713===e||10714===e||10715===e||e>=10716&&e<=10747||10748===e||10749===e||e>=10750&&e<=11007||e>=11008&&e<=11055||e>=11056&&e<=11076||e>=11077&&e<=11078||e>=11079&&e<=11084||e>=11085&&e<=11123||e>=11124&&e<=11125||e>=11126&&e<=11157||11158===e||e>=11159&&e<=11263||e>=11776&&e<=11777||11778===e||11779===e||11780===e||11781===e||e>=11782&&e<=11784||11785===e||11786===e||11787===e||11788===e||11789===e||e>=11790&&e<=11798||11799===e||e>=11800&&e<=11801||11802===e||11803===e||11804===e||11805===e||e>=11806&&e<=11807||11808===e||11809===e||11810===e||11811===e||11812===e||11813===e||11814===e||11815===e||11816===e||11817===e||e>=11818&&e<=11822||11823===e||e>=11824&&e<=11833||e>=11834&&e<=11835||e>=11836&&e<=11839||11840===e||11841===e||11842===e||e>=11843&&e<=11855||e>=11856&&e<=11857||11858===e||e>=11859&&e<=11903||e>=12289&&e<=12291||12296===e||12297===e||12298===e||12299===e||12300===e||12301===e||12302===e||12303===e||12304===e||12305===e||e>=12306&&e<=12307||12308===e||12309===e||12310===e||12311===e||12312===e||12313===e||12314===e||12315===e||12316===e||12317===e||e>=12318&&e<=12319||12320===e||12336===e||64830===e||64831===e||e>=65093&&e<=65094}function ln(e){e.forEach((function(e){if(delete e.location,hi(e)||mi(e))for(var t in e.options)delete e.options[t].location,ln(e.options[t].value);else di(e)&&_i(e.style)||(ui(e)||pi(e))&&yi(e.style)?delete e.style.location:gi(e)&&ln(e.children)}))}function cn(e,t){void 0===t&&(t={}),t=Qt({shouldParseSkeletons:!0,requiresOtherClause:!0},t);var i=new nn(e,t).parse();if(i.err){var n=SyntaxError(ti[i.err.kind]);throw n.location=i.err.location,n.originalMessage=i.err.message,n}return(null==t?void 0:t.captureLocation)||ln(i.val),i.val}!function(e){e.MISSING_VALUE='MISSING_VALUE',e.INVALID_VALUE='INVALID_VALUE',e.MISSING_INTL_API='MISSING_INTL_API'}(tn||(tn={}));var dn,un=function(e){function t(t,i,n){var s=e.call(this,t)||this;return s.code=i,s.originalMessage=n,s}return Yt(t,e),t.prototype.toString=function(){return'[formatjs Error: '.concat(this.code,'] ').concat(this.message)},t}(Error),pn=function(e){function t(t,i,n,s){return e.call(this,'Invalid values for "'.concat(t,'": "').concat(i,'". Options are "').concat(Object.keys(n).join('", "'),'"'),tn.INVALID_VALUE,s)||this}return Yt(t,e),t}(un),hn=function(e){function t(t,i,n){return e.call(this,'Value for "'.concat(t,'" must be of type ').concat(i),tn.INVALID_VALUE,n)||this}return Yt(t,e),t}(un),mn=function(e){function t(t,i){return e.call(this,'The intl string context variable "'.concat(t,'" was not provided to the string "').concat(i,'"'),tn.MISSING_VALUE,i)||this}return Yt(t,e),t}(un);function fn(e){return'function'==typeof e}function gn(e,t,i,n,s,r,a){if(1===e.length&&li(e[0]))return[{type:dn.literal,value:e[0].value}];for(var o=[],l=0,c=e;l<c.length;l++){var d=c[l];if(li(d))o.push({type:dn.literal,value:d.value});else if(fi(d))'number'==typeof r&&o.push({type:dn.literal,value:i.getNumberFormat(t).format(r)});else{var u=d.value;if(!s||!(u in s))throw new mn(u,a);var p=s[u];if(ci(d))p&&'string'!=typeof p&&'number'!=typeof p||(p='string'==typeof p||'number'==typeof p?String(p):''),o.push({type:'string'==typeof p?dn.literal:dn.object,value:p});else if(ui(d)){var h='string'==typeof d.style?n.date[d.style]:yi(d.style)?d.style.parsedOptions:void 0;o.push({type:dn.literal,value:i.getDateTimeFormat(t,h).format(p)})}else if(pi(d)){h='string'==typeof d.style?n.time[d.style]:yi(d.style)?d.style.parsedOptions:n.time.medium;o.push({type:dn.literal,value:i.getDateTimeFormat(t,h).format(p)})}else if(di(d)){(h='string'==typeof d.style?n.number[d.style]:_i(d.style)?d.style.parsedOptions:void 0)&&h.scale&&(p*=h.scale||1),o.push({type:dn.literal,value:i.getNumberFormat(t,h).format(p)})}else{if(gi(d)){var m=d.children,f=d.value,g=s[f];if(!fn(g))throw new hn(f,'function',a);var _=g(gn(m,t,i,n,s,r).map((function(e){return e.value})));Array.isArray(_)||(_=[_]),o.push.apply(o,_.map((function(e){return{type:'string'==typeof e?dn.literal:dn.object,value:e}})))}if(hi(d)){if(!(y=d.options[p]||d.options.other))throw new pn(d.value,p,Object.keys(d.options),a);o.push.apply(o,gn(y.value,t,i,n,s))}else if(mi(d)){var y;if(!(y=d.options['='.concat(p)])){if(!Intl.PluralRules)throw new un('Intl.PluralRules is not available in this environment.\nTry polyfilling it using "@formatjs/intl-pluralrules"\n',tn.MISSING_INTL_API,a);var v=i.getPluralRules(t,{type:d.pluralType}).select(p-(d.offset||0));y=d.options[v]||d.options.other}if(!y)throw new pn(d.value,p,Object.keys(d.options),a);o.push.apply(o,gn(y.value,t,i,n,s,p-(d.offset||0)))}else;}}}return function(e){return e.length<2?e:e.reduce((function(e,t){var i=e[e.length-1];return i&&i.type===dn.literal&&t.type===dn.literal?i.value+=t.value:e.push(t),e}),[])}(o)}function _n(e,t){return t?Object.keys(e).reduce((function(i,n){var s,r;return i[n]=(s=e[n],(r=t[n])?Qt(Qt(Qt({},s||{}),r||{}),Object.keys(s).reduce((function(e,t){return e[t]=Qt(Qt({},s[t]),r[t]||{}),e}),{})):s),i}),Qt({},e)):e}function yn(e){return{create:function(){return{get:function(t){return e[t]},set:function(t,i){e[t]=i}}}}}!function(e){e[e.literal=0]='literal',e[e.object=1]='object'}(dn||(dn={}));var vn=function(){function e(t,i,n,s){void 0===i&&(i=e.defaultLocale);var r,a=this;if(this.formatterCache={number:{},dateTime:{},pluralRules:{}},this.format=function(e){var t=a.formatToParts(e);if(1===t.length)return t[0].value;var i=t.reduce((function(e,t){return e.length&&t.type===dn.literal&&'string'==typeof e[e.length-1]?e[e.length-1]+=t.value:e.push(t.value),e}),[]);return i.length<=1?i[0]||'':i},this.formatToParts=function(e){return gn(a.ast,a.locales,a.formatters,a.formats,e,void 0,a.message)},this.resolvedOptions=function(){var e;return{locale:(null===(e=a.resolvedLocale)||void 0===e?void 0:e.toString())||Intl.NumberFormat.supportedLocalesOf(a.locales)[0]}},this.getAst=function(){return a.ast},this.locales=i,this.resolvedLocale=e.resolveLocale(i),'string'==typeof t){if(this.message=t,!e.__parse)throw new TypeError('IntlMessageFormat.__parse must be set to process `message` of type `string`');var o=s||{};o.formatters;var l=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&'function'==typeof Object.getOwnPropertySymbols){var s=0;for(n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(i[n[s]]=e[n[s]])}return i}(o,['formatters']);this.ast=e.__parse(t,Qt(Qt({},l),{locale:this.resolvedLocale}))}else this.ast=t;if(!Array.isArray(this.ast))throw new TypeError('A message must be provided as a String or AST.');this.formats=_n(e.formats,n),this.formatters=s&&s.formatters||(void 0===(r=this.formatterCache)&&(r={number:{},dateTime:{},pluralRules:{}}),{getNumberFormat:qt((function(){for(var e,t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];return new((e=Intl.NumberFormat).bind.apply(e,Kt([void 0],t,!1)))}),{cache:yn(r.number),strategy:oi.variadic}),getDateTimeFormat:qt((function(){for(var e,t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];return new((e=Intl.DateTimeFormat).bind.apply(e,Kt([void 0],t,!1)))}),{cache:yn(r.dateTime),strategy:oi.variadic}),getPluralRules:qt((function(){for(var e,t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];return new((e=Intl.PluralRules).bind.apply(e,Kt([void 0],t,!1)))}),{cache:yn(r.pluralRules),strategy:oi.variadic})})}return Object.defineProperty(e,'defaultLocale',{get:function(){return e.memoizedDefaultLocale||(e.memoizedDefaultLocale=(new Intl.NumberFormat).resolvedOptions().locale),e.memoizedDefaultLocale},enumerable:!1,configurable:!0}),e.memoizedDefaultLocale=null,e.resolveLocale=function(e){if(void 0!==Intl.Locale){var t=Intl.NumberFormat.supportedLocalesOf(e);return t.length>0?new Intl.Locale(t[0]):new Intl.Locale('string'==typeof e?e:e[0])}},e.__parse=cn,e.formats={number:{integer:{maximumFractionDigits:0},currency:{style:'currency'},percent:{style:'percent'}},date:{short:{month:'numeric',day:'numeric',year:'2-digit'},medium:{month:'short',day:'numeric',year:'numeric'},long:{month:'long',day:'numeric',year:'numeric'},full:{weekday:'long',month:'long',day:'numeric',year:'numeric'}},time:{short:{hour:'numeric',minute:'numeric'},medium:{hour:'numeric',minute:'numeric',second:'numeric'},long:{hour:'numeric',minute:'numeric',second:'numeric',timeZoneName:'short'},full:{hour:'numeric',minute:'numeric',second:'numeric',timeZoneName:'short'}}},e}();class wn{category;id;description;languageTag;value;static DEFAULT_LANGUAGE_TAG='en-US';constructor(e,t,i,n,s){this.category=e,this.id=t,this.description=i,this.languageTag=n,this.value=s}format(e,t){const i=e||this.value;return new vn(i,this.languageTag).format(t)}getKey(){return this.category?this.category.id+'.'+this.id:this.id}isValid(){return wn.isValid(this.value)}static isValid(e){return null!=e}toString(){return`Phrase{id="${this.id}", value="${this.value}"}`}}const bn=Symbol.for('yaml.alias'),En=Symbol.for('yaml.document'),Sn=Symbol.for('yaml.map'),Tn=Symbol.for('yaml.pair'),In=Symbol.for('yaml.scalar'),An=Symbol.for('yaml.seq'),Cn=Symbol.for('yaml.node.type'),On=e=>!!e&&'object'==typeof e&&e[Cn]===bn,Pn=e=>!!e&&'object'==typeof e&&e[Cn]===En,Nn=e=>!!e&&'object'==typeof e&&e[Cn]===Sn,Ln=e=>!!e&&'object'==typeof e&&e[Cn]===Tn,xn=e=>!!e&&'object'==typeof e&&e[Cn]===In,Rn=e=>!!e&&'object'==typeof e&&e[Cn]===An;function Dn(e){if(e&&'object'==typeof e)switch(e[Cn]){case Sn:case An:return!0}return!1}function Mn(e){if(e&&'object'==typeof e)switch(e[Cn]){case bn:case Sn:case In:case An:return!0}return!1}const kn=Symbol('break visit'),Bn=Symbol('skip children'),Un=Symbol('remove node');function Gn(e,t){const i=function(e){if('object'==typeof e&&(e.Collection||e.Node||e.Value))return Object.assign({Alias:e.Node,Map:e.Node,Scalar:e.Node,Seq:e.Node},e.Value&&{Map:e.Value,Scalar:e.Value,Seq:e.Value},e.Collection&&{Map:e.Collection,Seq:e.Collection},e);return e}(t);if(Pn(e)){Wn(null,e.contents,i,Object.freeze([e]))===Un&&(e.contents=null)}else Wn(null,e,i,Object.freeze([]))}function Wn(e,t,i,n){const s=function(e,t,i,n){return'function'==typeof i?i(e,t,n):Nn(t)?i.Map?.(e,t,n):Rn(t)?i.Seq?.(e,t,n):Ln(t)?i.Pair?.(e,t,n):xn(t)?i.Scalar?.(e,t,n):On(t)?i.Alias?.(e,t,n):void 0}(e,t,i,n);if(Mn(s)||Ln(s))return function(e,t,i){const n=t[t.length-1];if(Dn(n))n.items[e]=i;else if(Ln(n))'key'===e?n.key=i:n.value=i;else{if(!Pn(n)){const e=On(n)?'alias':'scalar';throw new Error(`Cannot replace node with ${e} parent`)}n.contents=i}}(e,n,s),Wn(e,s,i,n);if('symbol'!=typeof s)if(Dn(t)){n=Object.freeze(n.concat(t));for(let e=0;e<t.items.length;++e){const s=Wn(e,t.items[e],i,n);if('number'==typeof s)e=s-1;else{if(s===kn)return kn;s===Un&&(t.items.splice(e,1),e-=1)}}}else if(Ln(t)){n=Object.freeze(n.concat(t));const e=Wn('key',t.key,i,n);if(e===kn)return kn;e===Un&&(t.key=null);const s=Wn('value',t.value,i,n);if(s===kn)return kn;s===Un&&(t.value=null)}return s}Gn.BREAK=kn,Gn.SKIP=Bn,Gn.REMOVE=Un;const jn={'!':'%21',',':'%2C','[':'%5B',']':'%5D','{':'%7B','}':'%7D'};class $n{constructor(e,t){this.docStart=null,this.docEnd=!1,this.yaml=Object.assign({},$n.defaultYaml,e),this.tags=Object.assign({},$n.defaultTags,t)}clone(){const e=new $n(this.yaml,this.tags);return e.docStart=this.docStart,e}atDocument(){const e=new $n(this.yaml,this.tags);switch(this.yaml.version){case'1.1':this.atNextDocument=!0;break;case'1.2':this.atNextDocument=!1,this.yaml={explicit:$n.defaultYaml.explicit,version:'1.2'},this.tags=Object.assign({},$n.defaultTags)}return e}add(e,t){this.atNextDocument&&(this.yaml={explicit:$n.defaultYaml.explicit,version:'1.1'},this.tags=Object.assign({},$n.defaultTags),this.atNextDocument=!1);const i=e.trim().split(/[ \t]+/),n=i.shift();switch(n){case'%TAG':{if(2!==i.length&&(t(0,'%TAG directive should contain exactly two parts'),i.length<2))return!1;const[e,n]=i;return this.tags[e]=n,!0}case'%YAML':{if(this.yaml.explicit=!0,1!==i.length)return t(0,'%YAML directive should contain exactly one part'),!1;const[e]=i;if('1.1'===e||'1.2'===e)return this.yaml.version=e,!0;return t(6,`Unsupported YAML version ${e}`,/^\d+\.\d+$/.test(e)),!1}default:return t(0,`Unknown directive ${n}`,!0),!1}}tagName(e,t){if('!'===e)return'!';if('!'!==e[0])return t(`Not a valid tag: ${e}`),null;if('<'===e[1]){const i=e.slice(2,-1);return'!'===i||'!!'===i?(t(`Verbatim tags aren't resolved, so ${e} is invalid.`),null):('>'!==e[e.length-1]&&t('Verbatim tags must end with a >'),i)}const[,i,n]=e.match(/^(.*!)([^!]*)$/s);n||t(`The ${e} tag has no suffix`);const s=this.tags[i];if(s)try{return s+decodeURIComponent(n)}catch(e){return t(String(e)),null}return'!'===i?e:(t(`Could not resolve tag: ${e}`),null)}tagString(e){for(const[t,i]of Object.entries(this.tags))if(e.startsWith(i))return t+e.substring(i.length).replace(/[!,[\]{}]/g,(e=>jn[e]));return'!'===e[0]?e:`!<${e}>`}toString(e){const t=this.yaml.explicit?[`%YAML ${this.yaml.version||'1.2'}`]:[],i=Object.entries(this.tags);let n;if(e&&i.length>0&&Mn(e.contents)){const t={};Gn(e.contents,((e,i)=>{Mn(i)&&i.tag&&(t[i.tag]=!0)})),n=Object.keys(t)}else n=[];for(const[s,r]of i)'!!'===s&&'tag:yaml.org,2002:'===r||e&&!n.some((e=>e.startsWith(r)))||t.push(`%TAG ${s} ${r}`);return t.join('\n')}}function Hn(e){if(/[\x00-\x19\s,[\]{}]/.test(e)){const t=JSON.stringify(e);throw new Error(`Anchor must not contain whitespace or control characters: ${t}`)}return!0}function Fn(e){const t=new Set;return Gn(e,{Value(e,i){i.anchor&&t.add(i.anchor)}}),t}function zn(e,t){for(let i=1;;++i){const n=`${e}${i}`;if(!t.has(n))return n}}function Vn(e,t,i,n){if(n&&'object'==typeof n)if(Array.isArray(n))for(let t=0,i=n.length;t<i;++t){const i=n[t],s=Vn(e,n,String(t),i);void 0===s?delete n[t]:s!==i&&(n[t]=s)}else if(n instanceof Map)for(const t of Array.from(n.keys())){const i=n.get(t),s=Vn(e,n,t,i);void 0===s?n.delete(t):s!==i&&n.set(t,s)}else if(n instanceof Set)for(const t of Array.from(n)){const i=Vn(e,n,t,t);void 0===i?n.delete(t):i!==t&&(n.delete(t),n.add(i))}else for(const[t,i]of Object.entries(n)){const s=Vn(e,n,t,i);void 0===s?delete n[t]:s!==i&&(n[t]=s)}return e.call(t,i,n)}function Yn(e,t,i){if(Array.isArray(e))return e.map(((e,t)=>Yn(e,String(t),i)));if(e&&'function'==typeof e.toJSON){if(!i||(!xn(n=e)&&!Dn(n)||!n.anchor))return e.toJSON(t,i);const s={aliasCount:0,count:1,res:void 0};i.anchors.set(e,s),i.onCreate=e=>{s.res=e,delete i.onCreate};const r=e.toJSON(t,i);return i.onCreate&&i.onCreate(r),r}var n;return'bigint'!=typeof e||i?.keep?e:Number(e)}$n.defaultYaml={explicit:!1,version:'1.2'},$n.defaultTags={'!!':'tag:yaml.org,2002:'};class Qn{constructor(e){Object.defineProperty(this,Cn,{value:e})}clone(){const e=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return this.range&&(e.range=this.range.slice()),e}toJS(e,{mapAsMap:t,maxAliasCount:i,onAnchor:n,reviver:s}={}){if(!Pn(e))throw new TypeError('A document argument is required');const r={anchors:new Map,doc:e,keep:!0,mapAsMap:!0===t,mapKeyWarned:!1,maxAliasCount:'number'==typeof i?i:100},a=Yn(this,'',r);if('function'==typeof n)for(const{count:e,res:t}of r.anchors.values())n(t,e);return'function'==typeof s?Vn(s,{'':a},'',a):a}}class Kn extends Qn{constructor(e){super(bn),this.source=e,Object.defineProperty(this,'tag',{set(){throw new Error('Alias nodes cannot have tags')}})}resolve(e){let t;return Gn(e,{Node:(e,i)=>{if(i===this)return Gn.BREAK;i.anchor===this.source&&(t=i)}}),t}toJSON(e,t){if(!t)return{source:this.source};const{anchors:i,doc:n,maxAliasCount:s}=t,r=this.resolve(n);if(!r){const e=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new ReferenceError(e)}let a=i.get(r);if(a||(Yn(r,null,t),a=i.get(r)),!a||void 0===a.res){throw new ReferenceError('This should not happen: Alias anchor was not resolved?')}if(s>=0&&(a.count+=1,0===a.aliasCount&&(a.aliasCount=qn(n,r,i)),a.count*a.aliasCount>s)){throw new ReferenceError('Excessive alias count indicates a resource exhaustion attack')}return a.res}toString(e,t,i){const n=`*${this.source}`;if(e){if(Hn(this.source),e.options.verifyAliasOrder&&!e.anchors.has(this.source)){const e=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new Error(e)}if(e.implicitKey)return`${n} `}return n}}function qn(e,t,i){if(On(t)){const n=t.resolve(e),s=i&&n&&i.get(n);return s?s.count*s.aliasCount:0}if(Dn(t)){let n=0;for(const s of t.items){const t=qn(e,s,i);t>n&&(n=t)}return n}if(Ln(t)){const n=qn(e,t.key,i),s=qn(e,t.value,i);return Math.max(n,s)}return 1}const Xn=e=>!e||'function'!=typeof e&&'object'!=typeof e;class Zn extends Qn{constructor(e){super(In),this.value=e}toJSON(e,t){return t?.keep?this.value:Yn(this.value,e,t)}toString(){return String(this.value)}}Zn.BLOCK_FOLDED='BLOCK_FOLDED',Zn.BLOCK_LITERAL='BLOCK_LITERAL',Zn.PLAIN='PLAIN',Zn.QUOTE_DOUBLE='QUOTE_DOUBLE',Zn.QUOTE_SINGLE='QUOTE_SINGLE';function Jn(e,t,i){if(Pn(e)&&(e=e.contents),Mn(e))return e;if(Ln(e)){const t=i.schema[Sn].createNode?.(i.schema,null,i);return t.items.push(e),t}(e instanceof String||e instanceof Number||e instanceof Boolean||'undefined'!=typeof BigInt&&e instanceof BigInt)&&(e=e.valueOf());const{aliasDuplicateObjects:n,onAnchor:s,onTagObj:r,schema:a,sourceObjects:o}=i;let l;if(n&&e&&'object'==typeof e){if(l=o.get(e),l)return l.anchor||(l.anchor=s(e)),new Kn(l.anchor);l={anchor:null,node:null},o.set(e,l)}t?.startsWith('!!')&&(t='tag:yaml.org,2002:'+t.slice(2));let c=function(e,t,i){if(t){const e=i.filter((e=>e.tag===t)),n=e.find((e=>!e.format))??e[0];if(!n)throw new Error(`Tag ${t} not found`);return n}return i.find((t=>t.identify?.(e)&&!t.format))}(e,t,a.tags);if(!c){if(e&&'function'==typeof e.toJSON&&(e=e.toJSON()),!e||'object'!=typeof e){const t=new Zn(e);return l&&(l.node=t),t}c=e instanceof Map?a[Sn]:Symbol.iterator in Object(e)?a[An]:a[Sn]}r&&(r(c),delete i.onTagObj);const d=c?.createNode?c.createNode(i.schema,e,i):'function'==typeof c?.nodeClass?.from?c.nodeClass.from(i.schema,e,i):new Zn(e);return t?d.tag=t:c.default||(d.tag=c.tag),l&&(l.node=d),d}function es(e,t,i){let n=i;for(let e=t.length-1;e>=0;--e){const i=t[e];if('number'==typeof i&&Number.isInteger(i)&&i>=0){const e=[];e[i]=n,n=e}else n=new Map([[i,n]])}return Jn(n,void 0,{aliasDuplicateObjects:!1,keepUndefined:!1,onAnchor:()=>{throw new Error('This should not happen, please report a bug.')},schema:e,sourceObjects:new Map})}const ts=e=>null==e||'object'==typeof e&&!!e[Symbol.iterator]().next().done;class is extends Qn{constructor(e,t){super(e),Object.defineProperty(this,'schema',{value:t,configurable:!0,enumerable:!1,writable:!0})}clone(e){const t=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return e&&(t.schema=e),t.items=t.items.map((t=>Mn(t)||Ln(t)?t.clone(e):t)),this.range&&(t.range=this.range.slice()),t}addIn(e,t){if(ts(e))this.add(t);else{const[i,...n]=e,s=this.get(i,!0);if(Dn(s))s.addIn(n,t);else{if(void 0!==s||!this.schema)throw new Error(`Expected YAML collection at ${i}. Remaining path: ${n}`);this.set(i,es(this.schema,n,t))}}}deleteIn(e){const[t,...i]=e;if(0===i.length)return this.delete(t);const n=this.get(t,!0);if(Dn(n))return n.deleteIn(i);throw new Error(`Expected YAML collection at ${t}. Remaining path: ${i}`)}getIn(e,t){const[i,...n]=e,s=this.get(i,!0);return 0===n.length?!t&&xn(s)?s.value:s:Dn(s)?s.getIn(n,t):void 0}hasAllNullValues(e){return this.items.every((t=>{if(!Ln(t))return!1;const i=t.value;return null==i||e&&xn(i)&&null==i.value&&!i.commentBefore&&!i.comment&&!i.tag}))}hasIn(e){const[t,...i]=e;if(0===i.length)return this.has(t);const n=this.get(t,!0);return!!Dn(n)&&n.hasIn(i)}setIn(e,t){const[i,...n]=e;if(0===n.length)this.set(i,t);else{const e=this.get(i,!0);if(Dn(e))e.setIn(n,t);else{if(void 0!==e||!this.schema)throw new Error(`Expected YAML collection at ${i}. Remaining path: ${n}`);this.set(i,es(this.schema,n,t))}}}}const ns=e=>e.replace(/^(?!$)(?: $)?/gm,'#');function ss(e,t){return/^\n+$/.test(e)?e.substring(1):t?e.replace(/^(?! *$)/gm,t):e}const rs=(e,t,i)=>e.endsWith('\n')?ss(i,t):i.includes('\n')?'\n'+ss(i,t):(e.endsWith(' ')?'':' ')+i,as='flow',os='block',ls='quoted';function cs(e,t,i='flow',{indentAtStart:n,lineWidth:s=80,minContentWidth:r=20,onFold:a,onOverflow:o}={}){if(!s||s<0)return e;s<r&&(r=0);const l=Math.max(1+r,1+s-t.length);if(e.length<=l)return e;const c=[],d={};let u,p,h=s-t.length;'number'==typeof n&&(n>s-Math.max(2,r)?c.push(0):h=s-n);let m=!1,f=-1,g=-1,_=-1;i===os&&(f=ds(e,f,t.length),-1!==f&&(h=f+l));for(let n;n=e[f+=1];){if(i===ls&&'\\'===n){switch(g=f,e[f+1]){case'x':f+=3;break;case'u':f+=5;break;case'U':f+=9;break;default:f+=1}_=f}if('\n'===n)i===os&&(f=ds(e,f,t.length)),h=f+t.length+l,u=void 0;else{if(' '===n&&p&&' '!==p&&'\n'!==p&&'\t'!==p){const t=e[f+1];t&&' '!==t&&'\n'!==t&&'\t'!==t&&(u=f)}if(f>=h)if(u)c.push(u),h=u+l,u=void 0;else if(i===ls){for(;' '===p||'\t'===p;)p=n,n=e[f+=1],m=!0;const t=f>_+1?f-2:g-1;if(d[t])return e;c.push(t),d[t]=!0,h=t+l,u=void 0}else m=!0}p=n}if(m&&o&&o(),0===c.length)return e;a&&a();let y=e.slice(0,c[0]);for(let n=0;n<c.length;++n){const s=c[n],r=c[n+1]||e.length;0===s?y=`\n${t}${e.slice(0,r)}`:(i===ls&&d[s]&&(y+=`${e[s]}\\`),y+=`\n${t}${e.slice(s+1,r)}`)}return y}function ds(e,t,i){let n=t,s=t+1,r=e[s];for(;' '===r||'\t'===r;)if(t<s+i)r=e[++t];else{do{r=e[++t]}while(r&&'\n'!==r);n=t,s=t+1,r=e[s]}return n}const us=(e,t)=>({indentAtStart:t?e.indent.length:e.indentAtStart,lineWidth:e.options.lineWidth,minContentWidth:e.options.minContentWidth}),ps=e=>/^(%|---|\.\.\.)/m.test(e);function hs(e,t){const i=JSON.stringify(e);if(t.options.doubleQuotedAsJSON)return i;const{implicitKey:n}=t,s=t.options.doubleQuotedMinMultiLineLength,r=t.indent||(ps(e)?'  ':'');let a='',o=0;for(let e=0,t=i[e];t;t=i[++e])if(' '===t&&'\\'===i[e+1]&&'n'===i[e+2]&&(a+=i.slice(o,e)+'\\ ',e+=1,o=e,t='\\'),'\\'===t)switch(i[e+1]){case'u':{a+=i.slice(o,e);const t=i.substr(e+2,4);switch(t){case'0000':a+='\\0';break;case'0007':a+='\\a';break;case'000b':a+='\\v';break;case'001b':a+='\\e';break;case'0085':a+='\\N';break;case'00a0':a+='\\_';break;case'2028':a+='\\L';break;case'2029':a+='\\P';break;default:'00'===t.substr(0,2)?a+='\\x'+t.substr(2):a+=i.substr(e,6)}e+=5,o=e+1}break;case'n':if(n||'"'===i[e+2]||i.length<s)e+=1;else{for(a+=i.slice(o,e)+'\n\n';'\\'===i[e+2]&&'n'===i[e+3]&&'"'!==i[e+4];)a+='\n',e+=2;a+=r,' '===i[e+2]&&(a+='\\'),e+=1,o=e+1}break;default:e+=1}return a=o?a+i.slice(o):i,n?a:cs(a,r,ls,us(t,!1))}function ms(e,t){if(!1===t.options.singleQuote||t.implicitKey&&e.includes('\n')||/[ \t]\n|\n[ \t]/.test(e))return hs(e,t);const i=t.indent||(ps(e)?'  ':''),n='\''+e.replace(/'/g,'\'\'').replace(/\n+/g,`$&\n${i}`)+'\'';return t.implicitKey?n:cs(n,i,as,us(t,!1))}function fs(e,t){const{singleQuote:i}=t.options;let n;if(!1===i)n=hs;else{const t=e.includes('"'),s=e.includes('\'');n=t&&!s?ms:s&&!t?hs:i?ms:hs}return n(e,t)}let gs;try{gs=new RegExp('(^|(?<!\n))\n+(?!\n|$)','g')}catch{gs=/\n+(?!\n|$)/g}function _s({comment:e,type:t,value:i},n,s,r){const{blockQuote:a,commentString:o,lineWidth:l}=n.options;if(!a||/\n[\t ]+$/.test(i)||/^\s*$/.test(i))return fs(i,n);const c=n.indent||(n.forceBlockIndent||ps(i)?'  ':''),d='literal'===a||'folded'!==a&&t!==Zn.BLOCK_FOLDED&&(t===Zn.BLOCK_LITERAL||!function(e,t,i){if(!t||t<0)return!1;const n=t-i,s=e.length;if(s<=n)return!1;for(let t=0,i=0;t<s;++t)if('\n'===e[t]){if(t-i>n)return!0;if(i=t+1,s-i<=n)return!1}return!0}(i,l,c.length));if(!i)return d?'|\n':'>\n';let u,p;for(p=i.length;p>0;--p){const e=i[p-1];if('\n'!==e&&'\t'!==e&&' '!==e)break}let h=i.substring(p);const m=h.indexOf('\n');-1===m?u='-':i===h||m!==h.length-1?(u='+',r&&r()):u='',h&&(i=i.slice(0,-h.length),'\n'===h[h.length-1]&&(h=h.slice(0,-1)),h=h.replace(gs,`$&${c}`));let f,g=!1,_=-1;for(f=0;f<i.length;++f){const e=i[f];if(' '===e)g=!0;else{if('\n'!==e)break;_=f}}let y=i.substring(0,_<f?_+1:f);y&&(i=i.substring(y.length),y=y.replace(/\n+/g,`$&${c}`));let v=(g?c?'2':'1':'')+u;if(e&&(v+=' '+o(e.replace(/ ?[\r\n]+/g,' ')),s&&s()),!d){const e=i.replace(/\n+/g,'\n$&').replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,'$1$2').replace(/\n+/g,`$&${c}`);let s=!1;const r=us(n,!0);'folded'!==a&&t!==Zn.BLOCK_FOLDED&&(r.onOverflow=()=>{s=!0});const o=cs(`${y}${e}${h}`,c,os,r);if(!s)return`>${v}\n${c}${o}`}return`|${v}\n${c}${y}${i=i.replace(/\n+/g,`$&${c}`)}${h}`}function ys(e,t,i,n){const{implicitKey:s,inFlow:r}=t,a='string'==typeof e.value?e:Object.assign({},e,{value:String(e.value)});let{type:o}=e;o!==Zn.QUOTE_DOUBLE&&/[\x00-\x08\x0b-\x1f\x7f-\x9f\u{D800}-\u{DFFF}]/u.test(a.value)&&(o=Zn.QUOTE_DOUBLE);const l=e=>{switch(e){case Zn.BLOCK_FOLDED:case Zn.BLOCK_LITERAL:return s||r?fs(a.value,t):_s(a,t,i,n);case Zn.QUOTE_DOUBLE:return hs(a.value,t);case Zn.QUOTE_SINGLE:return ms(a.value,t);case Zn.PLAIN:return function(e,t,i,n){const{type:s,value:r}=e,{actualString:a,implicitKey:o,indent:l,indentStep:c,inFlow:d}=t;if(o&&r.includes('\n')||d&&/[[\]{},]/.test(r))return fs(r,t);if(!r||/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(r))return o||d||!r.includes('\n')?fs(r,t):_s(e,t,i,n);if(!o&&!d&&s!==Zn.PLAIN&&r.includes('\n'))return _s(e,t,i,n);if(ps(r)){if(''===l)return t.forceBlockIndent=!0,_s(e,t,i,n);if(o&&l===c)return fs(r,t)}const u=r.replace(/\n+/g,`$&\n${l}`);if(a){const e=e=>e.default&&'tag:yaml.org,2002:str'!==e.tag&&e.test?.test(u),{compat:i,tags:n}=t.doc.schema;if(n.some(e)||i?.some(e))return fs(r,t)}return o?u:cs(u,l,as,us(t,!1))}(a,t,i,n);default:return null}};let c=l(o);if(null===c){const{defaultKeyType:e,defaultStringType:i}=t.options,n=s&&e||i;if(c=l(n),null===c)throw new Error(`Unsupported default string type ${n}`)}return c}function vs(e,t){const i=Object.assign({blockQuote:!0,commentString:ns,defaultKeyType:null,defaultStringType:'PLAIN',directives:null,doubleQuotedAsJSON:!1,doubleQuotedMinMultiLineLength:40,falseStr:'false',flowCollectionPadding:!0,indentSeq:!0,lineWidth:80,minContentWidth:20,nullStr:'null',simpleKeys:!1,singleQuote:null,trueStr:'true',verifyAliasOrder:!0},e.schema.toStringOptions,t);let n;switch(i.collectionStyle){case'block':n=!1;break;case'flow':n=!0;break;default:n=null}return{anchors:new Set,doc:e,flowCollectionPadding:i.flowCollectionPadding?' ':'',indent:'',indentStep:'number'==typeof i.indent?' '.repeat(i.indent):'  ',inFlow:n,options:i}}function ws(e,t,i,n){if(Ln(e))return e.toString(t,i,n);if(On(e)){if(t.doc.directives)return e.toString(t);if(t.resolvedAliases?.has(e))throw new TypeError('Cannot stringify circular structure without alias nodes');t.resolvedAliases?t.resolvedAliases.add(e):t.resolvedAliases=new Set([e]),e=e.resolve(t.doc)}let s;const r=Mn(e)?e:t.doc.createNode(e,{onTagObj:e=>s=e});s||(s=function(e,t){if(t.tag){const i=e.filter((e=>e.tag===t.tag));if(i.length>0)return i.find((e=>e.format===t.format))??i[0]}let i,n;if(xn(t)){n=t.value;let s=e.filter((e=>e.identify?.(n)));if(s.length>1){const e=s.filter((e=>e.test));e.length>0&&(s=e)}i=s.find((e=>e.format===t.format))??s.find((e=>!e.format))}else n=t,i=e.find((e=>e.nodeClass&&n instanceof e.nodeClass));if(!i)throw new Error(`Tag not resolved for ${n?.constructor?.name??typeof n} value`);return i}(t.doc.schema.tags,r));const a=function(e,t,{anchors:i,doc:n}){if(!n.directives)return'';const s=[],r=(xn(e)||Dn(e))&&e.anchor;r&&Hn(r)&&(i.add(r),s.push(`&${r}`));const a=e.tag?e.tag:t.default?null:t.tag;return a&&s.push(n.directives.tagString(a)),s.join(' ')}(r,s,t);a.length>0&&(t.indentAtStart=(t.indentAtStart??0)+a.length+1);const o='function'==typeof s.stringify?s.stringify(r,t,i,n):xn(r)?ys(r,t,i,n):r.toString(t,i,n);return a?xn(r)||'{'===o[0]||'['===o[0]?`${a} ${o}`:`${a}\n${t.indent}${o}`:o}function bs(e,t){'debug'!==e&&'warn'!==e||console.warn(t)}const Es='<<',Ss={identify:e=>e===Es||'symbol'==typeof e&&e.description===Es,default:'key',tag:'tag:yaml.org,2002:merge',test:/^<<$/,resolve:()=>Object.assign(new Zn(Symbol(Es)),{addToJSMap:Ts}),stringify:()=>Es};function Ts(e,t,i){if(i=e&&On(i)?i.resolve(e.doc):i,Rn(i))for(const n of i.items)Is(e,t,n);else if(Array.isArray(i))for(const n of i)Is(e,t,n);else Is(e,t,i)}function Is(e,t,i){const n=e&&On(i)?i.resolve(e.doc):i;if(!Nn(n))throw new Error('Merge sources must be maps or map aliases');const s=n.toJSON(null,e,Map);for(const[e,i]of s)t instanceof Map?t.has(e)||t.set(e,i):t instanceof Set?t.add(e):Object.prototype.hasOwnProperty.call(t,e)||Object.defineProperty(t,e,{value:i,writable:!0,enumerable:!0,configurable:!0});return t}function As(e,t,{key:i,value:n}){if(Mn(i)&&i.addToJSMap)i.addToJSMap(e,t,n);else if(((e,t)=>(Ss.identify(t)||xn(t)&&(!t.type||t.type===Zn.PLAIN)&&Ss.identify(t.value))&&e?.doc.schema.tags.some((e=>e.tag===Ss.tag&&e.default)))(e,i))Ts(e,t,n);else{const s=Yn(i,'',e);if(t instanceof Map)t.set(s,Yn(n,s,e));else if(t instanceof Set)t.add(s);else{const r=function(e,t,i){if(null===t)return'';if('object'!=typeof t)return String(t);if(Mn(e)&&i?.doc){const t=vs(i.doc,{});t.anchors=new Set;for(const e of i.anchors.keys())t.anchors.add(e.anchor);t.inFlow=!0,t.inStringifyKey=!0;const n=e.toString(t);if(!i.mapKeyWarned){let e=JSON.stringify(n);e.length>40&&(e=e.substring(0,36)+'..."'),bs(i.doc.options.logLevel,`Keys with collection values will be stringified due to JS Object restrictions: ${e}. Set mapAsMap: true to use object keys.`),i.mapKeyWarned=!0}return n}return JSON.stringify(t)}(i,s,e),a=Yn(n,r,e);r in t?Object.defineProperty(t,r,{value:a,writable:!0,enumerable:!0,configurable:!0}):t[r]=a}}return t}function Cs(e,t,i){const n=Jn(e,void 0,i),s=Jn(t,void 0,i);return new Os(n,s)}class Os{constructor(e,t=null){Object.defineProperty(this,Cn,{value:Tn}),this.key=e,this.value=t}clone(e){let{key:t,value:i}=this;return Mn(t)&&(t=t.clone(e)),Mn(i)&&(i=i.clone(e)),new Os(t,i)}toJSON(e,t){return As(t,t?.mapAsMap?new Map:{},this)}toString(e,t,i){return e?.doc?function({key:e,value:t},i,n,s){const{allNullValues:r,doc:a,indent:o,indentStep:l,options:{commentString:c,indentSeq:d,simpleKeys:u}}=i;let p=Mn(e)&&e.comment||null;if(u){if(p)throw new Error('With simple keys, key nodes cannot have comments');if(Dn(e)||!Mn(e)&&'object'==typeof e)throw new Error('With simple keys, collection cannot be used as a key value')}let h=!u&&(!e||p&&null==t&&!i.inFlow||Dn(e)||(xn(e)?e.type===Zn.BLOCK_FOLDED||e.type===Zn.BLOCK_LITERAL:'object'==typeof e));i=Object.assign({},i,{allNullValues:!1,implicitKey:!h&&(u||!r),indent:o+l});let m,f,g,_=!1,y=!1,v=ws(e,i,(()=>_=!0),(()=>y=!0));if(!h&&!i.inFlow&&v.length>1024){if(u)throw new Error('With simple keys, single line scalar must not span more than 1024 characters');h=!0}if(i.inFlow){if(r||null==t)return _&&n&&n(),''===v?'?':h?`? ${v}`:v}else if(r&&!u||null==t&&h)return v=`? ${v}`,p&&!_?v+=rs(v,i.indent,c(p)):y&&s&&s(),v;_&&(p=null),h?(p&&(v+=rs(v,i.indent,c(p))),v=`? ${v}\n${o}:`):(v=`${v}:`,p&&(v+=rs(v,i.indent,c(p)))),Mn(t)?(m=!!t.spaceBefore,f=t.commentBefore,g=t.comment):(m=!1,f=null,g=null,t&&'object'==typeof t&&(t=a.createNode(t))),i.implicitKey=!1,h||p||!xn(t)||(i.indentAtStart=v.length+1),y=!1,d||!(l.length>=2)||i.inFlow||h||!Rn(t)||t.flow||t.tag||t.anchor||(i.indent=i.indent.substring(2));let w=!1;const b=ws(t,i,(()=>w=!0),(()=>y=!0));let E=' ';if(p||m||f)E=m?'\n':'',f&&(E+=`\n${ss(c(f),i.indent)}`),''!==b||i.inFlow?E+=`\n${i.indent}`:'\n'===E&&(E='\n\n');else if(!h&&Dn(t)){const e=b[0],n=b.indexOf('\n'),s=-1!==n,r=i.inFlow??t.flow??0===t.items.length;if(s||!r){let t=!1;if(s&&('&'===e||'!'===e)){let i=b.indexOf(' ');'&'===e&&-1!==i&&i<n&&'!'===b[i+1]&&(i=b.indexOf(' ',i+1)),(-1===i||n<i)&&(t=!0)}t||(E=`\n${i.indent}`)}}else''!==b&&'\n'!==b[0]||(E='');return v+=E+b,i.inFlow?w&&n&&n():g&&!w?v+=rs(v,i.indent,c(g)):y&&s&&s(),v}(this,e,t,i):JSON.stringify(this)}}function Ps(e,t,i){return(t.inFlow??e.flow?Ls:Ns)(e,t,i)}function Ns({comment:e,items:t},i,{blockItemPrefix:n,flowChars:s,itemIndent:r,onChompKeep:a,onComment:o}){const{indent:l,options:{commentString:c}}=i,d=Object.assign({},i,{indent:r,type:null});let u=!1;const p=[];for(let e=0;e<t.length;++e){const s=t[e];let a=null;if(Mn(s))!u&&s.spaceBefore&&p.push(''),xs(i,p,s.commentBefore,u),s.comment&&(a=s.comment);else if(Ln(s)){const e=Mn(s.key)?s.key:null;e&&(!u&&e.spaceBefore&&p.push(''),xs(i,p,e.commentBefore,u))}u=!1;let o=ws(s,d,(()=>a=null),(()=>u=!0));a&&(o+=rs(o,r,c(a))),u&&a&&(u=!1),p.push(n+o)}let h;if(0===p.length)h=s.start+s.end;else{h=p[0];for(let e=1;e<p.length;++e){const t=p[e];h+=t?`\n${l}${t}`:'\n'}}return e?(h+='\n'+ss(c(e),l),o&&o()):u&&a&&a(),h}function Ls({items:e},t,{flowChars:i,itemIndent:n}){const{indent:s,indentStep:r,flowCollectionPadding:a,options:{commentString:o}}=t;n+=r;const l=Object.assign({},t,{indent:n,inFlow:!0,type:null});let c=!1,d=0;const u=[];for(let i=0;i<e.length;++i){const s=e[i];let r=null;if(Mn(s))s.spaceBefore&&u.push(''),xs(t,u,s.commentBefore,!1),s.comment&&(r=s.comment);else if(Ln(s)){const e=Mn(s.key)?s.key:null;e&&(e.spaceBefore&&u.push(''),xs(t,u,e.commentBefore,!1),e.comment&&(c=!0));const i=Mn(s.value)?s.value:null;i?(i.comment&&(r=i.comment),i.commentBefore&&(c=!0)):null==s.value&&e?.comment&&(r=e.comment)}r&&(c=!0);let a=ws(s,l,(()=>r=null));i<e.length-1&&(a+=','),r&&(a+=rs(a,n,o(r))),!c&&(u.length>d||a.includes('\n'))&&(c=!0),u.push(a),d=u.length}const{start:p,end:h}=i;if(0===u.length)return p+h;if(!c){const e=u.reduce(((e,t)=>e+t.length+2),2);c=t.options.lineWidth>0&&e>t.options.lineWidth}if(c){let e=p;for(const t of u)e+=t?`\n${r}${s}${t}`:'\n';return`${e}\n${s}${h}`}return`${p}${a}${u.join(' ')}${a}${h}`}function xs({indent:e,options:{commentString:t}},i,n,s){if(n&&s&&(n=n.replace(/^\n+/,'')),n){const s=ss(t(n),e);i.push(s.trimStart())}}function Rs(e,t){const i=xn(t)?t.value:t;for(const n of e)if(Ln(n)){if(n.key===t||n.key===i)return n;if(xn(n.key)&&n.key.value===i)return n}}class Ds extends is{static get tagName(){return'tag:yaml.org,2002:map'}constructor(e){super(Sn,e),this.items=[]}static from(e,t,i){const{keepUndefined:n,replacer:s}=i,r=new this(e),a=(e,a)=>{if('function'==typeof s)a=s.call(t,e,a);else if(Array.isArray(s)&&!s.includes(e))return;(void 0!==a||n)&&r.items.push(Cs(e,a,i))};if(t instanceof Map)for(const[e,i]of t)a(e,i);else if(t&&'object'==typeof t)for(const e of Object.keys(t))a(e,t[e]);return'function'==typeof e.sortMapEntries&&r.items.sort(e.sortMapEntries),r}add(e,t){let i;i=Ln(e)?e:e&&'object'==typeof e&&'key'in e?new Os(e.key,e.value):new Os(e,e?.value);const n=Rs(this.items,i.key),s=this.schema?.sortMapEntries;if(n){if(!t)throw new Error(`Key ${i.key} already set`);xn(n.value)&&Xn(i.value)?n.value.value=i.value:n.value=i.value}else if(s){const e=this.items.findIndex((e=>s(i,e)<0));-1===e?this.items.push(i):this.items.splice(e,0,i)}else this.items.push(i)}delete(e){const t=Rs(this.items,e);if(!t)return!1;return this.items.splice(this.items.indexOf(t),1).length>0}get(e,t){const i=Rs(this.items,e),n=i?.value;return(!t&&xn(n)?n.value:n)??void 0}has(e){return!!Rs(this.items,e)}set(e,t){this.add(new Os(e,t),!0)}toJSON(e,t,i){const n=i?new i:t?.mapAsMap?new Map:{};t?.onCreate&&t.onCreate(n);for(const e of this.items)As(t,n,e);return n}toString(e,t,i){if(!e)return JSON.stringify(this);for(const e of this.items)if(!Ln(e))throw new Error(`Map items must all be pairs; found ${JSON.stringify(e)} instead`);return!e.allNullValues&&this.hasAllNullValues(!1)&&(e=Object.assign({},e,{allNullValues:!0})),Ps(this,e,{blockItemPrefix:'',flowChars:{start:'{',end:'}'},itemIndent:e.indent||'',onChompKeep:i,onComment:t})}}const Ms={collection:'map',default:!0,nodeClass:Ds,tag:'tag:yaml.org,2002:map',resolve:(e,t)=>(Nn(e)||t('Expected a mapping for this tag'),e),createNode:(e,t,i)=>Ds.from(e,t,i)};class ks extends is{static get tagName(){return'tag:yaml.org,2002:seq'}constructor(e){super(An,e),this.items=[]}add(e){this.items.push(e)}delete(e){const t=Bs(e);if('number'!=typeof t)return!1;return this.items.splice(t,1).length>0}get(e,t){const i=Bs(e);if('number'!=typeof i)return;const n=this.items[i];return!t&&xn(n)?n.value:n}has(e){const t=Bs(e);return'number'==typeof t&&t<this.items.length}set(e,t){const i=Bs(e);if('number'!=typeof i)throw new Error(`Expected a valid index, not ${e}.`);const n=this.items[i];xn(n)&&Xn(t)?n.value=t:this.items[i]=t}toJSON(e,t){const i=[];t?.onCreate&&t.onCreate(i);let n=0;for(const e of this.items)i.push(Yn(e,String(n++),t));return i}toString(e,t,i){return e?Ps(this,e,{blockItemPrefix:'- ',flowChars:{start:'[',end:']'},itemIndent:(e.indent||'')+'  ',onChompKeep:i,onComment:t}):JSON.stringify(this)}static from(e,t,i){const{replacer:n}=i,s=new this(e);if(t&&Symbol.iterator in Object(t)){let e=0;for(let r of t){if('function'==typeof n){const i=t instanceof Set?r:String(e++);r=n.call(t,i,r)}s.items.push(Jn(r,void 0,i))}}return s}}function Bs(e){let t=xn(e)?e.value:e;return t&&'string'==typeof t&&(t=Number(t)),'number'==typeof t&&Number.isInteger(t)&&t>=0?t:null}const Us={collection:'seq',default:!0,nodeClass:ks,tag:'tag:yaml.org,2002:seq',resolve:(e,t)=>(Rn(e)||t('Expected a sequence for this tag'),e),createNode:(e,t,i)=>ks.from(e,t,i)},Gs={identify:e=>'string'==typeof e,default:!0,tag:'tag:yaml.org,2002:str',resolve:e=>e,stringify:(e,t,i,n)=>ys(e,t=Object.assign({actualString:!0},t),i,n)},Ws={identify:e=>null==e,createNode:()=>new Zn(null),default:!0,tag:'tag:yaml.org,2002:null',test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>new Zn(null),stringify:({source:e},t)=>'string'==typeof e&&Ws.test.test(e)?e:t.options.nullStr},js={identify:e=>'boolean'==typeof e,default:!0,tag:'tag:yaml.org,2002:bool',test:/^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,resolve:e=>new Zn('t'===e[0]||'T'===e[0]),stringify({source:e,value:t},i){if(e&&js.test.test(e)){if(t===('t'===e[0]||'T'===e[0]))return e}return t?i.options.trueStr:i.options.falseStr}};function $s({format:e,minFractionDigits:t,tag:i,value:n}){if('bigint'==typeof n)return String(n);const s='number'==typeof n?n:Number(n);if(!isFinite(s))return isNaN(s)?'.nan':s<0?'-.inf':'.inf';let r=JSON.stringify(n);if(!e&&t&&(!i||'tag:yaml.org,2002:float'===i)&&/^\d/.test(r)){let e=r.indexOf('.');e<0&&(e=r.length,r+='.');let i=t-(r.length-e-1);for(;i-- >0;)r+='0'}return r}const Hs={identify:e=>'number'==typeof e,default:!0,tag:'tag:yaml.org,2002:float',test:/^(?:[-+]?\.(?:inf|Inf|INF)|\.nan|\.NaN|\.NAN)$/,resolve:e=>'nan'===e.slice(-3).toLowerCase()?NaN:'-'===e[0]?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:$s},Fs={identify:e=>'number'==typeof e,default:!0,tag:'tag:yaml.org,2002:float',format:'EXP',test:/^[-+]?(?:\.[0-9]+|[0-9]+(?:\.[0-9]*)?)[eE][-+]?[0-9]+$/,resolve:e=>parseFloat(e),stringify(e){const t=Number(e.value);return isFinite(t)?t.toExponential():$s(e)}},zs={identify:e=>'number'==typeof e,default:!0,tag:'tag:yaml.org,2002:float',test:/^[-+]?(?:\.[0-9]+|[0-9]+\.[0-9]*)$/,resolve(e){const t=new Zn(parseFloat(e)),i=e.indexOf('.');return-1!==i&&'0'===e[e.length-1]&&(t.minFractionDigits=e.length-i-1),t},stringify:$s},Vs=e=>'bigint'==typeof e||Number.isInteger(e),Ys=(e,t,i,{intAsBigInt:n})=>n?BigInt(e):parseInt(e.substring(t),i);function Qs(e,t,i){const{value:n}=e;return Vs(n)&&n>=0?i+n.toString(t):$s(e)}const Ks={identify:e=>Vs(e)&&e>=0,default:!0,tag:'tag:yaml.org,2002:int',format:'OCT',test:/^0o[0-7]+$/,resolve:(e,t,i)=>Ys(e,2,8,i),stringify:e=>Qs(e,8,'0o')},qs={identify:Vs,default:!0,tag:'tag:yaml.org,2002:int',test:/^[-+]?[0-9]+$/,resolve:(e,t,i)=>Ys(e,0,10,i),stringify:$s},Xs={identify:e=>Vs(e)&&e>=0,default:!0,tag:'tag:yaml.org,2002:int',format:'HEX',test:/^0x[0-9a-fA-F]+$/,resolve:(e,t,i)=>Ys(e,2,16,i),stringify:e=>Qs(e,16,'0x')},Zs=[Ms,Us,Gs,Ws,js,Ks,qs,Xs,Hs,Fs,zs];function Js(e){return'bigint'==typeof e||Number.isInteger(e)}const er=({value:e})=>JSON.stringify(e),tr=[Ms,Us].concat([{identify:e=>'string'==typeof e,default:!0,tag:'tag:yaml.org,2002:str',resolve:e=>e,stringify:er},{identify:e=>null==e,createNode:()=>new Zn(null),default:!0,tag:'tag:yaml.org,2002:null',test:/^null$/,resolve:()=>null,stringify:er},{identify:e=>'boolean'==typeof e,default:!0,tag:'tag:yaml.org,2002:bool',test:/^true$|^false$/,resolve:e=>'true'===e,stringify:er},{identify:Js,default:!0,tag:'tag:yaml.org,2002:int',test:/^-?(?:0|[1-9][0-9]*)$/,resolve:(e,t,{intAsBigInt:i})=>i?BigInt(e):parseInt(e,10),stringify:({value:e})=>Js(e)?e.toString():JSON.stringify(e)},{identify:e=>'number'==typeof e,default:!0,tag:'tag:yaml.org,2002:float',test:/^-?(?:0|[1-9][0-9]*)(?:\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,resolve:e=>parseFloat(e),stringify:er}],{default:!0,tag:'',test:/^/,resolve:(e,t)=>(t(`Unresolved plain scalar ${JSON.stringify(e)}`),e)}),ir={identify:e=>e instanceof Uint8Array,default:!1,tag:'tag:yaml.org,2002:binary',resolve(e,t){if('function'==typeof atob){const t=atob(e.replace(/[\n\r]/g,'')),i=new Uint8Array(t.length);for(let e=0;e<t.length;++e)i[e]=t.charCodeAt(e);return i}return t('This environment does not support reading binary tags; either Buffer or atob is required'),e},stringify({comment:e,type:t,value:i},n,s,r){if(!i)return'';const a=i;let o;if('function'!=typeof btoa)throw new Error('This environment does not support writing binary tags; either Buffer or btoa is required');{let e='';for(let t=0;t<a.length;++t)e+=String.fromCharCode(a[t]);o=btoa(e)}if(t||(t=Zn.BLOCK_LITERAL),t!==Zn.QUOTE_DOUBLE){const e=Math.max(n.options.lineWidth-n.indent.length,n.options.minContentWidth),i=Math.ceil(o.length/e),s=new Array(i);for(let t=0,n=0;t<i;++t,n+=e)s[t]=o.substr(n,e);o=s.join(t===Zn.BLOCK_LITERAL?'\n':' ')}return ys({comment:e,type:t,value:o},n,s,r)}};function nr(e,t){if(Rn(e))for(let i=0;i<e.items.length;++i){let n=e.items[i];if(!Ln(n)){if(Nn(n)){n.items.length>1&&t('Each pair must have its own sequence indicator');const e=n.items[0]||new Os(new Zn(null));if(n.commentBefore&&(e.key.commentBefore=e.key.commentBefore?`${n.commentBefore}\n${e.key.commentBefore}`:n.commentBefore),n.comment){const t=e.value??e.key;t.comment=t.comment?`${n.comment}\n${t.comment}`:n.comment}n=e}e.items[i]=Ln(n)?n:new Os(n)}}else t('Expected a sequence for this tag');return e}function sr(e,t,i){const{replacer:n}=i,s=new ks(e);s.tag='tag:yaml.org,2002:pairs';let r=0;if(t&&Symbol.iterator in Object(t))for(let e of t){let a,o;if('function'==typeof n&&(e=n.call(t,String(r++),e)),Array.isArray(e)){if(2!==e.length)throw new TypeError(`Expected [key, value] tuple: ${e}`);a=e[0],o=e[1]}else if(e&&e instanceof Object){const t=Object.keys(e);if(1!==t.length)throw new TypeError(`Expected tuple with one key, not ${t.length} keys`);a=t[0],o=e[a]}else a=e;s.items.push(Cs(a,o,i))}return s}const rr={collection:'seq',default:!1,tag:'tag:yaml.org,2002:pairs',resolve:nr,createNode:sr};class ar extends ks{constructor(){super(),this.add=Ds.prototype.add.bind(this),this.delete=Ds.prototype.delete.bind(this),this.get=Ds.prototype.get.bind(this),this.has=Ds.prototype.has.bind(this),this.set=Ds.prototype.set.bind(this),this.tag=ar.tag}toJSON(e,t){if(!t)return super.toJSON(e);const i=new Map;t?.onCreate&&t.onCreate(i);for(const e of this.items){let n,s;if(Ln(e)?(n=Yn(e.key,'',t),s=Yn(e.value,n,t)):n=Yn(e,'',t),i.has(n))throw new Error('Ordered maps must not include duplicate keys');i.set(n,s)}return i}static from(e,t,i){const n=sr(e,t,i),s=new this;return s.items=n.items,s}}ar.tag='tag:yaml.org,2002:omap';const or={collection:'seq',identify:e=>e instanceof Map,nodeClass:ar,default:!1,tag:'tag:yaml.org,2002:omap',resolve(e,t){const i=nr(e,t),n=[];for(const{key:e}of i.items)xn(e)&&(n.includes(e.value)?t(`Ordered maps must not include duplicate keys: ${e.value}`):n.push(e.value));return Object.assign(new ar,i)},createNode:(e,t,i)=>ar.from(e,t,i)};function lr({value:e,source:t},i){return t&&(e?cr:dr).test.test(t)?t:e?i.options.trueStr:i.options.falseStr}const cr={identify:e=>!0===e,default:!0,tag:'tag:yaml.org,2002:bool',test:/^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,resolve:()=>new Zn(!0),stringify:lr},dr={identify:e=>!1===e,default:!0,tag:'tag:yaml.org,2002:bool',test:/^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/,resolve:()=>new Zn(!1),stringify:lr},ur={identify:e=>'number'==typeof e,default:!0,tag:'tag:yaml.org,2002:float',test:/^(?:[-+]?\.(?:inf|Inf|INF)|\.nan|\.NaN|\.NAN)$/,resolve:e=>'nan'===e.slice(-3).toLowerCase()?NaN:'-'===e[0]?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:$s},pr={identify:e=>'number'==typeof e,default:!0,tag:'tag:yaml.org,2002:float',format:'EXP',test:/^[-+]?(?:[0-9][0-9_]*)?(?:\.[0-9_]*)?[eE][-+]?[0-9]+$/,resolve:e=>parseFloat(e.replace(/_/g,'')),stringify(e){const t=Number(e.value);return isFinite(t)?t.toExponential():$s(e)}},hr={identify:e=>'number'==typeof e,default:!0,tag:'tag:yaml.org,2002:float',test:/^[-+]?(?:[0-9][0-9_]*)?\.[0-9_]*$/,resolve(e){const t=new Zn(parseFloat(e.replace(/_/g,''))),i=e.indexOf('.');if(-1!==i){const n=e.substring(i+1).replace(/_/g,'');'0'===n[n.length-1]&&(t.minFractionDigits=n.length)}return t},stringify:$s},mr=e=>'bigint'==typeof e||Number.isInteger(e);function fr(e,t,i,{intAsBigInt:n}){const s=e[0];if('-'!==s&&'+'!==s||(t+=1),e=e.substring(t).replace(/_/g,''),n){switch(i){case 2:e=`0b${e}`;break;case 8:e=`0o${e}`;break;case 16:e=`0x${e}`}const t=BigInt(e);return'-'===s?BigInt(-1)*t:t}const r=parseInt(e,i);return'-'===s?-1*r:r}function gr(e,t,i){const{value:n}=e;if(mr(n)){const e=n.toString(t);return n<0?'-'+i+e.substr(1):i+e}return $s(e)}const _r={identify:mr,default:!0,tag:'tag:yaml.org,2002:int',format:'BIN',test:/^[-+]?0b[0-1_]+$/,resolve:(e,t,i)=>fr(e,2,2,i),stringify:e=>gr(e,2,'0b')},yr={identify:mr,default:!0,tag:'tag:yaml.org,2002:int',format:'OCT',test:/^[-+]?0[0-7_]+$/,resolve:(e,t,i)=>fr(e,1,8,i),stringify:e=>gr(e,8,'0')},vr={identify:mr,default:!0,tag:'tag:yaml.org,2002:int',test:/^[-+]?[0-9][0-9_]*$/,resolve:(e,t,i)=>fr(e,0,10,i),stringify:$s},wr={identify:mr,default:!0,tag:'tag:yaml.org,2002:int',format:'HEX',test:/^[-+]?0x[0-9a-fA-F_]+$/,resolve:(e,t,i)=>fr(e,2,16,i),stringify:e=>gr(e,16,'0x')};class br extends Ds{constructor(e){super(e),this.tag=br.tag}add(e){let t;t=Ln(e)?e:e&&'object'==typeof e&&'key'in e&&'value'in e&&null===e.value?new Os(e.key,null):new Os(e,null);Rs(this.items,t.key)||this.items.push(t)}get(e,t){const i=Rs(this.items,e);return!t&&Ln(i)?xn(i.key)?i.key.value:i.key:i}set(e,t){if('boolean'!=typeof t)throw new Error('Expected boolean value for set(key, value) in a YAML set, not '+typeof t);const i=Rs(this.items,e);i&&!t?this.items.splice(this.items.indexOf(i),1):!i&&t&&this.items.push(new Os(e))}toJSON(e,t){return super.toJSON(e,t,Set)}toString(e,t,i){if(!e)return JSON.stringify(this);if(this.hasAllNullValues(!0))return super.toString(Object.assign({},e,{allNullValues:!0}),t,i);throw new Error('Set items must all have null values')}static from(e,t,i){const{replacer:n}=i,s=new this(e);if(t&&Symbol.iterator in Object(t))for(let e of t)'function'==typeof n&&(e=n.call(t,e,e)),s.items.push(Cs(e,null,i));return s}}br.tag='tag:yaml.org,2002:set';const Er={collection:'map',identify:e=>e instanceof Set,nodeClass:br,default:!1,tag:'tag:yaml.org,2002:set',createNode:(e,t,i)=>br.from(e,t,i),resolve(e,t){if(Nn(e)){if(e.hasAllNullValues(!0))return Object.assign(new br,e);t('Set items must all have null values')}else t('Expected a mapping for this tag');return e}};function Sr(e,t){const i=e[0],n='-'===i||'+'===i?e.substring(1):e,s=e=>t?BigInt(e):Number(e),r=n.replace(/_/g,'').split(':').reduce(((e,t)=>e*s(60)+s(t)),s(0));return'-'===i?s(-1)*r:r}function Tr(e){let{value:t}=e,i=e=>e;if('bigint'==typeof t)i=e=>BigInt(e);else if(isNaN(t)||!isFinite(t))return $s(e);let n='';t<0&&(n='-',t*=i(-1));const s=i(60),r=[t%s];return t<60?r.unshift(0):(t=(t-r[0])/s,r.unshift(t%s),t>=60&&(t=(t-r[0])/s,r.unshift(t))),n+r.map((e=>String(e).padStart(2,'0'))).join(':').replace(/000000\d*$/,'')}const Ir={identify:e=>'bigint'==typeof e||Number.isInteger(e),default:!0,tag:'tag:yaml.org,2002:int',format:'TIME',test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+$/,resolve:(e,t,{intAsBigInt:i})=>Sr(e,i),stringify:Tr},Ar={identify:e=>'number'==typeof e,default:!0,tag:'tag:yaml.org,2002:float',format:'TIME',test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*$/,resolve:e=>Sr(e,!1),stringify:Tr},Cr={identify:e=>e instanceof Date,default:!0,tag:'tag:yaml.org,2002:timestamp',test:RegExp('^([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})(?:(?:t|T|[ \\t]+)([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\.[0-9]+)?)(?:[ \\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?)?$'),resolve(e){const t=e.match(Cr.test);if(!t)throw new Error('!!timestamp expects a date, starting with yyyy-mm-dd');const[,i,n,s,r,a,o]=t.map(Number),l=t[7]?Number((t[7]+'00').substr(1,3)):0;let c=Date.UTC(i,n-1,s,r||0,a||0,o||0,l);const d=t[8];if(d&&'Z'!==d){let e=Sr(d,!1);Math.abs(e)<30&&(e*=60),c-=6e4*e}return new Date(c)},stringify:({value:e})=>e?.toISOString().replace(/(T00:00:00)?\.000Z$/,'')??''},Or=[Ms,Us,Gs,Ws,cr,dr,_r,yr,vr,wr,ur,pr,hr,ir,Ss,or,rr,Er,Ir,Ar,Cr],Pr=new Map([['core',Zs],['failsafe',[Ms,Us,Gs]],['json',tr],['yaml11',Or],['yaml-1.1',Or]]),Nr={binary:ir,bool:js,float:zs,floatExp:Fs,floatNaN:Hs,floatTime:Ar,int:qs,intHex:Xs,intOct:Ks,intTime:Ir,map:Ms,merge:Ss,null:Ws,omap:or,pairs:rr,seq:Us,set:Er,timestamp:Cr},Lr={'tag:yaml.org,2002:binary':ir,'tag:yaml.org,2002:merge':Ss,'tag:yaml.org,2002:omap':or,'tag:yaml.org,2002:pairs':rr,'tag:yaml.org,2002:set':Er,'tag:yaml.org,2002:timestamp':Cr};function xr(e,t,i){const n=Pr.get(t);if(n&&!e)return i&&!n.includes(Ss)?n.concat(Ss):n.slice();let s=n;if(!s){if(!Array.isArray(e)){const e=Array.from(Pr.keys()).filter((e=>'yaml11'!==e)).map((e=>JSON.stringify(e))).join(', ');throw new Error(`Unknown schema "${t}"; use one of ${e} or define customTags array`)}s=[]}if(Array.isArray(e))for(const t of e)s=s.concat(t);else'function'==typeof e&&(s=e(s.slice()));return i&&(s=s.concat(Ss)),s.reduce(((e,t)=>{const i='string'==typeof t?Nr[t]:t;if(!i){const e=JSON.stringify(t),i=Object.keys(Nr).map((e=>JSON.stringify(e))).join(', ');throw new Error(`Unknown custom tag ${e}; use one of ${i}`)}return e.includes(i)||e.push(i),e}),[])}const Rr=(e,t)=>e.key<t.key?-1:e.key>t.key?1:0;class Dr{constructor({compat:e,customTags:t,merge:i,resolveKnownTags:n,schema:s,sortMapEntries:r,toStringDefaults:a}){this.compat=Array.isArray(e)?xr(e,'compat'):e?xr(null,e):null,this.name='string'==typeof s&&s||'core',this.knownTags=n?Lr:{},this.tags=xr(t,this.name,i),this.toStringOptions=a??null,Object.defineProperty(this,Sn,{value:Ms}),Object.defineProperty(this,In,{value:Gs}),Object.defineProperty(this,An,{value:Us}),this.sortMapEntries='function'==typeof r?r:!0===r?Rr:null}clone(){const e=Object.create(Dr.prototype,Object.getOwnPropertyDescriptors(this));return e.tags=this.tags.slice(),e}}class Mr{constructor(e,t,i){this.commentBefore=null,this.comment=null,this.errors=[],this.warnings=[],Object.defineProperty(this,Cn,{value:En});let n=null;'function'==typeof t||Array.isArray(t)?n=t:void 0===i&&t&&(i=t,t=void 0);const s=Object.assign({intAsBigInt:!1,keepSourceTokens:!1,logLevel:'warn',prettyErrors:!0,strict:!0,stringKeys:!1,uniqueKeys:!0,version:'1.2'},i);this.options=s;let{version:r}=s;i?._directives?(this.directives=i._directives.atDocument(),this.directives.yaml.explicit&&(r=this.directives.yaml.version)):this.directives=new $n({version:r}),this.setSchema(r,i),this.contents=void 0===e?null:this.createNode(e,n,i)}clone(){const e=Object.create(Mr.prototype,{[Cn]:{value:En}});return e.commentBefore=this.commentBefore,e.comment=this.comment,e.errors=this.errors.slice(),e.warnings=this.warnings.slice(),e.options=Object.assign({},this.options),this.directives&&(e.directives=this.directives.clone()),e.schema=this.schema.clone(),e.contents=Mn(this.contents)?this.contents.clone(e.schema):this.contents,this.range&&(e.range=this.range.slice()),e}add(e){kr(this.contents)&&this.contents.add(e)}addIn(e,t){kr(this.contents)&&this.contents.addIn(e,t)}createAlias(e,t){if(!e.anchor){const i=Fn(this);e.anchor=!t||i.has(t)?zn(t||'a',i):t}return new Kn(e.anchor)}createNode(e,t,i){let n;if('function'==typeof t)e=t.call({'':e},'',e),n=t;else if(Array.isArray(t)){const e=e=>'number'==typeof e||e instanceof String||e instanceof Number,i=t.filter(e).map(String);i.length>0&&(t=t.concat(i)),n=t}else void 0===i&&t&&(i=t,t=void 0);const{aliasDuplicateObjects:s,anchorPrefix:r,flow:a,keepUndefined:o,onTagObj:l,tag:c}=i??{},{onAnchor:d,setAnchors:u,sourceObjects:p}=function(e,t){const i=[],n=new Map;let s=null;return{onAnchor:n=>{i.push(n),s||(s=Fn(e));const r=zn(t,s);return s.add(r),r},setAnchors:()=>{for(const e of i){const t=n.get(e);if('object'!=typeof t||!t.anchor||!xn(t.node)&&!Dn(t.node)){const t=new Error('Failed to resolve repeated object (this should not happen)');throw t.source=e,t}t.node.anchor=t.anchor}},sourceObjects:n}}(this,r||'a'),h=Jn(e,c,{aliasDuplicateObjects:s??!0,keepUndefined:o??!1,onAnchor:d,onTagObj:l,replacer:n,schema:this.schema,sourceObjects:p});return a&&Dn(h)&&(h.flow=!0),u(),h}createPair(e,t,i={}){const n=this.createNode(e,null,i),s=this.createNode(t,null,i);return new Os(n,s)}delete(e){return!!kr(this.contents)&&this.contents.delete(e)}deleteIn(e){return ts(e)?null!=this.contents&&(this.contents=null,!0):!!kr(this.contents)&&this.contents.deleteIn(e)}get(e,t){return Dn(this.contents)?this.contents.get(e,t):void 0}getIn(e,t){return ts(e)?!t&&xn(this.contents)?this.contents.value:this.contents:Dn(this.contents)?this.contents.getIn(e,t):void 0}has(e){return!!Dn(this.contents)&&this.contents.has(e)}hasIn(e){return ts(e)?void 0!==this.contents:!!Dn(this.contents)&&this.contents.hasIn(e)}set(e,t){null==this.contents?this.contents=es(this.schema,[e],t):kr(this.contents)&&this.contents.set(e,t)}setIn(e,t){ts(e)?this.contents=t:null==this.contents?this.contents=es(this.schema,Array.from(e),t):kr(this.contents)&&this.contents.setIn(e,t)}setSchema(e,t={}){let i;switch('number'==typeof e&&(e=String(e)),e){case'1.1':this.directives?this.directives.yaml.version='1.1':this.directives=new $n({version:'1.1'}),i={resolveKnownTags:!1,schema:'yaml-1.1'};break;case'1.2':case'next':this.directives?this.directives.yaml.version=e:this.directives=new $n({version:e}),i={resolveKnownTags:!0,schema:'core'};break;case null:this.directives&&delete this.directives,i=null;break;default:{const t=JSON.stringify(e);throw new Error(`Expected '1.1', '1.2' or null as first argument, but found: ${t}`)}}if(t.schema instanceof Object)this.schema=t.schema;else{if(!i)throw new Error('With a null YAML version, the { schema: Schema } option is required');this.schema=new Dr(Object.assign(i,t))}}toJS({json:e,jsonArg:t,mapAsMap:i,maxAliasCount:n,onAnchor:s,reviver:r}={}){const a={anchors:new Map,doc:this,keep:!e,mapAsMap:!0===i,mapKeyWarned:!1,maxAliasCount:'number'==typeof n?n:100},o=Yn(this.contents,t??'',a);if('function'==typeof s)for(const{count:e,res:t}of a.anchors.values())s(t,e);return'function'==typeof r?Vn(r,{'':o},'',o):o}toJSON(e,t){return this.toJS({json:!0,jsonArg:e,mapAsMap:!1,onAnchor:t})}toString(e={}){if(this.errors.length>0)throw new Error('Document with errors cannot be stringified');if('indent'in e&&(!Number.isInteger(e.indent)||Number(e.indent)<=0)){const t=JSON.stringify(e.indent);throw new Error(`"indent" option must be a positive integer, not ${t}`)}return function(e,t){const i=[];let n=!0===t.directives;if(!1!==t.directives&&e.directives){const t=e.directives.toString(e);t?(i.push(t),n=!0):e.directives.docStart&&(n=!0)}n&&i.push('---');const s=vs(e,t),{commentString:r}=s.options;if(e.commentBefore){1!==i.length&&i.unshift('');const t=r(e.commentBefore);i.unshift(ss(t,''))}let a=!1,o=null;if(e.contents){if(Mn(e.contents)){if(e.contents.spaceBefore&&n&&i.push(''),e.contents.commentBefore){const t=r(e.contents.commentBefore);i.push(ss(t,''))}s.forceBlockIndent=!!e.comment,o=e.contents.comment}const t=o?void 0:()=>a=!0;let l=ws(e.contents,s,(()=>o=null),t);o&&(l+=rs(l,'',r(o))),'|'!==l[0]&&'>'!==l[0]||'---'!==i[i.length-1]?i.push(l):i[i.length-1]=`--- ${l}`}else i.push(ws(e.contents,s));if(e.directives?.docEnd)if(e.comment){const t=r(e.comment);t.includes('\n')?(i.push('...'),i.push(ss(t,''))):i.push(`... ${t}`)}else i.push('...');else{let t=e.comment;t&&a&&(t=t.replace(/^\n+/,'')),t&&(a&&!o||''===i[i.length-1]||i.push(''),i.push(ss(r(t),'')))}return i.join('\n')+'\n'}(this,e)}}function kr(e){if(Dn(e))return!0;throw new Error('Expected a YAML collection as document contents')}class Br extends Error{constructor(e,t,i,n){super(),this.name=e,this.code=i,this.message=n,this.pos=t}}class Ur extends Br{constructor(e,t,i){super('YAMLParseError',e,t,i)}}class Gr extends Br{constructor(e,t,i){super('YAMLWarning',e,t,i)}}const Wr=(e,t)=>i=>{if(-1===i.pos[0])return;i.linePos=i.pos.map((e=>t.linePos(e)));const{line:n,col:s}=i.linePos[0];i.message+=` at line ${n}, column ${s}`;let r=s-1,a=e.substring(t.lineStarts[n-1],t.lineStarts[n]).replace(/[\n\r]+$/,'');if(r>=60&&a.length>80){const e=Math.min(r-39,a.length-79);a='…'+a.substring(e),r-=e-1}if(a.length>80&&(a=a.substring(0,79)+'…'),n>1&&/^ *$/.test(a.substring(0,r))){let i=e.substring(t.lineStarts[n-2],t.lineStarts[n-1]);i.length>80&&(i=i.substring(0,79)+'…\n'),a=i+a}if(/[^ ]/.test(a)){let e=1;const t=i.linePos[1];t&&t.line===n&&t.col>s&&(e=Math.max(1,Math.min(t.col-s,80-r)));const o=' '.repeat(r)+'^'.repeat(e);i.message+=`:\n\n${a}\n${o}\n`}};function jr(e,{flow:t,indicator:i,next:n,offset:s,onError:r,parentIndent:a,startOnNewline:o}){let l=!1,c=o,d=o,u='',p='',h=!1,m=!1,f=null,g=null,_=null,y=null,v=null,w=null,b=null;for(const s of e)switch(m&&('space'!==s.type&&'newline'!==s.type&&'comma'!==s.type&&r(s.offset,'MISSING_CHAR','Tags and anchors must be separated from the next token by white space'),m=!1),f&&(c&&'comment'!==s.type&&'newline'!==s.type&&r(f,'TAB_AS_INDENT','Tabs are not allowed as indentation'),f=null),s.type){case'space':t||'doc-start'===i&&'flow-collection'===n?.type||!s.source.includes('\t')||(f=s),d=!0;break;case'comment':{d||r(s,'MISSING_CHAR','Comments must be separated from other tokens by white space characters');const e=s.source.substring(1)||' ';u?u+=p+e:u=e,p='',c=!1;break}case'newline':c?u?u+=s.source:w&&'seq-item-ind'===i||(l=!0):p+=s.source,c=!0,h=!0,(g||_)&&(y=s),d=!0;break;case'anchor':g&&r(s,'MULTIPLE_ANCHORS','A node can have at most one anchor'),s.source.endsWith(':')&&r(s.offset+s.source.length-1,'BAD_ALIAS','Anchor ending in : is ambiguous',!0),g=s,null===b&&(b=s.offset),c=!1,d=!1,m=!0;break;case'tag':_&&r(s,'MULTIPLE_TAGS','A node can have at most one tag'),_=s,null===b&&(b=s.offset),c=!1,d=!1,m=!0;break;case i:(g||_)&&r(s,'BAD_PROP_ORDER',`Anchors and tags must be after the ${s.source} indicator`),w&&r(s,'UNEXPECTED_TOKEN',`Unexpected ${s.source} in ${t??'collection'}`),w=s,c='seq-item-ind'===i||'explicit-key-ind'===i,d=!1;break;case'comma':if(t){v&&r(s,'UNEXPECTED_TOKEN',`Unexpected , in ${t}`),v=s,c=!1,d=!1;break}default:r(s,'UNEXPECTED_TOKEN',`Unexpected ${s.type} token`),c=!1,d=!1}const E=e[e.length-1],S=E?E.offset+E.source.length:s;return m&&n&&'space'!==n.type&&'newline'!==n.type&&'comma'!==n.type&&('scalar'!==n.type||''!==n.source)&&r(n.offset,'MISSING_CHAR','Tags and anchors must be separated from the next token by white space'),f&&(c&&f.indent<=a||'block-map'===n?.type||'block-seq'===n?.type)&&r(f,'TAB_AS_INDENT','Tabs are not allowed as indentation'),{comma:v,found:w,spaceBefore:l,comment:u,hasNewline:h,anchor:g,tag:_,newlineAfterProp:y,end:S,start:b??S}}function $r(e){if(!e)return null;switch(e.type){case'alias':case'scalar':case'double-quoted-scalar':case'single-quoted-scalar':if(e.source.includes('\n'))return!0;if(e.end)for(const t of e.end)if('newline'===t.type)return!0;return!1;case'flow-collection':for(const t of e.items){for(const e of t.start)if('newline'===e.type)return!0;if(t.sep)for(const e of t.sep)if('newline'===e.type)return!0;if($r(t.key)||$r(t.value))return!0}return!1;default:return!0}}function Hr(e,t,i){if('flow-collection'===t?.type){const n=t.end[0];if(n.indent===e&&(']'===n.source||'}'===n.source)&&$r(t)){i(n,'BAD_INDENT','Flow end indicator should be more indented than parent',!0)}}}function Fr(e,t,i){const{uniqueKeys:n}=e.options;if(!1===n)return!1;const s='function'==typeof n?n:(e,t)=>e===t||xn(e)&&xn(t)&&e.value===t.value;return t.some((e=>s(e.key,i)))}const zr='All mapping items must start at the same column';function Vr(e,t,i,n){let s='';if(e){let r=!1,a='';for(const o of e){const{source:e,type:l}=o;switch(l){case'space':r=!0;break;case'comment':{i&&!r&&n(o,'MISSING_CHAR','Comments must be separated from other tokens by white space characters');const t=e.substring(1)||' ';s?s+=a+t:s=t,a='';break}case'newline':s&&(a+=e),r=!0;break;default:n(o,'UNEXPECTED_TOKEN',`Unexpected ${l} at node end`)}t+=e.length}}return{comment:s,offset:t}}const Yr='Block collections are not allowed within flow collections',Qr=e=>e&&('block-map'===e.type||'block-seq'===e.type);function Kr(e,t,i,n,s,r){const a='block-map'===i.type?function({composeNode:e,composeEmptyNode:t},i,n,s,r){const a=new(r?.nodeClass??Ds)(i.schema);i.atRoot&&(i.atRoot=!1);let o=n.offset,l=null;for(const r of n.items){const{start:c,key:d,sep:u,value:p}=r,h=jr(c,{indicator:'explicit-key-ind',next:d??u?.[0],offset:o,onError:s,parentIndent:n.indent,startOnNewline:!0}),m=!h.found;if(m){if(d&&('block-seq'===d.type?s(o,'BLOCK_AS_IMPLICIT_KEY','A block sequence may not be used as an implicit map key'):'indent'in d&&d.indent!==n.indent&&s(o,'BAD_INDENT',zr)),!h.anchor&&!h.tag&&!u){l=h.end,h.comment&&(a.comment?a.comment+='\n'+h.comment:a.comment=h.comment);continue}(h.newlineAfterProp||$r(d))&&s(d??c[c.length-1],'MULTILINE_IMPLICIT_KEY','Implicit keys need to be on a single line')}else h.found?.indent!==n.indent&&s(o,'BAD_INDENT',zr);i.atKey=!0;const f=h.end,g=d?e(i,d,h,s):t(i,f,c,null,h,s);i.schema.compat&&Hr(n.indent,d,s),i.atKey=!1,Fr(i,a.items,g)&&s(f,'DUPLICATE_KEY','Map keys must be unique');const _=jr(u??[],{indicator:'map-value-ind',next:p,offset:g.range[2],onError:s,parentIndent:n.indent,startOnNewline:!d||'block-scalar'===d.type});if(o=_.end,_.found){m&&('block-map'!==p?.type||_.hasNewline||s(o,'BLOCK_AS_IMPLICIT_KEY','Nested mappings are not allowed in compact mappings'),i.options.strict&&h.start<_.found.offset-1024&&s(g.range,'KEY_OVER_1024_CHARS','The : indicator must be at most 1024 chars after the start of an implicit block mapping key'));const l=p?e(i,p,_,s):t(i,o,u,null,_,s);i.schema.compat&&Hr(n.indent,p,s),o=l.range[2];const c=new Os(g,l);i.options.keepSourceTokens&&(c.srcToken=r),a.items.push(c)}else{m&&s(g.range,'MISSING_CHAR','Implicit map keys need to be followed by map values'),_.comment&&(g.comment?g.comment+='\n'+_.comment:g.comment=_.comment);const e=new Os(g);i.options.keepSourceTokens&&(e.srcToken=r),a.items.push(e)}}return l&&l<o&&s(l,'IMPOSSIBLE','Map comment with trailing content'),a.range=[n.offset,o,l??o],a}(e,t,i,n,r):'block-seq'===i.type?function({composeNode:e,composeEmptyNode:t},i,n,s,r){const a=new(r?.nodeClass??ks)(i.schema);i.atRoot&&(i.atRoot=!1),i.atKey&&(i.atKey=!1);let o=n.offset,l=null;for(const{start:r,value:c}of n.items){const d=jr(r,{indicator:'seq-item-ind',next:c,offset:o,onError:s,parentIndent:n.indent,startOnNewline:!0});if(!d.found){if(!(d.anchor||d.tag||c)){l=d.end,d.comment&&(a.comment=d.comment);continue}c&&'block-seq'===c.type?s(d.end,'BAD_INDENT','All sequence items must start at the same column'):s(o,'MISSING_CHAR','Sequence item without - indicator')}const u=c?e(i,c,d,s):t(i,d.end,r,null,d,s);i.schema.compat&&Hr(n.indent,c,s),o=u.range[2],a.items.push(u)}return a.range=[n.offset,o,l??o],a}(e,t,i,n,r):function({composeNode:e,composeEmptyNode:t},i,n,s,r){const a='{'===n.start.source,o=a?'flow map':'flow sequence',l=new(r?.nodeClass??(a?Ds:ks))(i.schema);l.flow=!0;const c=i.atRoot;c&&(i.atRoot=!1),i.atKey&&(i.atKey=!1);let d=n.offset+n.start.source.length;for(let r=0;r<n.items.length;++r){const c=n.items[r],{start:u,key:p,sep:h,value:m}=c,f=jr(u,{flow:o,indicator:'explicit-key-ind',next:p??h?.[0],offset:d,onError:s,parentIndent:n.indent,startOnNewline:!1});if(!f.found){if(!(f.anchor||f.tag||h||m)){0===r&&f.comma?s(f.comma,'UNEXPECTED_TOKEN',`Unexpected , in ${o}`):r<n.items.length-1&&s(f.start,'UNEXPECTED_TOKEN',`Unexpected empty item in ${o}`),f.comment&&(l.comment?l.comment+='\n'+f.comment:l.comment=f.comment),d=f.end;continue}!a&&i.options.strict&&$r(p)&&s(p,'MULTILINE_IMPLICIT_KEY','Implicit keys of flow sequence pairs need to be on a single line')}if(0===r)f.comma&&s(f.comma,'UNEXPECTED_TOKEN',`Unexpected , in ${o}`);else if(f.comma||s(f.start,'MISSING_CHAR',`Missing , between ${o} items`),f.comment){let e='';e:for(const t of u)switch(t.type){case'comma':case'space':break;case'comment':e=t.source.substring(1);break e;default:break e}if(e){let t=l.items[l.items.length-1];Ln(t)&&(t=t.value??t.key),t.comment?t.comment+='\n'+e:t.comment=e,f.comment=f.comment.substring(e.length+1)}}if(a||h||f.found){i.atKey=!0;const r=f.end,g=p?e(i,p,f,s):t(i,r,u,null,f,s);Qr(p)&&s(g.range,'BLOCK_IN_FLOW',Yr),i.atKey=!1;const _=jr(h??[],{flow:o,indicator:'map-value-ind',next:m,offset:g.range[2],onError:s,parentIndent:n.indent,startOnNewline:!1});if(_.found){if(!a&&!f.found&&i.options.strict){if(h)for(const e of h){if(e===_.found)break;if('newline'===e.type){s(e,'MULTILINE_IMPLICIT_KEY','Implicit keys of flow sequence pairs need to be on a single line');break}}f.start<_.found.offset-1024&&s(_.found,'KEY_OVER_1024_CHARS','The : indicator must be at most 1024 chars after the start of an implicit flow sequence key')}}else m&&('source'in m&&m.source&&':'===m.source[0]?s(m,'MISSING_CHAR',`Missing space after : in ${o}`):s(_.start,'MISSING_CHAR',`Missing , or : between ${o} items`));const y=m?e(i,m,_,s):_.found?t(i,_.end,h,null,_,s):null;y?Qr(m)&&s(y.range,'BLOCK_IN_FLOW',Yr):_.comment&&(g.comment?g.comment+='\n'+_.comment:g.comment=_.comment);const v=new Os(g,y);if(i.options.keepSourceTokens&&(v.srcToken=c),a){const e=l;Fr(i,e.items,g)&&s(r,'DUPLICATE_KEY','Map keys must be unique'),e.items.push(v)}else{const e=new Ds(i.schema);e.flow=!0,e.items.push(v);const t=(y??g).range;e.range=[g.range[0],t[1],t[2]],l.items.push(e)}d=y?y.range[2]:_.end}else{const n=m?e(i,m,f,s):t(i,f.end,h,null,f,s);l.items.push(n),d=n.range[2],Qr(m)&&s(n.range,'BLOCK_IN_FLOW',Yr)}}const u=a?'}':']',[p,...h]=n.end;let m=d;if(p&&p.source===u)m=p.offset+p.source.length;else{const e=o[0].toUpperCase()+o.substring(1);s(d,c?'MISSING_CHAR':'BAD_INDENT',c?`${e} must end with a ${u}`:`${e} in block collection must be sufficiently indented and end with a ${u}`),p&&1!==p.source.length&&h.unshift(p)}if(h.length>0){const e=Vr(h,m,i.options.strict,s);e.comment&&(l.comment?l.comment+='\n'+e.comment:l.comment=e.comment),l.range=[n.offset,m,e.offset]}else l.range=[n.offset,m,m];return l}(e,t,i,n,r),o=a.constructor;return'!'===s||s===o.tagName?(a.tag=o.tagName,a):(s&&(a.tag=s),a)}function qr(e,t,i){const n=t.offset,s=function({offset:e,props:t},i,n){if('block-scalar-header'!==t[0].type)return n(t[0],'IMPOSSIBLE','Block scalar header not found'),null;const{source:s}=t[0],r=s[0];let a=0,o='',l=-1;for(let t=1;t<s.length;++t){const i=s[t];if(o||'-'!==i&&'+'!==i){const n=Number(i);!a&&n?a=n:-1===l&&(l=e+t)}else o=i}-1!==l&&n(l,'UNEXPECTED_TOKEN',`Block scalar header includes extra characters: ${s}`);let c=!1,d='',u=s.length;for(let e=1;e<t.length;++e){const s=t[e];switch(s.type){case'space':c=!0;case'newline':u+=s.source.length;break;case'comment':if(i&&!c){n(s,'MISSING_CHAR','Comments must be separated from other tokens by white space characters')}u+=s.source.length,d=s.source.substring(1);break;case'error':n(s,'UNEXPECTED_TOKEN',s.message),u+=s.source.length;break;default:{n(s,'UNEXPECTED_TOKEN',`Unexpected token in block scalar header: ${s.type}`);const e=s.source;e&&'string'==typeof e&&(u+=e.length)}}}return{mode:r,indent:a,chomp:o,comment:d,length:u}}(t,e.options.strict,i);if(!s)return{value:'',type:null,comment:'',range:[n,n,n]};const r='>'===s.mode?Zn.BLOCK_FOLDED:Zn.BLOCK_LITERAL,a=t.source?function(e){const t=e.split(/\n( *)/),i=t[0],n=i.match(/^( *)/),s=n?.[1]?[n[1],i.slice(n[1].length)]:['',i],r=[s];for(let e=1;e<t.length;e+=2)r.push([t[e],t[e+1]]);return r}(t.source):[];let o=a.length;for(let e=a.length-1;e>=0;--e){const t=a[e][1];if(''!==t&&'\r'!==t)break;o=e}if(0===o){const e='+'===s.chomp&&a.length>0?'\n'.repeat(Math.max(1,a.length-1)):'';let i=n+s.length;return t.source&&(i+=t.source.length),{value:e,type:r,comment:s.comment,range:[n,i,i]}}let l=t.indent+s.indent,c=t.offset+s.length,d=0;for(let t=0;t<o;++t){const[n,r]=a[t];if(''!==r&&'\r'!==r){if(n.length<l){const e='Block scalars with more-indented leading empty lines must use an explicit indentation indicator';i(c+n.length,'MISSING_CHAR',e)}if(0===s.indent&&(l=n.length),d=t,0===l&&!e.atRoot){i(c,'BAD_INDENT','Block scalar values in collections must be indented')}break}0===s.indent&&n.length>l&&(l=n.length),c+=n.length+r.length+1}for(let e=a.length-1;e>=o;--e)a[e][0].length>l&&(o=e+1);let u='',p='',h=!1;for(let e=0;e<d;++e)u+=a[e][0].slice(l)+'\n';for(let e=d;e<o;++e){let[t,n]=a[e];c+=t.length+n.length+1;const o='\r'===n[n.length-1];if(o&&(n=n.slice(0,-1)),n&&t.length<l){const e=`Block scalar lines must not be less indented than their ${s.indent?'explicit indentation indicator':'first line'}`;i(c-n.length-(o?2:1),'BAD_INDENT',e),t=''}r===Zn.BLOCK_LITERAL?(u+=p+t.slice(l)+n,p='\n'):t.length>l||'\t'===n[0]?(' '===p?p='\n':h||'\n'!==p||(p='\n\n'),u+=p+t.slice(l)+n,p='\n',h=!0):''===n?'\n'===p?u+='\n':p='\n':(u+=p+n,p=' ',h=!1)}switch(s.chomp){case'-':break;case'+':for(let e=o;e<a.length;++e)u+='\n'+a[e][0].slice(l);'\n'!==u[u.length-1]&&(u+='\n');break;default:u+='\n'}const m=n+s.length+t.source.length;return{value:u,type:r,comment:s.comment,range:[n,m,m]}}function Xr(e,t,i){const{offset:n,type:s,source:r,end:a}=e;let o,l;const c=(e,t,s)=>i(n+e,t,s);switch(s){case'scalar':o=Zn.PLAIN,l=function(e,t){let i='';switch(e[0]){case'\t':i='a tab character';break;case',':i='flow indicator character ,';break;case'%':i='directive indicator character %';break;case'|':case'>':i=`block scalar indicator ${e[0]}`;break;case'@':case'`':i=`reserved character ${e[0]}`}i&&t(0,'BAD_SCALAR_START',`Plain value cannot start with ${i}`);return Zr(e)}(r,c);break;case'single-quoted-scalar':o=Zn.QUOTE_SINGLE,l=function(e,t){'\''===e[e.length-1]&&1!==e.length||t(e.length,'MISSING_CHAR','Missing closing \'quote');return Zr(e.slice(1,-1)).replace(/''/g,'\'')}(r,c);break;case'double-quoted-scalar':o=Zn.QUOTE_DOUBLE,l=function(e,t){let i='';for(let n=1;n<e.length-1;++n){const s=e[n];if('\r'!==s||'\n'!==e[n+1])if('\n'===s){const{fold:t,offset:s}=Jr(e,n);i+=t,n=s}else if('\\'===s){let s=e[++n];const r=ea[s];if(r)i+=r;else if('\n'===s)for(s=e[n+1];' '===s||'\t'===s;)s=e[1+ ++n];else if('\r'===s&&'\n'===e[n+1])for(s=e[1+ ++n];' '===s||'\t'===s;)s=e[1+ ++n];else if('x'===s||'u'===s||'U'===s){const r={x:2,u:4,U:8}[s];i+=ta(e,n+1,r,t),n+=r}else{const s=e.substr(n-1,2);t(n-1,'BAD_DQ_ESCAPE',`Invalid escape sequence ${s}`),i+=s}}else if(' '===s||'\t'===s){const t=n;let r=e[n+1];for(;' '===r||'\t'===r;)r=e[1+ ++n];'\n'===r||'\r'===r&&'\n'===e[n+2]||(i+=n>t?e.slice(t,n+1):s)}else i+=s}'"'===e[e.length-1]&&1!==e.length||t(e.length,'MISSING_CHAR','Missing closing "quote');return i}(r,c);break;default:return i(e,'UNEXPECTED_TOKEN',`Expected a flow scalar value, but found: ${s}`),{value:'',type:null,comment:'',range:[n,n+r.length,n+r.length]}}const d=n+r.length,u=Vr(a,d,t,i);return{value:l,type:o,comment:u.comment,range:[n,d,u.offset]}}function Zr(e){let t,i;try{t=new RegExp('(.*?)(?<![ \t])[ \t]*\r?\n','sy'),i=new RegExp('[ \t]*(.*?)(?:(?<![ \t])[ \t]*)?\r?\n','sy')}catch{t=/(.*?)[ \t]*\r?\n/sy,i=/[ \t]*(.*?)[ \t]*\r?\n/sy}let n=t.exec(e);if(!n)return e;let s=n[1],r=' ',a=t.lastIndex;for(i.lastIndex=a;n=i.exec(e);)''===n[1]?'\n'===r?s+=r:r='\n':(s+=r+n[1],r=' '),a=i.lastIndex;const o=/[ \t]*(.*)/sy;return o.lastIndex=a,n=o.exec(e),s+r+(n?.[1]??'')}function Jr(e,t){let i='',n=e[t+1];for(;!(' '!==n&&'\t'!==n&&'\n'!==n&&'\r'!==n||'\r'===n&&'\n'!==e[t+2]);)'\n'===n&&(i+='\n'),n=e[(t+=1)+1];return i||(i=' '),{fold:i,offset:t}}const ea={0:'\0',a:'',b:'\b',e:'',f:'\f',n:'\n',r:'\r',t:'\t',v:'\v',N:'',_:' ',L:'\u2028',P:'\u2029',' ':' ','"':'"','/':'/','\\':'\\','\t':'\t'};function ta(e,t,i,n){const s=e.substr(t,i),r=s.length===i&&/^[0-9a-fA-F]+$/.test(s)?parseInt(s,16):NaN;if(isNaN(r)){const s=e.substr(t-2,i+2);return n(t-2,'BAD_DQ_ESCAPE',`Invalid escape sequence ${s}`),s}return String.fromCodePoint(r)}function ia(e,t,i,n){const{value:s,type:r,comment:a,range:o}='block-scalar'===t.type?qr(e,t,n):Xr(t,e.options.strict,n),l=i?e.directives.tagName(i.source,(e=>n(i,'TAG_RESOLVE_FAILED',e))):null;let c,d;c=e.options.stringKeys&&e.atKey?e.schema[In]:l?function(e,t,i,n,s){if('!'===i)return e[In];const r=[];for(const t of e.tags)if(!t.collection&&t.tag===i){if(!t.default||!t.test)return t;r.push(t)}for(const e of r)if(e.test?.test(t))return e;const a=e.knownTags[i];if(a&&!a.collection)return e.tags.push(Object.assign({},a,{default:!1,test:void 0})),a;return s(n,'TAG_RESOLVE_FAILED',`Unresolved tag: ${i}`,'tag:yaml.org,2002:str'!==i),e[In]}(e.schema,s,l,i,n):'scalar'===t.type?function({atKey:e,directives:t,schema:i},n,s,r){const a=i.tags.find((t=>(!0===t.default||e&&'key'===t.default)&&t.test?.test(n)))||i[In];if(i.compat){const e=i.compat.find((e=>e.default&&e.test?.test(n)))??i[In];if(a.tag!==e.tag){r(s,'TAG_RESOLVE_FAILED',`Value may be parsed as either ${t.tagString(a.tag)} or ${t.tagString(e.tag)}`,!0)}}return a}(e,s,t,n):e.schema[In];try{const r=c.resolve(s,(e=>n(i??t,'TAG_RESOLVE_FAILED',e)),e.options);d=xn(r)?r:new Zn(r)}catch(e){const r=e instanceof Error?e.message:String(e);n(i??t,'TAG_RESOLVE_FAILED',r),d=new Zn(s)}return d.range=o,d.source=s,r&&(d.type=r),l&&(d.tag=l),c.format&&(d.format=c.format),a&&(d.comment=a),d}function na(e,t,i){if(t){null===i&&(i=t.length);for(let n=i-1;n>=0;--n){let i=t[n];switch(i.type){case'space':case'comment':case'newline':e-=i.source.length;continue}for(i=t[++n];'space'===i?.type;)e+=i.source.length,i=t[++n];break}}return e}const sa={composeNode:ra,composeEmptyNode:aa};function ra(e,t,i,n){const s=e.atKey,{spaceBefore:r,comment:a,anchor:o,tag:l}=i;let c,d=!0;switch(t.type){case'alias':c=function({options:e},{offset:t,source:i,end:n},s){const r=new Kn(i.substring(1));''===r.source&&s(t,'BAD_ALIAS','Alias cannot be an empty string');r.source.endsWith(':')&&s(t+i.length-1,'BAD_ALIAS','Alias ending in : is ambiguous',!0);const a=t+i.length,o=Vr(n,a,e.strict,s);r.range=[t,a,o.offset],o.comment&&(r.comment=o.comment);return r}(e,t,n),(o||l)&&n(t,'ALIAS_PROPS','An alias node must not specify any properties');break;case'scalar':case'single-quoted-scalar':case'double-quoted-scalar':case'block-scalar':c=ia(e,t,l,n),o&&(c.anchor=o.source.substring(1));break;case'block-map':case'block-seq':case'flow-collection':c=function(e,t,i,n,s){const r=n.tag,a=r?t.directives.tagName(r.source,(e=>s(r,'TAG_RESOLVE_FAILED',e))):null;if('block-seq'===i.type){const{anchor:e,newlineAfterProp:t}=n,i=e&&r?e.offset>r.offset?e:r:e??r;i&&(!t||t.offset<i.offset)&&s(i,'MISSING_CHAR','Missing newline after block sequence props')}const o='block-map'===i.type?'map':'block-seq'===i.type?'seq':'{'===i.start.source?'map':'seq';if(!r||!a||'!'===a||a===Ds.tagName&&'map'===o||a===ks.tagName&&'seq'===o)return Kr(e,t,i,s,a);let l=t.schema.tags.find((e=>e.tag===a&&e.collection===o));if(!l){const n=t.schema.knownTags[a];if(!n||n.collection!==o)return n?s(r,'BAD_COLLECTION_TYPE',`${n.tag} used for ${o} collection, but expects ${n.collection??'scalar'}`,!0):s(r,'TAG_RESOLVE_FAILED',`Unresolved tag: ${a}`,!0),Kr(e,t,i,s,a);t.schema.tags.push(Object.assign({},n,{default:!1})),l=n}const c=Kr(e,t,i,s,a,l),d=l.resolve?.(c,(e=>s(r,'TAG_RESOLVE_FAILED',e)),t.options)??c,u=Mn(d)?d:new Zn(d);return u.range=c.range,u.tag=a,l?.format&&(u.format=l.format),u}(sa,e,t,i,n),o&&(c.anchor=o.source.substring(1));break;default:n(t,'UNEXPECTED_TOKEN','error'===t.type?t.message:`Unsupported token (type: ${t.type})`),c=aa(e,t.offset,void 0,null,i,n),d=!1}if(o&&''===c.anchor&&n(o,'BAD_ALIAS','Anchor cannot be an empty string'),s&&e.options.stringKeys&&(!xn(c)||'string'!=typeof c.value||c.tag&&'tag:yaml.org,2002:str'!==c.tag)){n(l??t,'NON_STRING_KEY','With stringKeys, all keys must be strings')}return r&&(c.spaceBefore=!0),a&&('scalar'===t.type&&''===t.source?c.comment=a:c.commentBefore=a),e.options.keepSourceTokens&&d&&(c.srcToken=t),c}function aa(e,t,i,n,{spaceBefore:s,comment:r,anchor:a,tag:o,end:l},c){const d=ia(e,{type:'scalar',offset:na(t,i,n),indent:-1,source:''},o,c);return a&&(d.anchor=a.source.substring(1),''===d.anchor&&c(a,'BAD_ALIAS','Anchor cannot be an empty string')),s&&(d.spaceBefore=!0),r&&(d.comment=r,d.range[2]=l),d}function oa(e){if('number'==typeof e)return[e,e+1];if(Array.isArray(e))return 2===e.length?e:[e[0],e[1]];const{offset:t,source:i}=e;return[t,t+('string'==typeof i?i.length:1)]}function la(e){let t='',i=!1,n=!1;for(let s=0;s<e.length;++s){const r=e[s];switch(r[0]){case'#':t+=(''===t?'':n?'\n\n':'\n')+(r.substring(1)||' '),i=!0,n=!1;break;case'%':'#'!==e[s+1]?.[0]&&(s+=1),i=!1;break;default:i||(n=!0),i=!1}}return{comment:t,afterEmptyLine:n}}class ca{constructor(e={}){this.doc=null,this.atDirectives=!1,this.prelude=[],this.errors=[],this.warnings=[],this.onError=(e,t,i,n)=>{const s=oa(e);n?this.warnings.push(new Gr(s,t,i)):this.errors.push(new Ur(s,t,i))},this.directives=new $n({version:e.version||'1.2'}),this.options=e}decorate(e,t){const{comment:i,afterEmptyLine:n}=la(this.prelude);if(i){const s=e.contents;if(t)e.comment=e.comment?`${e.comment}\n${i}`:i;else if(n||e.directives.docStart||!s)e.commentBefore=i;else if(Dn(s)&&!s.flow&&s.items.length>0){let e=s.items[0];Ln(e)&&(e=e.key);const t=e.commentBefore;e.commentBefore=t?`${i}\n${t}`:i}else{const e=s.commentBefore;s.commentBefore=e?`${i}\n${e}`:i}}t?(Array.prototype.push.apply(e.errors,this.errors),Array.prototype.push.apply(e.warnings,this.warnings)):(e.errors=this.errors,e.warnings=this.warnings),this.prelude=[],this.errors=[],this.warnings=[]}streamInfo(){return{comment:la(this.prelude).comment,directives:this.directives,errors:this.errors,warnings:this.warnings}}*compose(e,t=!1,i=-1){for(const t of e)yield*this.next(t);yield*this.end(t,i)}*next(e){switch(e.type){case'directive':this.directives.add(e.source,((t,i,n)=>{const s=oa(e);s[0]+=t,this.onError(s,'BAD_DIRECTIVE',i,n)})),this.prelude.push(e.source),this.atDirectives=!0;break;case'document':{const t=function(e,t,{offset:i,start:n,value:s,end:r},a){const o=Object.assign({_directives:t},e),l=new Mr(void 0,o),c={atKey:!1,atRoot:!0,directives:l.directives,options:l.options,schema:l.schema},d=jr(n,{indicator:'doc-start',next:s??r?.[0],offset:i,onError:a,parentIndent:0,startOnNewline:!0});d.found&&(l.directives.docStart=!0,!s||'block-map'!==s.type&&'block-seq'!==s.type||d.hasNewline||a(d.end,'MISSING_CHAR','Block collection cannot start on same line with directives-end marker')),l.contents=s?ra(c,s,d,a):aa(c,d.end,n,null,d,a);const u=l.contents.range[2],p=Vr(r,u,!1,a);return p.comment&&(l.comment=p.comment),l.range=[i,u,p.offset],l}(this.options,this.directives,e,this.onError);this.atDirectives&&!t.directives.docStart&&this.onError(e,'MISSING_CHAR','Missing directives-end/doc-start indicator line'),this.decorate(t,!1),this.doc&&(yield this.doc),this.doc=t,this.atDirectives=!1;break}case'byte-order-mark':case'space':break;case'comment':case'newline':this.prelude.push(e.source);break;case'error':{const t=e.source?`${e.message}: ${JSON.stringify(e.source)}`:e.message,i=new Ur(oa(e),'UNEXPECTED_TOKEN',t);this.atDirectives||!this.doc?this.errors.push(i):this.doc.errors.push(i);break}case'doc-end':{if(!this.doc){const t='Unexpected doc-end without preceding document';this.errors.push(new Ur(oa(e),'UNEXPECTED_TOKEN',t));break}this.doc.directives.docEnd=!0;const t=Vr(e.end,e.offset+e.source.length,this.doc.options.strict,this.onError);if(this.decorate(this.doc,!0),t.comment){const e=this.doc.comment;this.doc.comment=e?`${e}\n${t.comment}`:t.comment}this.doc.range[2]=t.offset;break}default:this.errors.push(new Ur(oa(e),'UNEXPECTED_TOKEN',`Unsupported token ${e.type}`))}}*end(e=!1,t=-1){if(this.doc)this.decorate(this.doc,!0),yield this.doc,this.doc=null;else if(e){const e=Object.assign({_directives:this.directives},this.options),i=new Mr(void 0,e);this.atDirectives&&this.onError(t,'MISSING_CHAR','Missing directives-end indicator line'),i.range=[0,t,t],this.decorate(i,!1),yield i}}}function da(e){switch(e){case void 0:case' ':case'\n':case'\r':case'\t':return!0;default:return!1}}const ua=new Set('0123456789ABCDEFabcdef'),pa=new Set('0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-#;/?:@&=+$_.!~*\'()'),ha=new Set(',[]{}'),ma=new Set(' ,[]{}\n\r\t'),fa=e=>!e||ma.has(e);class ga{constructor(){this.atEnd=!1,this.blockScalarIndent=-1,this.blockScalarKeep=!1,this.buffer='',this.flowKey=!1,this.flowLevel=0,this.indentNext=0,this.indentValue=0,this.lineEndPos=null,this.next=null,this.pos=0}*lex(e,t=!1){if(e){if('string'!=typeof e)throw TypeError('source is not a string');this.buffer=this.buffer?this.buffer+e:e,this.lineEndPos=null}this.atEnd=!t;let i=this.next??'stream';for(;i&&(t||this.hasChars(1));)i=yield*this.parseNext(i)}atLineEnd(){let e=this.pos,t=this.buffer[e];for(;' '===t||'\t'===t;)t=this.buffer[++e];return!t||'#'===t||'\n'===t||'\r'===t&&'\n'===this.buffer[e+1]}charAt(e){return this.buffer[this.pos+e]}continueScalar(e){let t=this.buffer[e];if(this.indentNext>0){let i=0;for(;' '===t;)t=this.buffer[++i+e];if('\r'===t){const t=this.buffer[i+e+1];if('\n'===t||!t&&!this.atEnd)return e+i+1}return'\n'===t||i>=this.indentNext||!t&&!this.atEnd?e+i:-1}if('-'===t||'.'===t){const t=this.buffer.substr(e,3);if(('---'===t||'...'===t)&&da(this.buffer[e+3]))return-1}return e}getLine(){let e=this.lineEndPos;return('number'!=typeof e||-1!==e&&e<this.pos)&&(e=this.buffer.indexOf('\n',this.pos),this.lineEndPos=e),-1===e?this.atEnd?this.buffer.substring(this.pos):null:('\r'===this.buffer[e-1]&&(e-=1),this.buffer.substring(this.pos,e))}hasChars(e){return this.pos+e<=this.buffer.length}setNext(e){return this.buffer=this.buffer.substring(this.pos),this.pos=0,this.lineEndPos=null,this.next=e,null}peek(e){return this.buffer.substr(this.pos,e)}*parseNext(e){switch(e){case'stream':return yield*this.parseStream();case'line-start':return yield*this.parseLineStart();case'block-start':return yield*this.parseBlockStart();case'doc':return yield*this.parseDocument();case'flow':return yield*this.parseFlowCollection();case'quoted-scalar':return yield*this.parseQuotedScalar();case'block-scalar':return yield*this.parseBlockScalar();case'plain-scalar':return yield*this.parsePlainScalar()}}*parseStream(){let e=this.getLine();if(null===e)return this.setNext('stream');if('\ufeff'===e[0]&&(yield*this.pushCount(1),e=e.substring(1)),'%'===e[0]){let t=e.length,i=e.indexOf('#');for(;-1!==i;){const n=e[i-1];if(' '===n||'\t'===n){t=i-1;break}i=e.indexOf('#',i+1)}for(;;){const i=e[t-1];if(' '!==i&&'\t'!==i)break;t-=1}const n=(yield*this.pushCount(t))+(yield*this.pushSpaces(!0));return yield*this.pushCount(e.length-n),this.pushNewline(),'stream'}if(this.atLineEnd()){const t=yield*this.pushSpaces(!0);return yield*this.pushCount(e.length-t),yield*this.pushNewline(),'stream'}return yield'',yield*this.parseLineStart()}*parseLineStart(){const e=this.charAt(0);if(!e&&!this.atEnd)return this.setNext('line-start');if('-'===e||'.'===e){if(!this.atEnd&&!this.hasChars(4))return this.setNext('line-start');const e=this.peek(3);if(('---'===e||'...'===e)&&da(this.charAt(3)))return yield*this.pushCount(3),this.indentValue=0,this.indentNext=0,'---'===e?'doc':'stream'}return this.indentValue=yield*this.pushSpaces(!1),this.indentNext>this.indentValue&&!da(this.charAt(1))&&(this.indentNext=this.indentValue),yield*this.parseBlockStart()}*parseBlockStart(){const[e,t]=this.peek(2);if(!t&&!this.atEnd)return this.setNext('block-start');if(('-'===e||'?'===e||':'===e)&&da(t)){const e=(yield*this.pushCount(1))+(yield*this.pushSpaces(!0));return this.indentNext=this.indentValue+1,this.indentValue+=e,yield*this.parseBlockStart()}return'doc'}*parseDocument(){yield*this.pushSpaces(!0);const e=this.getLine();if(null===e)return this.setNext('doc');let t=yield*this.pushIndicators();switch(e[t]){case'#':yield*this.pushCount(e.length-t);case void 0:return yield*this.pushNewline(),yield*this.parseLineStart();case'{':case'[':return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel=1,'flow';case'}':case']':return yield*this.pushCount(1),'doc';case'*':return yield*this.pushUntil(fa),'doc';case'"':case'\'':return yield*this.parseQuotedScalar();case'|':case'>':return t+=(yield*this.parseBlockScalarHeader()),t+=(yield*this.pushSpaces(!0)),yield*this.pushCount(e.length-t),yield*this.pushNewline(),yield*this.parseBlockScalar();default:return yield*this.parsePlainScalar()}}*parseFlowCollection(){let e,t,i=-1;do{e=yield*this.pushNewline(),e>0?(t=yield*this.pushSpaces(!1),this.indentValue=i=t):t=0,t+=(yield*this.pushSpaces(!0))}while(e+t>0);const n=this.getLine();if(null===n)return this.setNext('flow');if(-1!==i&&i<this.indentNext&&'#'!==n[0]||0===i&&(n.startsWith('---')||n.startsWith('...'))&&da(n[3])){if(!(i===this.indentNext-1&&1===this.flowLevel&&(']'===n[0]||'}'===n[0])))return this.flowLevel=0,yield'',yield*this.parseLineStart()}let s=0;for(;','===n[s];)s+=(yield*this.pushCount(1)),s+=(yield*this.pushSpaces(!0)),this.flowKey=!1;switch(s+=(yield*this.pushIndicators()),n[s]){case void 0:return'flow';case'#':return yield*this.pushCount(n.length-s),'flow';case'{':case'[':return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel+=1,'flow';case'}':case']':return yield*this.pushCount(1),this.flowKey=!0,this.flowLevel-=1,this.flowLevel?'flow':'doc';case'*':return yield*this.pushUntil(fa),'flow';case'"':case'\'':return this.flowKey=!0,yield*this.parseQuotedScalar();case':':{const e=this.charAt(1);if(this.flowKey||da(e)||','===e)return this.flowKey=!1,yield*this.pushCount(1),yield*this.pushSpaces(!0),'flow'}default:return this.flowKey=!1,yield*this.parsePlainScalar()}}*parseQuotedScalar(){const e=this.charAt(0);let t=this.buffer.indexOf(e,this.pos+1);if('\''===e)for(;-1!==t&&'\''===this.buffer[t+1];)t=this.buffer.indexOf('\'',t+2);else for(;-1!==t;){let e=0;for(;'\\'===this.buffer[t-1-e];)e+=1;if(e%2==0)break;t=this.buffer.indexOf('"',t+1)}const i=this.buffer.substring(0,t);let n=i.indexOf('\n',this.pos);if(-1!==n){for(;-1!==n;){const e=this.continueScalar(n+1);if(-1===e)break;n=i.indexOf('\n',e)}-1!==n&&(t=n-('\r'===i[n-1]?2:1))}if(-1===t){if(!this.atEnd)return this.setNext('quoted-scalar');t=this.buffer.length}return yield*this.pushToIndex(t+1,!1),this.flowLevel?'flow':'doc'}*parseBlockScalarHeader(){this.blockScalarIndent=-1,this.blockScalarKeep=!1;let e=this.pos;for(;;){const t=this.buffer[++e];if('+'===t)this.blockScalarKeep=!0;else if(t>'0'&&t<='9')this.blockScalarIndent=Number(t)-1;else if('-'!==t)break}return yield*this.pushUntil((e=>da(e)||'#'===e))}*parseBlockScalar(){let e,t=this.pos-1,i=0;e:for(let n=this.pos;e=this.buffer[n];++n)switch(e){case' ':i+=1;break;case'\n':t=n,i=0;break;case'\r':{const e=this.buffer[n+1];if(!e&&!this.atEnd)return this.setNext('block-scalar');if('\n'===e)break}default:break e}if(!e&&!this.atEnd)return this.setNext('block-scalar');if(i>=this.indentNext){-1===this.blockScalarIndent?this.indentNext=i:this.indentNext=this.blockScalarIndent+(0===this.indentNext?1:this.indentNext);do{const e=this.continueScalar(t+1);if(-1===e)break;t=this.buffer.indexOf('\n',e)}while(-1!==t);if(-1===t){if(!this.atEnd)return this.setNext('block-scalar');t=this.buffer.length}}let n=t+1;for(e=this.buffer[n];' '===e;)e=this.buffer[++n];if('\t'===e){for(;'\t'===e||' '===e||'\r'===e||'\n'===e;)e=this.buffer[++n];t=n-1}else if(!this.blockScalarKeep)for(;;){let e=t-1,n=this.buffer[e];'\r'===n&&(n=this.buffer[--e]);const s=e;for(;' '===n;)n=this.buffer[--e];if(!('\n'===n&&e>=this.pos&&e+1+i>s))break;t=e}return yield'',yield*this.pushToIndex(t+1,!0),yield*this.parseLineStart()}*parsePlainScalar(){const e=this.flowLevel>0;let t,i=this.pos-1,n=this.pos-1;for(;t=this.buffer[++n];)if(':'===t){const t=this.buffer[n+1];if(da(t)||e&&ha.has(t))break;i=n}else if(da(t)){let s=this.buffer[n+1];if('\r'===t&&('\n'===s?(n+=1,t='\n',s=this.buffer[n+1]):i=n),'#'===s||e&&ha.has(s))break;if('\n'===t){const e=this.continueScalar(n+1);if(-1===e)break;n=Math.max(n,e-2)}}else{if(e&&ha.has(t))break;i=n}return t||this.atEnd?(yield'',yield*this.pushToIndex(i+1,!0),e?'flow':'doc'):this.setNext('plain-scalar')}*pushCount(e){return e>0?(yield this.buffer.substr(this.pos,e),this.pos+=e,e):0}*pushToIndex(e,t){const i=this.buffer.slice(this.pos,e);return i?(yield i,this.pos+=i.length,i.length):(t&&(yield''),0)}*pushIndicators(){switch(this.charAt(0)){case'!':return(yield*this.pushTag())+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case'&':return(yield*this.pushUntil(fa))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case'-':case'?':case':':{const e=this.flowLevel>0,t=this.charAt(1);if(da(t)||e&&ha.has(t))return e?this.flowKey&&(this.flowKey=!1):this.indentNext=this.indentValue+1,(yield*this.pushCount(1))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators())}}return 0}*pushTag(){if('<'===this.charAt(1)){let e=this.pos+2,t=this.buffer[e];for(;!da(t)&&'>'!==t;)t=this.buffer[++e];return yield*this.pushToIndex('>'===t?e+1:e,!1)}{let e=this.pos+1,t=this.buffer[e];for(;t;)if(pa.has(t))t=this.buffer[++e];else{if('%'!==t||!ua.has(this.buffer[e+1])||!ua.has(this.buffer[e+2]))break;t=this.buffer[e+=3]}return yield*this.pushToIndex(e,!1)}}*pushNewline(){const e=this.buffer[this.pos];return'\n'===e?yield*this.pushCount(1):'\r'===e&&'\n'===this.charAt(1)?yield*this.pushCount(2):0}*pushSpaces(e){let t,i=this.pos-1;do{t=this.buffer[++i]}while(' '===t||e&&'\t'===t);const n=i-this.pos;return n>0&&(yield this.buffer.substr(this.pos,n),this.pos=i),n}*pushUntil(e){let t=this.pos,i=this.buffer[t];for(;!e(i);)i=this.buffer[++t];return yield*this.pushToIndex(t,!1)}}class _a{constructor(){this.lineStarts=[],this.addNewLine=e=>this.lineStarts.push(e),this.linePos=e=>{let t=0,i=this.lineStarts.length;for(;t<i;){const n=t+i>>1;this.lineStarts[n]<e?t=n+1:i=n}if(this.lineStarts[t]===e)return{line:t+1,col:1};if(0===t)return{line:0,col:e};return{line:t,col:e-this.lineStarts[t-1]+1}}}}function ya(e,t){for(let i=0;i<e.length;++i)if(e[i].type===t)return!0;return!1}function va(e){for(let t=0;t<e.length;++t)switch(e[t].type){case'space':case'comment':case'newline':break;default:return t}return-1}function wa(e){switch(e?.type){case'alias':case'scalar':case'single-quoted-scalar':case'double-quoted-scalar':case'flow-collection':return!0;default:return!1}}function ba(e){switch(e.type){case'document':return e.start;case'block-map':{const t=e.items[e.items.length-1];return t.sep??t.start}case'block-seq':return e.items[e.items.length-1].start;default:return[]}}function Ea(e){if(0===e.length)return[];let t=e.length;e:for(;--t>=0;)switch(e[t].type){case'doc-start':case'explicit-key-ind':case'map-value-ind':case'seq-item-ind':case'newline':break e}for(;'space'===e[++t]?.type;);return e.splice(t,e.length)}function Sa(e){if('flow-seq-start'===e.start.type)for(const t of e.items)!t.sep||t.value||ya(t.start,'explicit-key-ind')||ya(t.sep,'map-value-ind')||(t.key&&(t.value=t.key),delete t.key,wa(t.value)?t.value.end?Array.prototype.push.apply(t.value.end,t.sep):t.value.end=t.sep:Array.prototype.push.apply(t.start,t.sep),delete t.sep)}class Ta{constructor(e){this.atNewLine=!0,this.atScalar=!1,this.indent=0,this.offset=0,this.onKeyLine=!1,this.stack=[],this.source='',this.type='',this.lexer=new ga,this.onNewLine=e}*parse(e,t=!1){this.onNewLine&&0===this.offset&&this.onNewLine(0);for(const i of this.lexer.lex(e,t))yield*this.next(i);t||(yield*this.end())}*next(e){if(this.source=e,this.atScalar)return this.atScalar=!1,yield*this.step(),void(this.offset+=e.length);const t=function(e){switch(e){case'\ufeff':return'byte-order-mark';case'':return'doc-mode';case'':return'flow-error-end';case'':return'scalar';case'---':return'doc-start';case'...':return'doc-end';case'':case'\n':case'\r\n':return'newline';case'-':return'seq-item-ind';case'?':return'explicit-key-ind';case':':return'map-value-ind';case'{':return'flow-map-start';case'}':return'flow-map-end';case'[':return'flow-seq-start';case']':return'flow-seq-end';case',':return'comma'}switch(e[0]){case' ':case'\t':return'space';case'#':return'comment';case'%':return'directive-line';case'*':return'alias';case'&':return'anchor';case'!':return'tag';case'\'':return'single-quoted-scalar';case'"':return'double-quoted-scalar';case'|':case'>':return'block-scalar-header'}return null}(e);if(t)if('scalar'===t)this.atNewLine=!1,this.atScalar=!0,this.type='scalar';else{switch(this.type=t,yield*this.step(),t){case'newline':this.atNewLine=!0,this.indent=0,this.onNewLine&&this.onNewLine(this.offset+e.length);break;case'space':this.atNewLine&&' '===e[0]&&(this.indent+=e.length);break;case'explicit-key-ind':case'map-value-ind':case'seq-item-ind':this.atNewLine&&(this.indent+=e.length);break;case'doc-mode':case'flow-error-end':return;default:this.atNewLine=!1}this.offset+=e.length}else{const t=`Not a YAML token: ${e}`;yield*this.pop({type:'error',offset:this.offset,message:t,source:e}),this.offset+=e.length}}*end(){for(;this.stack.length>0;)yield*this.pop()}get sourceToken(){return{type:this.type,offset:this.offset,indent:this.indent,source:this.source}}*step(){const e=this.peek(1);if('doc-end'!==this.type||e&&'doc-end'===e.type){if(!e)return yield*this.stream();switch(e.type){case'document':return yield*this.document(e);case'alias':case'scalar':case'single-quoted-scalar':case'double-quoted-scalar':return yield*this.scalar(e);case'block-scalar':return yield*this.blockScalar(e);case'block-map':return yield*this.blockMap(e);case'block-seq':return yield*this.blockSequence(e);case'flow-collection':return yield*this.flowCollection(e);case'doc-end':return yield*this.documentEnd(e)}yield*this.pop()}else{for(;this.stack.length>0;)yield*this.pop();this.stack.push({type:'doc-end',offset:this.offset,source:this.source})}}peek(e){return this.stack[this.stack.length-e]}*pop(e){const t=e??this.stack.pop();if(t)if(0===this.stack.length)yield t;else{const e=this.peek(1);switch('block-scalar'===t.type?t.indent='indent'in e?e.indent:0:'flow-collection'===t.type&&'document'===e.type&&(t.indent=0),'flow-collection'===t.type&&Sa(t),e.type){case'document':e.value=t;break;case'block-scalar':e.props.push(t);break;case'block-map':{const i=e.items[e.items.length-1];if(i.value)return e.items.push({start:[],key:t,sep:[]}),void(this.onKeyLine=!0);if(!i.sep)return Object.assign(i,{key:t,sep:[]}),void(this.onKeyLine=!i.explicitKey);i.value=t;break}case'block-seq':{const i=e.items[e.items.length-1];i.value?e.items.push({start:[],value:t}):i.value=t;break}case'flow-collection':{const i=e.items[e.items.length-1];return void(!i||i.value?e.items.push({start:[],key:t,sep:[]}):i.sep?i.value=t:Object.assign(i,{key:t,sep:[]}))}default:yield*this.pop(),yield*this.pop(t)}if(!('document'!==e.type&&'block-map'!==e.type&&'block-seq'!==e.type||'block-map'!==t.type&&'block-seq'!==t.type)){const i=t.items[t.items.length-1];i&&!i.sep&&!i.value&&i.start.length>0&&-1===va(i.start)&&(0===t.indent||i.start.every((e=>'comment'!==e.type||e.indent<t.indent)))&&('document'===e.type?e.end=i.start:e.items.push({start:i.start}),t.items.splice(-1,1))}}else{const e='Tried to pop an empty stack';yield{type:'error',offset:this.offset,source:'',message:e}}}*stream(){switch(this.type){case'directive-line':return void(yield{type:'directive',offset:this.offset,source:this.source});case'byte-order-mark':case'space':case'comment':case'newline':return void(yield this.sourceToken);case'doc-mode':case'doc-start':{const e={type:'document',offset:this.offset,start:[]};return'doc-start'===this.type&&e.start.push(this.sourceToken),void this.stack.push(e)}}yield{type:'error',offset:this.offset,message:`Unexpected ${this.type} token in YAML stream`,source:this.source}}*document(e){if(e.value)return yield*this.lineEnd(e);switch(this.type){case'doc-start':return void(-1!==va(e.start)?(yield*this.pop(),yield*this.step()):e.start.push(this.sourceToken));case'anchor':case'tag':case'space':case'comment':case'newline':return void e.start.push(this.sourceToken)}const t=this.startBlockValue(e);t?this.stack.push(t):yield{type:'error',offset:this.offset,message:`Unexpected ${this.type} token in YAML document`,source:this.source}}*scalar(e){if('map-value-ind'===this.type){const t=Ea(ba(this.peek(2)));let i;e.end?(i=e.end,i.push(this.sourceToken),delete e.end):i=[this.sourceToken];const n={type:'block-map',offset:e.offset,indent:e.indent,items:[{start:t,key:e,sep:i}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=n}else yield*this.lineEnd(e)}*blockScalar(e){switch(this.type){case'space':case'comment':case'newline':return void e.props.push(this.sourceToken);case'scalar':if(e.source=this.source,this.atNewLine=!0,this.indent=0,this.onNewLine){let e=this.source.indexOf('\n')+1;for(;0!==e;)this.onNewLine(this.offset+e),e=this.source.indexOf('\n',e)+1}yield*this.pop();break;default:yield*this.pop(),yield*this.step()}}*blockMap(e){const t=e.items[e.items.length-1];switch(this.type){case'newline':if(this.onKeyLine=!1,t.value){const i='end'in t.value?t.value.end:void 0,n=Array.isArray(i)?i[i.length-1]:void 0;'comment'===n?.type?i?.push(this.sourceToken):e.items.push({start:[this.sourceToken]})}else t.sep?t.sep.push(this.sourceToken):t.start.push(this.sourceToken);return;case'space':case'comment':if(t.value)e.items.push({start:[this.sourceToken]});else if(t.sep)t.sep.push(this.sourceToken);else{if(this.atIndentedComment(t.start,e.indent)){const i=e.items[e.items.length-2],n=i?.value?.end;if(Array.isArray(n))return Array.prototype.push.apply(n,t.start),n.push(this.sourceToken),void e.items.pop()}t.start.push(this.sourceToken)}return}if(this.indent>=e.indent){const i=!this.onKeyLine&&this.indent===e.indent,n=i&&(t.sep||t.explicitKey)&&'seq-item-ind'!==this.type;let s=[];if(n&&t.sep&&!t.value){const i=[];for(let n=0;n<t.sep.length;++n){const s=t.sep[n];switch(s.type){case'newline':i.push(n);break;case'space':break;case'comment':s.indent>e.indent&&(i.length=0);break;default:i.length=0}}i.length>=2&&(s=t.sep.splice(i[1]))}switch(this.type){case'anchor':case'tag':return void(n||t.value?(s.push(this.sourceToken),e.items.push({start:s}),this.onKeyLine=!0):t.sep?t.sep.push(this.sourceToken):t.start.push(this.sourceToken));case'explicit-key-ind':return t.sep||t.explicitKey?n||t.value?(s.push(this.sourceToken),e.items.push({start:s,explicitKey:!0})):this.stack.push({type:'block-map',offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken],explicitKey:!0}]}):(t.start.push(this.sourceToken),t.explicitKey=!0),void(this.onKeyLine=!0);case'map-value-ind':if(t.explicitKey)if(t.sep)if(t.value)e.items.push({start:[],key:null,sep:[this.sourceToken]});else if(ya(t.sep,'map-value-ind'))this.stack.push({type:'block-map',offset:this.offset,indent:this.indent,items:[{start:s,key:null,sep:[this.sourceToken]}]});else if(wa(t.key)&&!ya(t.sep,'newline')){const e=Ea(t.start),i=t.key,n=t.sep;n.push(this.sourceToken),delete t.key,delete t.sep,this.stack.push({type:'block-map',offset:this.offset,indent:this.indent,items:[{start:e,key:i,sep:n}]})}else s.length>0?t.sep=t.sep.concat(s,this.sourceToken):t.sep.push(this.sourceToken);else if(ya(t.start,'newline'))Object.assign(t,{key:null,sep:[this.sourceToken]});else{const e=Ea(t.start);this.stack.push({type:'block-map',offset:this.offset,indent:this.indent,items:[{start:e,key:null,sep:[this.sourceToken]}]})}else t.sep?t.value||n?e.items.push({start:s,key:null,sep:[this.sourceToken]}):ya(t.sep,'map-value-ind')?this.stack.push({type:'block-map',offset:this.offset,indent:this.indent,items:[{start:[],key:null,sep:[this.sourceToken]}]}):t.sep.push(this.sourceToken):Object.assign(t,{key:null,sep:[this.sourceToken]});return void(this.onKeyLine=!0);case'alias':case'scalar':case'single-quoted-scalar':case'double-quoted-scalar':{const i=this.flowScalar(this.type);return void(n||t.value?(e.items.push({start:s,key:i,sep:[]}),this.onKeyLine=!0):t.sep?this.stack.push(i):(Object.assign(t,{key:i,sep:[]}),this.onKeyLine=!0))}default:{const n=this.startBlockValue(e);if(n){if('block-seq'===n.type){if(!t.explicitKey&&t.sep&&!ya(t.sep,'newline'))return void(yield*this.pop({type:'error',offset:this.offset,message:'Unexpected block-seq-ind on same line with key',source:this.source}))}else i&&e.items.push({start:s});return void this.stack.push(n)}}}}yield*this.pop(),yield*this.step()}*blockSequence(e){const t=e.items[e.items.length-1];switch(this.type){case'newline':if(t.value){const i='end'in t.value?t.value.end:void 0,n=Array.isArray(i)?i[i.length-1]:void 0;'comment'===n?.type?i?.push(this.sourceToken):e.items.push({start:[this.sourceToken]})}else t.start.push(this.sourceToken);return;case'space':case'comment':if(t.value)e.items.push({start:[this.sourceToken]});else{if(this.atIndentedComment(t.start,e.indent)){const i=e.items[e.items.length-2],n=i?.value?.end;if(Array.isArray(n))return Array.prototype.push.apply(n,t.start),n.push(this.sourceToken),void e.items.pop()}t.start.push(this.sourceToken)}return;case'anchor':case'tag':if(t.value||this.indent<=e.indent)break;return void t.start.push(this.sourceToken);case'seq-item-ind':if(this.indent!==e.indent)break;return void(t.value||ya(t.start,'seq-item-ind')?e.items.push({start:[this.sourceToken]}):t.start.push(this.sourceToken))}if(this.indent>e.indent){const t=this.startBlockValue(e);if(t)return void this.stack.push(t)}yield*this.pop(),yield*this.step()}*flowCollection(e){const t=e.items[e.items.length-1];if('flow-error-end'===this.type){let e;do{yield*this.pop(),e=this.peek(1)}while(e&&'flow-collection'===e.type)}else if(0===e.end.length){switch(this.type){case'comma':case'explicit-key-ind':return void(!t||t.sep?e.items.push({start:[this.sourceToken]}):t.start.push(this.sourceToken));case'map-value-ind':return void(!t||t.value?e.items.push({start:[],key:null,sep:[this.sourceToken]}):t.sep?t.sep.push(this.sourceToken):Object.assign(t,{key:null,sep:[this.sourceToken]}));case'space':case'comment':case'newline':case'anchor':case'tag':return void(!t||t.value?e.items.push({start:[this.sourceToken]}):t.sep?t.sep.push(this.sourceToken):t.start.push(this.sourceToken));case'alias':case'scalar':case'single-quoted-scalar':case'double-quoted-scalar':{const i=this.flowScalar(this.type);return void(!t||t.value?e.items.push({start:[],key:i,sep:[]}):t.sep?this.stack.push(i):Object.assign(t,{key:i,sep:[]}))}case'flow-map-end':case'flow-seq-end':return void e.end.push(this.sourceToken)}const i=this.startBlockValue(e);i?this.stack.push(i):(yield*this.pop(),yield*this.step())}else{const t=this.peek(2);if('block-map'===t.type&&('map-value-ind'===this.type&&t.indent===e.indent||'newline'===this.type&&!t.items[t.items.length-1].sep))yield*this.pop(),yield*this.step();else if('map-value-ind'===this.type&&'flow-collection'!==t.type){const i=Ea(ba(t));Sa(e);const n=e.end.splice(1,e.end.length);n.push(this.sourceToken);const s={type:'block-map',offset:e.offset,indent:e.indent,items:[{start:i,key:e,sep:n}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=s}else yield*this.lineEnd(e)}}flowScalar(e){if(this.onNewLine){let e=this.source.indexOf('\n')+1;for(;0!==e;)this.onNewLine(this.offset+e),e=this.source.indexOf('\n',e)+1}return{type:e,offset:this.offset,indent:this.indent,source:this.source}}startBlockValue(e){switch(this.type){case'alias':case'scalar':case'single-quoted-scalar':case'double-quoted-scalar':return this.flowScalar(this.type);case'block-scalar-header':return{type:'block-scalar',offset:this.offset,indent:this.indent,props:[this.sourceToken],source:''};case'flow-map-start':case'flow-seq-start':return{type:'flow-collection',offset:this.offset,indent:this.indent,start:this.sourceToken,items:[],end:[]};case'seq-item-ind':return{type:'block-seq',offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]};case'explicit-key-ind':{this.onKeyLine=!0;const t=Ea(ba(e));return t.push(this.sourceToken),{type:'block-map',offset:this.offset,indent:this.indent,items:[{start:t,explicitKey:!0}]}}case'map-value-ind':{this.onKeyLine=!0;const t=Ea(ba(e));return{type:'block-map',offset:this.offset,indent:this.indent,items:[{start:t,key:null,sep:[this.sourceToken]}]}}}return null}atIndentedComment(e,t){return'comment'===this.type&&(!(this.indent<=t)&&e.every((e=>'newline'===e.type||'space'===e.type)))}*documentEnd(e){'doc-mode'!==this.type&&(e.end?e.end.push(this.sourceToken):e.end=[this.sourceToken],'newline'===this.type&&(yield*this.pop()))}*lineEnd(e){switch(this.type){case'comma':case'doc-start':case'doc-end':case'flow-seq-end':case'flow-map-end':case'map-value-ind':yield*this.pop(),yield*this.step();break;case'newline':this.onKeyLine=!1;default:e.end?e.end.push(this.sourceToken):e.end=[this.sourceToken],'newline'===this.type&&(yield*this.pop())}}}function Ia(e,t={}){const{lineCounter:i,prettyErrors:n}=function(e){const t=!1!==e.prettyErrors;return{lineCounter:e.lineCounter||t&&new _a||null,prettyErrors:t}}(t),s=new Ta(i?.addNewLine),r=new ca(t);let a=null;for(const t of r.compose(s.parse(e),!0,e.length))if(a){if('silent'!==a.options.logLevel){a.errors.push(new Ur(t.range.slice(0,2),'MULTIPLE_DOCS','Source contains multiple documents; please use YAML.parseAllDocuments()'));break}}else a=t;return n&&i&&(a.errors.forEach(Wr(e,i)),a.warnings.forEach(Wr(e,i))),a}let Aa=class e{static DEVELOPMENT=new e('development','https://staging.phrases.noticeable.io');static PRODUCTION=new e('production','https://phrases.noticeable.io');static STAGING=new e('staging','https://staging.phrases.noticeable.io');id;phrasesBaseUrl;constructor(e,t){this.id=e,this.phrasesBaseUrl=t}static from(t){return t===e.DEVELOPMENT.id?e.DEVELOPMENT:t===e.STAGING.id?e.STAGING:e.PRODUCTION}};class Ca{static ENV=Aa.PRODUCTION;static NAMESPACE_MAP=new Map;constructor(){}static getNamespace(e){let t=Ca.NAMESPACE_MAP.get(e);return t||(t=new Pa(e),Ca.NAMESPACE_MAP.set(e,t)),t}static getEnvironment(){return Ca.ENV}static resetNamespaces(){this.NAMESPACE_MAP.clear()}static setEnvironment(e){Ca.ENV=e}}class Oa{constructor(){}static async fetch(e,t){return async function(e){let t,i,n;try{t=await fetch(e)}catch(t){return console.debug(`Error while fetching YAML resource '${e}'`),null}if(!t.ok)return console.debug(`Response not OK when fetching YAML resource '${e}'`),null;try{i=await t.text()}catch(t){return console.debug(`Error retrieving text content after fetching YAML resource '${e}'`),null}try{n=function(e,t,i){let n;const s=Ia(e,i);if(!s)return null;if(s.warnings.forEach((e=>bs(s.options.logLevel,e))),s.errors.length>0){if('silent'!==s.options.logLevel)throw s.errors[0];s.errors=[]}return s.toJS(Object.assign({reviver:n},i))}(i)}catch(t){return console.debug(`Error while parsing YAML resource '${e}'`),null}if(!n||'object'!=typeof n)return console.debug(`Invalid or empty YAML resource '${e}'`),null;return n}(Oa.buildUrl(e,t))}static buildUrl(e,t){const i=e.split('.'),n=i[i.length-1],s=i.join('/'),r=s?`${s}/${n}.${t}.yaml`:`${n}.${t}.yaml`;return`${Ca.getEnvironment().phrasesBaseUrl}/5.5.2/${r}`}}class Pa{id='';categories=new Map;phrases=new Map;constructor(e){this.id=e}async getCategory(e,t){let i=this.categories.get(e);if(void 0===i&&(await this.load(e),i=this.categories.get(e)),null===i&&(i=this.categories.get(wn.DEFAULT_LANGUAGE_TAG),void 0===i&&(await this.load(wn.DEFAULT_LANGUAGE_TAG),i=this.categories.get(wn.DEFAULT_LANGUAGE_TAG)),null===i))return;const n=i.get(t);return n||void 0}async getPhrase(e,t){let i=this.phrases.get(e);if(void 0===i&&(await this.load(e),i=this.phrases.get(e)),null===i&&(i=this.phrases.get(wn.DEFAULT_LANGUAGE_TAG),void 0===i&&(await this.load(wn.DEFAULT_LANGUAGE_TAG),i=this.phrases.get(wn.DEFAULT_LANGUAGE_TAG)),null===i))return;const n=i.get(t);return void 0===n?e===wn.DEFAULT_LANGUAGE_TAG?void 0:this.getPhrase(wn.DEFAULT_LANGUAGE_TAG,t):n}async listCategories(e){let t=this.categories.get(e);return void 0===t&&(await this.load(e),t=this.categories.get(e)),null===t&&e!==wn.DEFAULT_LANGUAGE_TAG&&(t=this.categories.get(wn.DEFAULT_LANGUAGE_TAG),void 0===t&&(await this.load(wn.DEFAULT_LANGUAGE_TAG),t=this.categories.get(wn.DEFAULT_LANGUAGE_TAG))),null===t?[]:[...t.values()]}async load(e){const t=await Oa.fetch(this.id,e);return t?this.loadFromYaml(t):(this.categories.set(e,null),void this.phrases.set(e,null))}loadFromYaml(e){const t=e.namespace;if(!t||!t.trim())return;const i=e.language_tag;let n=this.categories.get(i),s=this.phrases.get(i);n||(n=new Map,this.categories.set(i,n)),s||(s=new Map,this.phrases.set(i,s));const r=e.categories;if(r&&Array.isArray(r)){for(const e of r){const t=e.id,r=e.name;if(!t||!t.trim()){console.warn(`Category ID is missing or empty in namespace '${this.id}'. Skipping.`);continue}const a=new Map,o=new Ft(t,r,a),l=e.phrases;if(l)for(const e in l){const n=l[e],r=new wn(o,e,n.description||null,i,n.value||'');a.set(e,r);const c=`${t}.${e}`;s.set(c,r)}n.set(o.id,o)}return s}}toString(){return`PhraseNamespace{id="${this.id}"}`}}var Na,La,xa,Ra;!function(e){e.MESSAGE='message',e.REDIRECT='redirect'}(Na||(Na={})),function(e){e.PASSWORD='password',e.TOKEN='token'}(La||(La={})),function(e){e.NONE='none',e.ZOOM_IN_ROTATE='zoom-in-rotate'}(xa||(xa={})),function(e){e.NOTICEONE='noticeone',e.RESHAPE='reshape'}(Ra||(Ra={}));class Da{id;organizations;constructor(e,...t){this.id=e,this.organizations=t&&0!=t.length?new Set(t):null}static from(e){const t=Ma[e];return t?t instanceof Function?(Ma[e]=t(),Ma[e]):t:null}getId(){return this.id}getPhraseNamespace(){return Ca.getNamespace('newspage.templates.'+this.id)}getOrganizations(){return this.organizations}isAccessibleFrom(e){return null===this.organizations||this.organizations.has(e)}}const Ma=Object.entries(Ra).reduce(((e,[t,i])=>({...e,[i]:()=>new Da(i)})),{});var ka,Ba,Ua,Ga,Wa,ja,$a,Ha,Fa,za,Va,Ya;!function(e){e.EMAILS='emails'}(ka||(ka={})),function(e){e.OIDC='oidc',e.SAML='saml'}(Ba||(Ba={})),function(e){e.BLANK='b',e.JOIN_PROJECTS_AS_ADMIN='jpaa',e.JOIN_PROJECTS_AS_EDITOR='jpae',e.JOIN_PROJECTS_AS_VIEWER='jpav'}(Ua||(Ua={})),function(e){e.DISABLED='disabled',e.PRIVATE='private',e.PUBLIC='public'}(Ga||(Ga={})),function(e){e.ABSOLUTE='absolute',e.HIDDEN='hidden',e.RELATIVE='relative'}(Wa||(Wa={})),function(e){e.DOUBLE_OPT_IN='doi',e.SINGLE_OPT_IN='soi'}(ja||(ja={})),function(e){e[e.VIEWER=1]='VIEWER',e[e.EDITOR=2]='EDITOR',e[e.ADMIN=4]='ADMIN',e[e.OWNER=7]='OWNER'}($a||($a={})),function(e){e.PUBLICATION_CTA='publication+cta',e.PUBLICATION_LINK='publication+link',e.OTHER='other'}(Ha||(Ha={})),function(e){e.EMAIL='email',e.NEWSPAGE='newspage',e.WIDGET='widget'}(Fa||(Fa={})),function(e){e.NOTICEABLE='noticeable'}(za||(za={})),function(e){e.EMAIL_SUBSCRIPTION_CREATE='email_subscription.create',e.EMAIL_SUBSCRIPTION_DELETE='email_subscription.delete',e.EMAIL_SUBSCRIPTION_UPDATE='email_subscription.update',e.POST_COMMENT_CREATE='post.comment.create',e.POST_CREATE='post.create',e.POST_CREATE_UPDATE='post.create_update',e.POST_DELETE='post.delete',e.POST_UPDATE='post.update'}(Va||(Va={})),function(e){e.HTTP='http',e.ZAPIER='zapier'}(Ya||(Ya={}));const Qa={production:{prices:{data:[{id:'price_1PBZ0sCWmau5QjSxZmA4oEDi',currency:'usd',product:{id:'prod_Q1cF2YR3vIQgfG'},recurring:{interval:'month'},unit_amount_decimal:'900',tiers:null},{id:'price_1PBZ0sCWmau5QjSxfXjFOORk',currency:'usd',product:{id:'prod_Q1cF2YR3vIQgfG'},recurring:{interval:'year'},unit_amount_decimal:'9000',tiers:null},{id:'price_1PBZ0sCWmau5QjSxgEMB7rEM',currency:'eur',product:{id:'prod_Q1cF2YR3vIQgfG'},recurring:{interval:'month'},unit_amount_decimal:'900',tiers:null},{id:'price_1PBZ0sCWmau5QjSxx5ya15ht',currency:'eur',product:{id:'prod_Q1cF2YR3vIQgfG'},recurring:{interval:'year'},unit_amount_decimal:'9000',tiers:null},{id:'price_1PBZ0sCWmau5QjSxnnksV08J',currency:'gbp',product:{id:'prod_Q1cF2YR3vIQgfG'},recurring:{interval:'month'},unit_amount_decimal:'800',tiers:null},{id:'price_1PBZ0sCWmau5QjSxan1xtNVz',currency:'gbp',product:{id:'prod_Q1cF2YR3vIQgfG'},recurring:{interval:'year'},unit_amount_decimal:'8000',tiers:null},{id:'price_1PBZ0rCWmau5QjSxjmmigLKm',currency:'usd',product:{id:'prod_Q1cFccB7B3El62'},recurring:{interval:'month'},unit_amount_decimal:null,tiers:[{flat_amount:0,flat_amount_decimal:'0',unit_amount:null,unit_amount_decimal:'0.5',up_to:1e3},{flat_amount:0,flat_amount_decimal:'0',unit_amount:null,unit_amount_decimal:'0.2',up_to:1e4},{flat_amount:0,flat_amount_decimal:'0',unit_amount:null,unit_amount_decimal:'0.1',up_to:1e5},{flat_amount:0,flat_amount_decimal:'0',unit_amount:null,unit_amount_decimal:'0.09',up_to:1e6},{flat_amount:0,flat_amount_decimal:'0',unit_amount:null,unit_amount_decimal:'0.08',up_to:null}]},{id:'price_1PBZ0rCWmau5QjSxwNNImD01',currency:'usd',product:{id:'prod_Q1cFccB7B3El62'},recurring:{interval:'year'},unit_amount_decimal:null,tiers:[{flat_amount:0,flat_amount_decimal:'0',unit_amount:null,unit_amount_decimal:'0.5',up_to:1e3},{flat_amount:0,flat_amount_decimal:'0',unit_amount:null,unit_amount_decimal:'0.2',up_to:1e4},{flat_amount:0,flat_amount_decimal:'0',unit_amount:null,unit_amount_decimal:'0.1',up_to:1e5},{flat_amount:0,flat_amount_decimal:'0',unit_amount:null,unit_amount_decimal:'0.09',up_to:1e6},{flat_amount:0,flat_amount_decimal:'0',unit_amount:null,unit_amount_decimal:'0.08',up_to:null}]},{id:'price_1PBZ0rCWmau5QjSxl25BJWpQ',currency:'eur',product:{id:'prod_Q1cFccB7B3El62'},recurring:{interval:'month'},unit_amount_decimal:null,tiers:[{flat_amount:0,flat_amount_decimal:'0',unit_amount:null,unit_amount_decimal:'0.5',up_to:1e3},{flat_amount:0,flat_amount_decimal:'0',unit_amount:null,unit_amount_decimal:'0.2',up_to:1e4},{flat_amount:0,flat_amount_decimal:'0',unit_amount:null,unit_amount_decimal:'0.1',up_to:1e5},{flat_amount:0,flat_amount_decimal:'0',unit_amount:null,unit_amount_decimal:'0.09',up_to:1e6},{flat_amount:0,flat_amount_decimal:'0',unit_amount:null,unit_amount_decimal:'0.08',up_to:null}]},{id:'price_1PBZ0rCWmau5QjSxamsiJ5de',currency:'eur',product:{id:'prod_Q1cFccB7B3El62'},recurring:{interval:'year'},unit_amount_decimal:null,tiers:[{flat_amount:0,flat_amount_decimal:'0',unit_amount:null,unit_amount_decimal:'0.5',up_to:1e3},{flat_amount:0,flat_amount_decimal:'0',unit_amount:null,unit_amount_decimal:'0.2',up_to:1e4},{flat_amount:0,flat_amount_decimal:'0',unit_amount:null,unit_amount_decimal:'0.1',up_to:1e5},{flat_amount:0,flat_amount_decimal:'0',unit_amount:null,unit_amount_decimal:'0.09',up_to:1e6},{flat_amount:0,flat_amount_decimal:'0',unit_amount:null,unit_amount_decimal:'0.08',up_to:null}]},{id:'price_1PBZ0rCWmau5QjSxRKhL3g7R',currency:'gbp',product:{id:'prod_Q1cFccB7B3El62'},recurring:{interval:'month'},unit_amount_decimal:null,tiers:[{flat_amount:0,flat_amount_decimal:'0',unit_amount:null,unit_amount_decimal:'0.45',up_to:1e3},{flat_amount:0,flat_amount_decimal:'0',unit_amount:null,unit_amount_decimal:'0.18',up_to:1e4},{flat_amount:0,flat_amount_decimal:'0',unit_amount:null,unit_amount_decimal:'0.09',up_to:1e5},{flat_amount:0,flat_amount_decimal:'0',unit_amount:null,unit_amount_decimal:'0.08',up_to:1e6},{flat_amount:0,flat_amount_decimal:'0',unit_amount:null,unit_amount_decimal:'0.075',up_to:null}]},{id:'price_1PBZ0rCWmau5QjSxnnyTfIEv',currency:'gbp',product:{id:'prod_Q1cFccB7B3El62'},recurring:{interval:'year'},unit_amount_decimal:null,tiers:[{flat_amount:0,flat_amount_decimal:'0',unit_amount:null,unit_amount_decimal:'0.45',up_to:1e3},{flat_amount:0,flat_amount_decimal:'0',unit_amount:null,unit_amount_decimal:'0.18',up_to:1e4},{flat_amount:0,flat_amount_decimal:'0',unit_amount:null,unit_amount_decimal:'0.09',up_to:1e5},{flat_amount:0,flat_amount_decimal:'0',unit_amount:null,unit_amount_decimal:'0.08',up_to:1e6},{flat_amount:0,flat_amount_decimal:'0',unit_amount:null,unit_amount_decimal:'0.075',up_to:null}]},{id:'price_1PBZ0qCWmau5QjSxAvB85so4',currency:'usd',product:{id:'prod_Q1cF7NkaBWSnJ6'},recurring:{interval:'month'},unit_amount_decimal:'700',tiers:null},{id:'price_1PBZ0qCWmau5QjSxBnXpit0E',currency:'usd',product:{id:'prod_Q1cF7NkaBWSnJ6'},recurring:{interval:'year'},unit_amount_decimal:'7000',tiers:null},{id:'price_1PBZ0qCWmau5QjSxbwGajQ7Q',currency:'eur',product:{id:'prod_Q1cF7NkaBWSnJ6'},recurring:{interval:'month'},unit_amount_decimal:'700',tiers:null},{id:'price_1PBZ0qCWmau5QjSxcsQlugvY',currency:'eur',product:{id:'prod_Q1cF7NkaBWSnJ6'},recurring:{interval:'year'},unit_amount_decimal:'7000',tiers:null},{id:'price_1PBZ0qCWmau5QjSxQDh0EuEO',currency:'gbp',product:{id:'prod_Q1cF7NkaBWSnJ6'},recurring:{interval:'month'},unit_amount_decimal:'600',tiers:null},{id:'price_1PBZ0qCWmau5QjSxZ0bVfG76',currency:'gbp',product:{id:'prod_Q1cF7NkaBWSnJ6'},recurring:{interval:'year'},unit_amount_decimal:'6000',tiers:null},{id:'price_1PBZ0pCWmau5QjSx5bl0wQg1',currency:'usd',product:{id:'prod_Q1cFM6lqPW6N0R'},recurring:{interval:'month'},unit_amount_decimal:'3000',tiers:null},{id:'price_1PBZ0pCWmau5QjSxugUmKVfp',currency:'usd',product:{id:'prod_Q1cFM6lqPW6N0R'},recurring:{interval:'year'},unit_amount_decimal:'30000',tiers:null},{id:'price_1PBZ0pCWmau5QjSxNGFpsVec',currency:'eur',product:{id:'prod_Q1cFM6lqPW6N0R'},recurring:{interval:'month'},unit_amount_decimal:'3000',tiers:null},{id:'price_1PBZ0pCWmau5QjSxwk9jFVFT',currency:'eur',product:{id:'prod_Q1cFM6lqPW6N0R'},recurring:{interval:'year'},unit_amount_decimal:'30000',tiers:null},{id:'price_1PBZ0pCWmau5QjSxOnEpCPFc',currency:'gbp',product:{id:'prod_Q1cFM6lqPW6N0R'},recurring:{interval:'month'},unit_amount_decimal:'2500',tiers:null},{id:'price_1PBZ0pCWmau5QjSxMpRVUNGV',currency:'gbp',product:{id:'prod_Q1cFM6lqPW6N0R'},recurring:{interval:'year'},unit_amount_decimal:'25000',tiers:null},{id:'price_1PBZ0nCWmau5QjSxbbB1zJFu',currency:'usd',product:{id:'prod_Q1cFXMyZrpu2XW'},recurring:{interval:'month'},unit_amount_decimal:'39900',tiers:null},{id:'price_1PBZ0nCWmau5QjSxtV9v0tGf',currency:'usd',product:{id:'prod_Q1cFXMyZrpu2XW'},recurring:{interval:'year'},unit_amount_decimal:'399900',tiers:null},{id:'price_1PBZ0nCWmau5QjSxIbPEUNP7',currency:'eur',product:{id:'prod_Q1cFXMyZrpu2XW'},recurring:{interval:'month'},unit_amount_decimal:'39900',tiers:null},{id:'price_1PBZ0nCWmau5QjSxAzpiVT34',currency:'eur',product:{id:'prod_Q1cFXMyZrpu2XW'},recurring:{interval:'year'},unit_amount_decimal:'399900',tiers:null},{id:'price_1PBZ0nCWmau5QjSxn8uvEZEt',currency:'gbp',product:{id:'prod_Q1cFXMyZrpu2XW'},recurring:{interval:'month'},unit_amount_decimal:'39900',tiers:null},{id:'price_1PBZ0nCWmau5QjSxJsdY3Zr9',currency:'gbp',product:{id:'prod_Q1cFXMyZrpu2XW'},recurring:{interval:'year'},unit_amount_decimal:'399900',tiers:null},{id:'price_1PBZ0mCWmau5QjSxgr22Ba5u',currency:'usd',product:{id:'prod_Q1cF3HLTcPvk9E'},recurring:{interval:'month'},unit_amount_decimal:'2900',tiers:null},{id:'price_1PBZ0mCWmau5QjSximjBdXmw',currency:'usd',product:{id:'prod_Q1cF3HLTcPvk9E'},recurring:{interval:'year'},unit_amount_decimal:'29000',tiers:null},{id:'price_1PBZ0mCWmau5QjSxjWmLZ4V9',currency:'eur',product:{id:'prod_Q1cF3HLTcPvk9E'},recurring:{interval:'month'},unit_amount_decimal:'2900',tiers:null},{id:'price_1PBZ0mCWmau5QjSxdmMLjshg',currency:'eur',product:{id:'prod_Q1cF3HLTcPvk9E'},recurring:{interval:'year'},unit_amount_decimal:'29000',tiers:null},{id:'price_1PBZ0mCWmau5QjSxcst0ORbI',currency:'gbp',product:{id:'prod_Q1cF3HLTcPvk9E'},recurring:{interval:'month'},unit_amount_decimal:'2700',tiers:null},{id:'price_1PBZ0mCWmau5QjSxXsFpEXXK',currency:'gbp',product:{id:'prod_Q1cF3HLTcPvk9E'},recurring:{interval:'year'},unit_amount_decimal:'27000',tiers:null},{id:'price_1PBZ0lCWmau5QjSxNpQ5bKvN',currency:'usd',product:{id:'prod_Q1cFYsA3qTw49u'},recurring:{interval:'month'},unit_amount_decimal:'0',tiers:null},{id:'price_1PBZ0lCWmau5QjSxrkjUJRci',currency:'usd',product:{id:'prod_Q1cFYsA3qTw49u'},recurring:{interval:'year'},unit_amount_decimal:'0',tiers:null},{id:'price_1PBZ0lCWmau5QjSxugjaIXr6',currency:'eur',product:{id:'prod_Q1cFYsA3qTw49u'},recurring:{interval:'month'},unit_amount_decimal:'0',tiers:null},{id:'price_1PBZ0lCWmau5QjSxKvogbv7M',currency:'eur',product:{id:'prod_Q1cFYsA3qTw49u'},recurring:{interval:'year'},unit_amount_decimal:'0',tiers:null},{id:'price_1PBZ0lCWmau5QjSxOTeJYuFT',currency:'gbp',product:{id:'prod_Q1cFYsA3qTw49u'},recurring:{interval:'month'},unit_amount_decimal:'0',tiers:null},{id:'price_1PBZ0lCWmau5QjSxEFdoboTN',currency:'gbp',product:{id:'prod_Q1cFYsA3qTw49u'},recurring:{interval:'year'},unit_amount_decimal:'0',tiers:null},{id:'price_1PBZ0kCWmau5QjSxHnIpvq90',currency:'usd',product:{id:'prod_Q1cFIrta8dbPmM'},recurring:{interval:'month'},unit_amount_decimal:'7900',tiers:null},{id:'price_1PBZ0kCWmau5QjSxJBd6pmLW',currency:'usd',product:{id:'prod_Q1cFIrta8dbPmM'},recurring:{interval:'year'},unit_amount_decimal:'79000',tiers:null},{id:'price_1PBZ0kCWmau5QjSxPB4qD4Yr',currency:'eur',product:{id:'prod_Q1cFIrta8dbPmM'},recurring:{interval:'year'},unit_amount_decimal:'79000',tiers:null},{id:'price_1PBZ0kCWmau5QjSx7SVvZHtK',currency:'eur',product:{id:'prod_Q1cFIrta8dbPmM'},recurring:{interval:'month'},unit_amount_decimal:'7900',tiers:null},{id:'price_1PBZ0kCWmau5QjSx7pIu86qZ',currency:'gbp',product:{id:'prod_Q1cFIrta8dbPmM'},recurring:{interval:'month'},unit_amount_decimal:'7200',tiers:null},{id:'price_1PBZ0kCWmau5QjSxKn6W515c',currency:'gbp',product:{id:'prod_Q1cFIrta8dbPmM'},recurring:{interval:'year'},unit_amount_decimal:'72000',tiers:null},{id:'price_1PBZ0jCWmau5QjSxYZ786mRt',currency:'usd',product:{id:'prod_Q1cFQ5z9VMiGP2'},recurring:{interval:'month'},unit_amount_decimal:'0',tiers:null},{id:'price_1PBZ0jCWmau5QjSx37YTsutT',currency:'usd',product:{id:'prod_Q1cFQ5z9VMiGP2'},recurring:{interval:'year'},unit_amount_decimal:'0',tiers:null},{id:'price_1PBZ0jCWmau5QjSxPjY68B2n',currency:'eur',product:{id:'prod_Q1cFQ5z9VMiGP2'},recurring:{interval:'month'},unit_amount_decimal:'0',tiers:null},{id:'price_1PBZ0jCWmau5QjSxCjZqkA8E',currency:'eur',product:{id:'prod_Q1cFQ5z9VMiGP2'},recurring:{interval:'year'},unit_amount_decimal:'0',tiers:null},{id:'price_1PBZ0jCWmau5QjSxhBgzn0hL',currency:'gbp',product:{id:'prod_Q1cFQ5z9VMiGP2'},recurring:{interval:'month'},unit_amount_decimal:'0',tiers:null},{id:'price_1PBZ0jCWmau5QjSxeB9z6G17',currency:'gbp',product:{id:'prod_Q1cFQ5z9VMiGP2'},recurring:{interval:'year'},unit_amount_decimal:'0',tiers:null},{id:'price_1PBZ0iCWmau5QjSxYm5NqDRh',currency:'usd',product:{id:'prod_Q1cFnL9fo9QuMm'},recurring:{interval:'month'},unit_amount_decimal:'15900',tiers:null},{id:'price_1PBZ0iCWmau5QjSxZbs5rvWa',currency:'usd',product:{id:'prod_Q1cFnL9fo9QuMm'},recurring:{interval:'year'},unit_amount_decimal:'159000',tiers:null},{id:'price_1PBZ0iCWmau5QjSxrzg3vICz',currency:'eur',product:{id:'prod_Q1cFnL9fo9QuMm'},recurring:{interval:'month'},unit_amount_decimal:'15900',tiers:null},{id:'price_1PBZ0hCWmau5QjSxaOe2VGc4',currency:'eur',product:{id:'prod_Q1cFnL9fo9QuMm'},recurring:{interval:'year'},unit_amount_decimal:'159000',tiers:null},{id:'price_1PBZ0hCWmau5QjSxXLdLYHew',currency:'gbp',product:{id:'prod_Q1cFnL9fo9QuMm'},recurring:{interval:'month'},unit_amount_decimal:'14500',tiers:null},{id:'price_1PBZ0hCWmau5QjSxALWpa3fM',currency:'gbp',product:{id:'prod_Q1cFnL9fo9QuMm'},recurring:{interval:'year'},unit_amount_decimal:'145000',tiers:null},{id:'price_1PBZ0gCWmau5QjSxRq58BUiP',currency:'usd',product:{id:'prod_Q1cFSQO7N6MumR'},recurring:{interval:'month'},unit_amount_decimal:'0',tiers:null},{id:'price_1PBZ0gCWmau5QjSxtLFHzi3U',currency:'usd',product:{id:'prod_Q1cFSQO7N6MumR'},recurring:{interval:'year'},unit_amount_decimal:'0',tiers:null},{id:'price_1PBZ0gCWmau5QjSxrnwVxrkh',currency:'eur',product:{id:'prod_Q1cFSQO7N6MumR'},recurring:{interval:'month'},unit_amount_decimal:'0',tiers:null},{id:'price_1PBZ0gCWmau5QjSxpSSGEDL2',currency:'gbp',product:{id:'prod_Q1cFSQO7N6MumR'},recurring:{interval:'month'},unit_amount_decimal:'0',tiers:null},{id:'price_1PBZ0gCWmau5QjSxmWiuSrGe',currency:'eur',product:{id:'prod_Q1cFSQO7N6MumR'},recurring:{interval:'year'},unit_amount_decimal:'0',tiers:null},{id:'price_1PBZ0gCWmau5QjSxrJlZ47Df',currency:'gbp',product:{id:'prod_Q1cFSQO7N6MumR'},recurring:{interval:'year'},unit_amount_decimal:'0',tiers:null}]},products:{data:[{id:'prod_Q1cF2YR3vIQgfG',name:'Extra Widget',metadata:{slug:'extra-widget'}},{id:'prod_Q1cFccB7B3El62',name:'Emails',metadata:{slug:'emails'}},{id:'prod_Q1cF7NkaBWSnJ6',name:'Extra Collaborator',metadata:{slug:'extra-collaborator'}},{id:'prod_Q1cFM6lqPW6N0R',name:'Extra Project',metadata:{slug:'extra-project'}},{id:'prod_Q1cFXMyZrpu2XW',name:'Enterprise Plan',metadata:{plan:'true',slug:'enterprise'}},{id:'prod_Q1cF3HLTcPvk9E',name:'Starter Plan',metadata:{plan:'true',slug:'starter'}},{id:'prod_Q1cFYsA3qTw49u',name:'Open Source Plan',metadata:{hidden:'true',plan:'true',slug:'opensource'}},{id:'prod_Q1cFIrta8dbPmM',name:'Growth Plan',metadata:{plan:'true',slug:'growth'}},{id:'prod_Q1cFQ5z9VMiGP2',name:'Free Plan',metadata:{plan:'true',slug:'free'}},{id:'prod_Q1cFnL9fo9QuMm',name:'Business Plan',metadata:{plan:'true',slug:'business'}},{id:'prod_Q1cFSQO7N6MumR',name:'Academic Plan',metadata:{hidden:'true',plan:'true',slug:'academic'}}]}},staging:{prices:{data:[{id:'price_1PCyMTCWmau5QjSxdYV6ONO0',currency:'usd',product:{id:'prod_Q0UyfY0EDYiuDQ'},recurring:{interval:'month'},unit_amount_decimal:null,tiers:[{flat_amount:null,flat_amount_decimal:null,unit_amount:null,unit_amount_decimal:'0.5',up_to:1e3},{flat_amount:null,flat_amount_decimal:null,unit_amount:null,unit_amount_decimal:'0.2',up_to:1e4},{flat_amount:null,flat_amount_decimal:null,unit_amount:null,unit_amount_decimal:'0.1',up_to:1e5},{flat_amount:null,flat_amount_decimal:null,unit_amount:null,unit_amount_decimal:'0.9',up_to:1e6},{flat_amount:null,flat_amount_decimal:null,unit_amount:null,unit_amount_decimal:'0.8',up_to:null}]},{id:'price_1PBYO8CWmau5QjSxgFYmazuC',currency:'gbp',product:{id:'prod_Q0UyfY0EDYiuDQ'},recurring:{interval:'year'},unit_amount_decimal:null,tiers:[{flat_amount:null,flat_amount_decimal:null,unit_amount:null,unit_amount_decimal:'0.45',up_to:1e3},{flat_amount:null,flat_amount_decimal:null,unit_amount:null,unit_amount_decimal:'0.18',up_to:1e4},{flat_amount:null,flat_amount_decimal:null,unit_amount:null,unit_amount_decimal:'0.09',up_to:1e5},{flat_amount:null,flat_amount_decimal:null,unit_amount:null,unit_amount_decimal:'0.08',up_to:1e6},{flat_amount:null,flat_amount_decimal:null,unit_amount:null,unit_amount_decimal:'0.075',up_to:null}]},{id:'price_1PBYMHCWmau5QjSxqSFmEs9i',currency:'gbp',product:{id:'prod_Q0UyfY0EDYiuDQ'},recurring:{interval:'month'},unit_amount_decimal:null,tiers:[{flat_amount:0,flat_amount_decimal:'0',unit_amount:null,unit_amount_decimal:'0.45',up_to:1e3},{flat_amount:0,flat_amount_decimal:'0',unit_amount:null,unit_amount_decimal:'0.18',up_to:1e4},{flat_amount:0,flat_amount_decimal:'0',unit_amount:null,unit_amount_decimal:'0.09',up_to:1e5},{flat_amount:0,flat_amount_decimal:'0',unit_amount:null,unit_amount_decimal:'0.08',up_to:1e6},{flat_amount:0,flat_amount_decimal:'0',unit_amount:null,unit_amount_decimal:'0.075',up_to:null}]},{id:'price_1PBYJQCWmau5QjSxD6Icvbgz',currency:'eur',product:{id:'prod_Q0UyfY0EDYiuDQ'},recurring:{interval:'year'},unit_amount_decimal:null,tiers:[{flat_amount:0,flat_amount_decimal:'0',unit_amount:null,unit_amount_decimal:'0.5',up_to:1e3},{flat_amount:0,flat_amount_decimal:'0',unit_amount:null,unit_amount_decimal:'0.2',up_to:1e4},{flat_amount:0,flat_amount_decimal:'0',unit_amount:null,unit_amount_decimal:'0.1',up_to:1e5},{flat_amount:0,flat_amount_decimal:'0',unit_amount:null,unit_amount_decimal:'0.09',up_to:1e6},{flat_amount:0,flat_amount_decimal:'0',unit_amount:null,unit_amount_decimal:'0.08',up_to:null}]},{id:'price_1PBYIcCWmau5QjSxJ9Xo3rBl',currency:'eur',product:{id:'prod_Q0UyfY0EDYiuDQ'},recurring:{interval:'month'},unit_amount_decimal:null,tiers:[{flat_amount:0,flat_amount_decimal:'0',unit_amount:null,unit_amount_decimal:'0.5',up_to:1e3},{flat_amount:0,flat_amount_decimal:'0',unit_amount:null,unit_amount_decimal:'0.2',up_to:1e4},{flat_amount:0,flat_amount_decimal:'0',unit_amount:null,unit_amount_decimal:'0.1',up_to:1e5},{flat_amount:0,flat_amount_decimal:'0',unit_amount:null,unit_amount_decimal:'0.09',up_to:1e6},{flat_amount:0,flat_amount_decimal:'0',unit_amount:null,unit_amount_decimal:'0.08',up_to:null}]},{id:'price_1PBYDbCWmau5QjSxJSQVbcfo',currency:'gbp',product:{id:'prod_Q0UisTld69vTHI'},recurring:{interval:'year'},unit_amount_decimal:'8000',tiers:null},{id:'price_1PBYBQCWmau5QjSxg9qLBY1v',currency:'gbp',product:{id:'prod_Q0UisTld69vTHI'},recurring:{interval:'month'},unit_amount_decimal:'800',tiers:null},{id:'price_1PBYBCCWmau5QjSxzbPaYJ8R',currency:'eur',product:{id:'prod_Q0UisTld69vTHI'},recurring:{interval:'year'},unit_amount_decimal:'9000',tiers:null},{id:'price_1PBYB1CWmau5QjSxlVwaYcHj',currency:'eur',product:{id:'prod_Q0UisTld69vTHI'},recurring:{interval:'month'},unit_amount_decimal:'900',tiers:null},{id:'price_1PBYAbCWmau5QjSxTNdLcAfK',currency:'gbp',product:{id:'prod_Q0qxhxPkizrrPs'},recurring:{interval:'year'},unit_amount_decimal:'6000',tiers:null},{id:'price_1PBYAPCWmau5QjSxy4CFpjgf',currency:'gbp',product:{id:'prod_Q0qxhxPkizrrPs'},recurring:{interval:'month'},unit_amount_decimal:'600',tiers:null},{id:'price_1PBYADCWmau5QjSxQT2yr6ex',currency:'eur',product:{id:'prod_Q0qxhxPkizrrPs'},recurring:{interval:'year'},unit_amount_decimal:'7000',tiers:null},{id:'price_1PBYA4CWmau5QjSxpu1M4OUX',currency:'eur',product:{id:'prod_Q0qxhxPkizrrPs'},recurring:{interval:'month'},unit_amount_decimal:'700',tiers:null},{id:'price_1PBY8sCWmau5QjSxctW2KXsZ',currency:'gbp',product:{id:'prod_Q0s19dt1NolBBY'},recurring:{interval:'year'},unit_amount_decimal:'0',tiers:null},{id:'price_1PBY8ZCWmau5QjSxWL5GkcJU',currency:'gbp',product:{id:'prod_Q0s19dt1NolBBY'},recurring:{interval:'month'},unit_amount_decimal:'0',tiers:null},{id:'price_1PBY8RCWmau5QjSxTRvbH85A',currency:'eur',product:{id:'prod_Q0s19dt1NolBBY'},recurring:{interval:'year'},unit_amount_decimal:'0',tiers:null},{id:'price_1PBY8ICWmau5QjSxH78xw52V',currency:'eur',product:{id:'prod_Q0s19dt1NolBBY'},recurring:{interval:'month'},unit_amount_decimal:'0',tiers:null},{id:'price_1PBKwkCWmau5QjSxydjmYJ5l',currency:'gbp',product:{id:'prod_Q0rQxTm8npa1aV'},recurring:{interval:'year'},unit_amount_decimal:'25000',tiers:null},{id:'price_1PBKwGCWmau5QjSx85YlXIsN',currency:'gbp',product:{id:'prod_Q0rQxTm8npa1aV'},recurring:{interval:'month'},unit_amount_decimal:'2500',tiers:null},{id:'price_1PBKw3CWmau5QjSxAwNWPsDn',currency:'eur',product:{id:'prod_Q0rQxTm8npa1aV'},recurring:{interval:'year'},unit_amount_decimal:'30000',tiers:null},{id:'price_1PBKvcCWmau5QjSxspuOeSox',currency:'eur',product:{id:'prod_Q0rQxTm8npa1aV'},recurring:{interval:'month'},unit_amount_decimal:'3000',tiers:null},{id:'price_1PBKurCWmau5QjSxGq9T8Eac',currency:'gbp',product:{id:'prod_Q0rXdmyZ1GGHio'},recurring:{interval:'year'},unit_amount_decimal:'399900',tiers:null},{id:'price_1PBKuYCWmau5QjSx6c0zINl4',currency:'gbp',product:{id:'prod_Q0rXdmyZ1GGHio'},recurring:{interval:'month'},unit_amount_decimal:'39900',tiers:null},{id:'price_1PBKtvCWmau5QjSxNp45guAo',currency:'eur',product:{id:'prod_Q0rXdmyZ1GGHio'},recurring:{interval:'year'},unit_amount_decimal:'399900',tiers:null},{id:'price_1PBKtfCWmau5QjSxnbWbH1uw',currency:'eur',product:{id:'prod_Q0rXdmyZ1GGHio'},recurring:{interval:'month'},unit_amount_decimal:'39900',tiers:null},{id:'price_1PBH2iCWmau5QjSx3qeFutvC',currency:'gbp',product:{id:'prod_Q0rduFPFcCJAzf'},recurring:{interval:'year'},unit_amount_decimal:'27000',tiers:null},{id:'price_1PBH2XCWmau5QjSxCT5WU7eM',currency:'gbp',product:{id:'prod_Q0rduFPFcCJAzf'},recurring:{interval:'month'},unit_amount_decimal:'2700',tiers:null},{id:'price_1PBH2ICWmau5QjSxQFMduqOo',currency:'eur',product:{id:'prod_Q0rduFPFcCJAzf'},recurring:{interval:'year'},unit_amount_decimal:'29000',tiers:null},{id:'price_1PBH2BCWmau5QjSxP54TSgUw',currency:'eur',product:{id:'prod_Q0rduFPFcCJAzf'},recurring:{interval:'month'},unit_amount_decimal:'2900',tiers:null},{id:'price_1PBGwbCWmau5QjSxzTVTSugO',currency:'gbp',product:{id:'prod_Q0sUgkYiK7Vv59'},recurring:{interval:'year'},unit_amount_decimal:'72000',tiers:null},{id:'price_1PBGwECWmau5QjSxUkp0wkQg',currency:'gbp',product:{id:'prod_Q0sUgkYiK7Vv59'},recurring:{interval:'month'},unit_amount_decimal:'7200',tiers:null},{id:'price_1PBGvyCWmau5QjSxHJTbtCEi',currency:'eur',product:{id:'prod_Q0sUgkYiK7Vv59'},recurring:{interval:'month'},unit_amount_decimal:'7900',tiers:null},{id:'price_1PBGvqCWmau5QjSx0eAnx3vg',currency:'eur',product:{id:'prod_Q0sUgkYiK7Vv59'},recurring:{interval:'year'},unit_amount_decimal:'79000',tiers:null},{id:'price_1PBCM7CWmau5QjSx11JYfwKq',currency:'gbp',product:{id:'prod_Q0savL5ZM2ortD'},recurring:{interval:'year'},unit_amount_decimal:'0',tiers:null},{id:'price_1PBCLwCWmau5QjSxnAREEKEk',currency:'gbp',product:{id:'prod_Q0savL5ZM2ortD'},recurring:{interval:'month'},unit_amount_decimal:'0',tiers:null},{id:'price_1PBCLlCWmau5QjSxv6Xlba2B',currency:'eur',product:{id:'prod_Q0savL5ZM2ortD'},recurring:{interval:'year'},unit_amount_decimal:'0',tiers:null},{id:'price_1PBCLdCWmau5QjSxSz90Hnxy',currency:'eur',product:{id:'prod_Q0savL5ZM2ortD'},recurring:{interval:'month'},unit_amount_decimal:'0',tiers:null},{id:'price_1PBCKyCWmau5QjSxIp1Uk9DB',currency:'gbp',product:{id:'prod_Q0tBRb9w48WSz3'},recurring:{interval:'year'},unit_amount_decimal:'145000',tiers:null},{id:'price_1PBCKlCWmau5QjSxZUD8YOwS',currency:'gbp',product:{id:'prod_Q0tBRb9w48WSz3'},recurring:{interval:'month'},unit_amount_decimal:'14500',tiers:null},{id:'price_1PBCKTCWmau5QjSxYK9TXsmn',currency:'eur',product:{id:'prod_Q0tBRb9w48WSz3'},recurring:{interval:'year'},unit_amount_decimal:'159000',tiers:null},{id:'price_1PBCKJCWmau5QjSx0m5sBsm6',currency:'eur',product:{id:'prod_Q0tBRb9w48WSz3'},recurring:{interval:'month'},unit_amount_decimal:'15900',tiers:null},{id:'price_1PBCIzCWmau5QjSxJL1cBgTc',currency:'gbp',product:{id:'prod_Q0tDASSvq3TH3r'},recurring:{interval:'year'},unit_amount_decimal:'0',tiers:null},{id:'price_1PBCIGCWmau5QjSx4MxCI2bI',currency:'eur',product:{id:'prod_Q0tDASSvq3TH3r'},recurring:{interval:'year'},unit_amount_decimal:'0',tiers:null},{id:'price_1PBCI4CWmau5QjSxcXHmb7ml',currency:'gbp',product:{id:'prod_Q0tDASSvq3TH3r'},recurring:{interval:'month'},unit_amount_decimal:'0',tiers:null},{id:'price_1PBCHrCWmau5QjSxqaKdy5wC',currency:'eur',product:{id:'prod_Q0tDASSvq3TH3r'},recurring:{interval:'month'},unit_amount_decimal:'0',tiers:null},{id:'price_1PArUMCWmau5QjSxEqW8ncVU',currency:'usd',product:{id:'prod_Q0tDASSvq3TH3r'},recurring:{interval:'year'},unit_amount_decimal:'0',tiers:null},{id:'price_1PArR6CWmau5QjSx5jgbtAqJ',currency:'usd',product:{id:'prod_Q0tDASSvq3TH3r'},recurring:{interval:'month'},unit_amount_decimal:'0',tiers:null},{id:'price_1PArQZCWmau5QjSxiYCtmDSG',currency:'usd',product:{id:'prod_Q0tBRb9w48WSz3'},recurring:{interval:'year'},unit_amount_decimal:'159000',tiers:null},{id:'price_1PArOvCWmau5QjSxLc3w8Xcm',currency:'usd',product:{id:'prod_Q0tBRb9w48WSz3'},recurring:{interval:'month'},unit_amount_decimal:'15900',tiers:null},{id:'price_1PAqqPCWmau5QjSxdTC4M4bB',currency:'usd',product:{id:'prod_Q0savL5ZM2ortD'},recurring:{interval:'year'},unit_amount_decimal:'0',tiers:null},{id:'price_1PAqpbCWmau5QjSxE2MCuqbP',currency:'usd',product:{id:'prod_Q0savL5ZM2ortD'},recurring:{interval:'month'},unit_amount_decimal:'0',tiers:null},{id:'price_1PAqmlCWmau5QjSxS1Ashiu2',currency:'usd',product:{id:'prod_Q0sUgkYiK7Vv59'},recurring:{interval:'year'},unit_amount_decimal:'79000',tiers:null},{id:'price_1PAqjKCWmau5QjSxuVekJRMm',currency:'usd',product:{id:'prod_Q0sUgkYiK7Vv59'},recurring:{interval:'month'},unit_amount_decimal:'7900',tiers:null},{id:'price_1PAqJLCWmau5QjSxnvhGRB4I',currency:'usd',product:{id:'prod_Q0s19dt1NolBBY'},recurring:{interval:'year'},unit_amount_decimal:'0',tiers:null},{id:'price_1PAqHJCWmau5QjSxA6hiYg6X',currency:'usd',product:{id:'prod_Q0s19dt1NolBBY'},recurring:{interval:'month'},unit_amount_decimal:'0',tiers:null},{id:'price_1PApvyCWmau5QjSxdbrNNfeJ',currency:'usd',product:{id:'prod_Q0rduFPFcCJAzf'},recurring:{interval:'year'},unit_amount_decimal:'29000',tiers:null},{id:'price_1PApuhCWmau5QjSxj7rkNOVC',currency:'usd',product:{id:'prod_Q0rduFPFcCJAzf'},recurring:{interval:'month'},unit_amount_decimal:'2900',tiers:null},{id:'price_1PAppuCWmau5QjSxLartdmPi',currency:'usd',product:{id:'prod_Q0rXdmyZ1GGHio'},recurring:{interval:'year'},unit_amount_decimal:'399900',tiers:null},{id:'price_1PApoPCWmau5QjSxumPqklgh',currency:'usd',product:{id:'prod_Q0rXdmyZ1GGHio'},recurring:{interval:'month'},unit_amount_decimal:'39900',tiers:null},{id:'price_1PApjdCWmau5QjSx0ILALEPN',currency:'usd',product:{id:'prod_Q0rQxTm8npa1aV'},recurring:{interval:'year'},unit_amount_decimal:'30000',tiers:null},{id:'price_1PAphhCWmau5QjSxTnyBHyjU',currency:'usd',product:{id:'prod_Q0rQxTm8npa1aV'},recurring:{interval:'month'},unit_amount_decimal:'3000',tiers:null},{id:'price_1PApekCWmau5QjSxQxsqEpYL',currency:'usd',product:{id:'prod_Q0UisTld69vTHI'},recurring:{interval:'year'},unit_amount_decimal:'9000',tiers:null},{id:'price_1PApUiCWmau5QjSxpaSVm91O',currency:'usd',product:{id:'prod_Q0qxhxPkizrrPs'},recurring:{interval:'year'},unit_amount_decimal:'7000',tiers:null},{id:'price_1PApFDCWmau5QjSx7d3WRxem',currency:'usd',product:{id:'prod_Q0qxhxPkizrrPs'},recurring:{interval:'month'},unit_amount_decimal:'700',tiers:null},{id:'price_1PAU82CWmau5QjSxAWNrbZUd',currency:'usd',product:{id:'prod_Q0UyfY0EDYiuDQ'},recurring:{interval:'year'},unit_amount_decimal:null,tiers:[{flat_amount:0,flat_amount_decimal:'0',unit_amount:null,unit_amount_decimal:'0.5',up_to:1e3},{flat_amount:0,flat_amount_decimal:'0',unit_amount:null,unit_amount_decimal:'0.2',up_to:1e4},{flat_amount:0,flat_amount_decimal:'0',unit_amount:null,unit_amount_decimal:'0.1',up_to:1e5},{flat_amount:0,flat_amount_decimal:'0',unit_amount:null,unit_amount_decimal:'0.09',up_to:1e6},{flat_amount:0,flat_amount_decimal:'0',unit_amount:null,unit_amount_decimal:'0.08',up_to:null}]},{id:'price_1PATj3CWmau5QjSx6J6IGxPo',currency:'usd',product:{id:'prod_Q0UisTld69vTHI'},recurring:{interval:'month'},unit_amount_decimal:'900',tiers:null}]},products:{data:[{id:'prod_Q0tDASSvq3TH3r',name:'Academic Plan',metadata:{hidden:'true',plan:'true',slug:'academic'}},{id:'prod_Q0tBRb9w48WSz3',name:'Business Plan',metadata:{plan:'true',slug:'business'}},{id:'prod_Q0savL5ZM2ortD',name:'Free Plan',metadata:{plan:'true',slug:'free'}},{id:'prod_Q0sUgkYiK7Vv59',name:'Growth Plan',metadata:{plan:'true',slug:'growth'}},{id:'prod_Q0s19dt1NolBBY',name:'Open Source Plan',metadata:{hidden:'true',plan:'true',slug:'opensource'}},{id:'prod_Q0rduFPFcCJAzf',name:'Starter Plan',metadata:{plan:'true',slug:'starter'}},{id:'prod_Q0rXdmyZ1GGHio',name:'Enterprise Plan',metadata:{plan:'true',slug:'enterprise'}},{id:'prod_Q0rQxTm8npa1aV',name:'Extra Project',metadata:{slug:'extra-project'}},{id:'prod_Q0qxhxPkizrrPs',name:'Extra Collaborator',metadata:{slug:'extra-collaborator'}},{id:'prod_Q0UyfY0EDYiuDQ',name:'Emails',metadata:{slug:'emails'}},{id:'prod_Q0UisTld69vTHI',name:'Extra Widget',metadata:{slug:'extra-widget'}}]}}};class Ka{static DEFAULT_CURRENCY_ABBREVIATION='USD';static DEFAULT_CURRENCY_SYMBOL='$';static DEFAULT_REGION_IDENTIFIER='US';static LOCALE_CURRENCY_MAP={AD:'EUR',AE:'AED',AF:'AFN',AG:'XCD',AI:'XCD',AL:'ALL',AM:'AMD',AN:'ANG',AO:'AOA',AR:'ARS',AS:'USD',AT:'EUR',AU:'AUD',AW:'AWG',AX:'EUR',AZ:'AZN',BA:'BAM',BB:'BBD',BD:'BDT',BE:'EUR',BF:'XOF',BG:'BGN',BH:'BHD',BI:'BIF',BJ:'XOF',BL:'EUR',BM:'BMD',BN:'BND',BO:'BOB',BQ:'USD',BR:'BRL',BS:'BSD',BT:'BTN',BV:'NOK',BW:'BWP',BY:'BYR',BZ:'BZD',CA:'CAD',CC:'AUD',CD:'CDF',CF:'XAF',CG:'XAF',CH:'CHF',CI:'XOF',CK:'NZD',CL:'CLP',CM:'XAF',CN:'CNY',CO:'COP',CR:'CRC',CU:'CUP',CV:'CVE',CW:'ANG',CX:'AUD',CY:'EUR',CZ:'CZK',DE:'EUR',DJ:'DJF',DK:'DKK',DM:'XCD',DO:'DOP',DZ:'DZD',EC:'USD',EE:'EUR',EG:'EGP',EH:'MAD',ER:'ERN',ES:'EUR',ET:'ETB',FI:'EUR',FJ:'FJD',FK:'FKP',FM:'USD',FO:'DKK',FR:'EUR',GA:'XAF',GB:'GBP',GD:'XCD',GE:'GEL',GF:'EUR',GG:'GBP',GH:'GHS',GI:'GIP',GL:'DKK',GM:'GMD',GN:'GNF',GP:'EUR',GQ:'XAF',GR:'EUR',GS:'GBP',GT:'GTQ',GU:'USD',GW:'XOF',GY:'GYD',HK:'HKD',HM:'AUD',HN:'HNL',HR:'HRK',HT:'HTG',HU:'HUF',ID:'IDR',IE:'EUR',IL:'ILS',IM:'GBP',IN:'INR',IO:'USD',IQ:'IQD',IR:'IRR',IS:'ISK',IT:'EUR',JE:'GBP',JM:'JMD',JO:'JOD',JP:'JPY',KE:'KES',KG:'KGS',KH:'KHR',KI:'AUD',KM:'KMF',KN:'XCD',KP:'KPW',KR:'KRW',KW:'KWD',KY:'KYD',KZ:'KZT',LA:'LAK',LB:'LBP',LC:'XCD',LI:'CHF',LK:'LKR',LR:'LRD',LS:'LSL',LT:'EUR',LU:'EUR',LV:'EUR',LY:'LYD',MA:'MAD',MC:'EUR',MD:'MDL',ME:'EUR',MF:'EUR',MG:'MGA',MH:'USD',MK:'MKD',ML:'XOF',MM:'MMK',MN:'MNT',MO:'MOP',MP:'USD',MQ:'EUR',MR:'MRO',MS:'XCD',MT:'EUR',MU:'MUR',MV:'MVR',MW:'MWK',MX:'MXN',MY:'MYR',MZ:'MZN',NA:'NAD',NC:'XPF',NE:'XOF',NF:'AUD',NG:'NGN',NI:'NIO',NL:'EUR',NO:'NOK',NP:'NPR',NR:'AUD',NU:'NZD',NZ:'NZD',OM:'OMR',PA:'PAB',PE:'PEN',PF:'XPF',PG:'PGK',PH:'PHP',PK:'PKR',PL:'PLN',PM:'EUR',PN:'NZD',PR:'USD',PS:'ILS',PT:'EUR',PW:'USD',PY:'PYG',QA:'QAR',RE:'EUR',RO:'RON',RS:'RSD',RU:'RUB',RW:'RWF',SA:'SAR',SB:'SBD',SC:'SCR',SD:'SDG',SE:'SEK',SG:'SGD',SH:'SHP',SI:'EUR',SJ:'NOK',SK:'EUR',SL:'SLL',SM:'EUR',SN:'XOF',SO:'SOS',SR:'SRD',SS:'SSP',ST:'STD',SV:'SVC',SX:'ANG',SY:'SYP',SZ:'SZL',TC:'USD',TD:'XAF',TF:'EUR',TG:'XOF',TH:'THB',TJ:'TJS',TK:'NZD',TL:'USD',TM:'TMT',TN:'TND',TO:'TOP',TR:'TRY',TT:'TTD',TV:'AUD',TW:'TWD',TZ:'TZS',UA:'UAH',UG:'UGX',UM:'USD',US:'USD',UY:'UYU',UZ:'UZS',VA:'EUR',VC:'XCD',VE:'VEF',VG:'USD',VI:'USD',VN:'VND',VU:'VUV',WF:'XPF',WS:'WST',YE:'YER',YT:'EUR',ZA:'ZAR',ZM:'ZMW',ZW:'ZWL'};static getCurrencyAbbreviation(e){const t=Ka.LOCALE_CURRENCY_MAP[Ka.getRegionIdentifier(e).toUpperCase()];return!t||'GBP'!==t&&'EUR'!==t&&'USD'!==t?Ka.DEFAULT_CURRENCY_ABBREVIATION:t.toUpperCase()}static getRegionIdentifier(e){if(!e)return Ka.DEFAULT_REGION_IDENTIFIER;let t=e.split('_');return 2===t.length?t.pop():(t=e.split('-'),2===t.length?t.pop():e.toUpperCase())}static getPrimaryLocale(e){return e?e.split(',')[0]:Ka.DEFAULT_REGION_IDENTIFIER}static getCurrencySymbol(e){if(!e)return Ka.DEFAULT_CURRENCY_SYMBOL;switch(e.toUpperCase()){case'EUR':return'€';case'GBP':return'£';default:return Ka.DEFAULT_CURRENCY_SYMBOL}}}class qa{code;name;symbol;constructor(e,t,i){this.code=e,this.name=t,this.symbol=i}format(e,t){return new Intl.NumberFormat(t||'en-US',{style:'currency',currency:this.code,minimumFractionDigits:0,maximumFractionDigits:0}).format(e)}}class Xa extends qa{constructor(){super('EUR','Euro','€')}}class Za extends qa{constructor(){super('GBP','Pound Sterling','£')}}class Ja extends qa{constructor(){super('USD','United States Dollar','$')}}class eo{static EURO=new Xa;static POUND_STERLING=new Za;static UNITED_STATES_DOLLAR=new Ja;static from(e){return eo.values().find((t=>t.code===e.toUpperCase()))}static fromAcceptLanguage(e){return eo.fromLocale(Ka.getPrimaryLocale(e))}static fromLocale(e){return eo.from(Ka.getCurrencyAbbreviation(e))}static values(){return[eo.EURO,eo.POUND_STERLING,eo.UNITED_STATES_DOLLAR]}}var to,io,no,so,ro,ao,oo,lo,co,uo,po,ho,mo,fo,go,_o,yo,vo,wo,bo,Eo,So,To,Io,Ao,Co;!function(e){e.MONTH='month',e.YEAR='year'}(to||(to={}));class Oo{static from(e){return'month'===e?to.MONTH:'year'===e?to.YEAR:null}}!function(e){e.DEVELOPMENT='development',e.PRODUCTION='production',e.STAGING='staging'}(io||(io={}));class Po{static ACTIVE=void 0;static setActive(e){Po.ACTIVE='string'==typeof e?Po.from(e):e}static getActive(){return void 0===Po.ACTIVE&&(process?.env?.NOTICEABLE_ENV?Po.ACTIVE=Po.from(process.env.NOTICEABLE_ENV):Po.ACTIVE=io.PRODUCTION),Po.ACTIVE}static from(e){return'development'===e?io.DEVELOPMENT:'production'===e?io.PRODUCTION:'staging'===e?io.STAGING:null}}class No{name;constructor(e){this.name=e}isSupportedBy(e){return e.includes(this)}}class Lo{static APPEARANCE_CUSTOMIZATION=new No('Appearance Customization');static AUTO_REFRESH=new No('Auto-refresh');static CODE_INJECTION=new No('Code Injection (CSS & JavaScript)');static CROSS_DEVICE_SYNCHRONIZATION=new No('Cross-Device Synchronization');static DASHBOARD_SINGLE_SIGN_ON=new No('Dashboard Single Sign-On');static DISABLE_NEWSPAGES=new No('Disable Newspages');static DISCORD_INTEGRATION=new No('Discord Integration');static EMAIL_ACTIVITIES=new No('Email Activities');static EMAIL_CUSTOM_DOMAINS=new No('Custom From Email Domain');static EMAIL_PREFERENCE_CENTER_WIDGET=new No('Email Preference Center Widget');static EMAIL_SENDING=new No('Email Sending');static EMAIL_SUBSCRIPTION_FORM_WIDGET=new No('Email Subscription Form Widget');static EMOJI_REACTIONS=new No('Emoji Reactions');static END_USER_IDENTIFICATION=new No('End-user Identification');static END_USER_SINGLE_SIGN_ON=new No('End-user Single Sign-On');static EXPIRING_PUBLICATIONS=new No('Expiring Publications');static GRAPHQL_API=new No('GraphQL API');static IP_FILTERING=new No('IP Access Control');static MODAL_WIDGET=new No('Modal Widget');static NESTED_LABELS=new No('Nested Labels');static NEWSPAGE_CUSTOM_DOMAINS=new No('Newspage Custom Domain with HTTPs');static NEWSPAGE_EMBED_WIDGET=new No('Newspage Embed Widget');static PINNED_PUBLICATIONS=new No('Pinned Publications');static POPUP_WIDGET=new No('Popup Widget');static PRIVATE_LABELS=new No('Private Labels');static PRIVATE_NEWSPAGES=new No('Private Newspages');static PRIVATE_NEWSPAGES_TOKEN_AUTHENTICATION=new No('Proxy-based Authentication');static PROJECT_ANALYTICS=new No('Project Analytics');static PUBLICATION_ANALYTICS=new No('Publication Analytics');static PUBLICATION_COPY_TRANSLATION=new No('Publication Copy Translation');static PUBLICATION_SCHEDULING=new No('Publication Scheduling');static REDIRECTION_WIDGET=new No('Redirection Widget');static SEGMENTATION=new No('Publication Segmentation');static SINGLE_OPT_IN_SUBSCRIPTIONS=new No('Single Opt-In Subscriptions');static SLACK_INTEGRATION=new No('Slack Integration');static TOP_BANNER_WIDGET=new No('Top Banner Widget');static USER_FEEDBACK=new No('User Feedback');static WEB_NOTIFICATIONS=new No('Web Notifications');static WHITE_LABEL=new No('White Label');static ZAPIER_INTEGRATION=new No('Zapier Integration');static from(e){for(const t in Lo)if(t.toString()===e)return Lo[t];return null}}class xo{currency;cycle;id;tiers;value;constructor(e,t,i,n,s){this.currency=e,this.cycle=t,this.id=i,this.tiers=n,this.value=s}isTiered(){return null===this.value||void 0===this.value}}class Ro{flatAmount;unitAmount;upTo;constructor(e,t,i){this.flatAmount=e,this.unitAmount=t,this.upTo=i}}class Do{tiers;constructor(e){this.tiers=e}computeGraduatedPrice(e,t){let i=0,n=0,s=e,r=t;for(const e of this.tiers){const t=null===e.upTo||void 0===e.upTo?Number.MAX_SAFE_INTEGER:e.upTo,a=s<n||s>t;if(n=t,a){if(r>0)continue;break}const o=s+r>t?t-s:r;i+=o*e.unitAmount,s+=o,r-=o}return i}}class Mo{static PRODUCTION_PRICES_BY_ID;static PRODUCTION_PRICES_BY_CURRENCY;static STAGING_PRICES_BY_ID;static STAGING_PRICES_BY_CURRENCY;productId;static load(e){const t=new Map,i=new Map;for(const n of Qa[e].prices.data){const e=n.product.id,s=eo.from(n.currency)??eo.UNITED_STATES_DOLLAR,r=Oo.from(n.recurring.interval)??to.MONTH,a=n.unit_amount_decimal?parseFloat(n.unit_amount_decimal)/100:null,o=n.tiers?new Do(n.tiers.map((e=>new Ro(e.flat_amount_decimal?parseFloat(e.flat_amount_decimal)/100:null,e.unit_amount_decimal?parseFloat(e.unit_amount_decimal)/100:null,e.up_to)))):null;let l=t.get(e);l||(l=new Map);const c=new xo(s,r,n.id,o,a);l.set(n.id,c),t.set(e,l);let d=i.get(e);d||(d=new Map);let u=d.get(s);u||(u=new Map),u.set(r,c),d.set(s,u),i.set(e,d)}return{pricesById:t,pricesByCurrency:i}}constructor(e){this.productId=e}findById(e){return Mo.getPricesById().get(this.productId)?.get(e)}findByCurrencyCycle(e,t){const i=Mo.getPricesByCurrency().get(this.productId)?.get(e);return i?i.get(t):null}values(){return Array.from(Mo.getPricesById().get(this.productId).values())}static getPricesByCurrency(){if(Po.getActive()===io.PRODUCTION){if(void 0===Mo.PRODUCTION_PRICES_BY_CURRENCY){const e=Mo.load(io.PRODUCTION);Mo.PRODUCTION_PRICES_BY_ID=e.pricesById,Mo.PRODUCTION_PRICES_BY_CURRENCY=e.pricesByCurrency}return Mo.PRODUCTION_PRICES_BY_CURRENCY}if(void 0===Mo.STAGING_PRICES_BY_CURRENCY){const e=Mo.load(io.STAGING);Mo.STAGING_PRICES_BY_ID=e.pricesById,Mo.STAGING_PRICES_BY_CURRENCY=e.pricesByCurrency}return Mo.STAGING_PRICES_BY_CURRENCY}static getPricesById(){if(Po.getActive()===io.PRODUCTION){if(void 0===Mo.PRODUCTION_PRICES_BY_ID){const e=Mo.load(io.PRODUCTION);Mo.PRODUCTION_PRICES_BY_ID=e.pricesById,Mo.PRODUCTION_PRICES_BY_CURRENCY=e.pricesByCurrency}return Mo.PRODUCTION_PRICES_BY_ID}if(void 0===Mo.STAGING_PRICES_BY_ID){const e=Mo.load(io.STAGING);Mo.STAGING_PRICES_BY_ID=e.pricesById,Mo.STAGING_PRICES_BY_CURRENCY=e.pricesByCurrency}return Mo.STAGING_PRICES_BY_ID}}class ko{id;metadata;prices;slug;title;constructor(e,t,i){this.id=e,this.metadata=i,this.prices=new Mo(e),this.slug=i?.slug||t.toLocaleLowerCase().replace(/ /g,'-'),this.title=t}isFree(){return this.prices.values().every((e=>0===e.value))}}class Bo{static PRODUCTION_PRODUCTS_BY_ID;static PRODUCTION_PRODUCTS_BY_SLUG;static STAGING_PRODUCTS_BY_ID;static STAGING_PRODUCTS_BY_SLUG;static load(){const e=new Map,t=new Map;for(const i of Qa[Po.getActive()].products.data){const n=new ko(i.id,i.name,i.metadata);e.set(i.id,n),t.set(n.slug,n)}return{productsById:e,productsBySlug:t}}static getProductsById(){if(Po.getActive()===io.PRODUCTION){if(void 0===Bo.PRODUCTION_PRODUCTS_BY_ID){const e=Bo.load();Bo.PRODUCTION_PRODUCTS_BY_ID=e.productsById,Bo.PRODUCTION_PRODUCTS_BY_SLUG=e.productsBySlug}return Bo.PRODUCTION_PRODUCTS_BY_ID}if(void 0===Bo.STAGING_PRODUCTS_BY_ID){const e=Bo.load();Bo.STAGING_PRODUCTS_BY_ID=e.productsById,Bo.STAGING_PRODUCTS_BY_SLUG=e.productsBySlug}return Bo.STAGING_PRODUCTS_BY_ID}static getProductsBySlug(){if(Po.getActive()===io.PRODUCTION){if(void 0===Bo.PRODUCTION_PRODUCTS_BY_SLUG){const e=Bo.load();Bo.PRODUCTION_PRODUCTS_BY_ID=e.productsById,Bo.PRODUCTION_PRODUCTS_BY_SLUG=e.productsBySlug}return Bo.PRODUCTION_PRODUCTS_BY_SLUG}if(void 0===Bo.STAGING_PRODUCTS_BY_SLUG){const e=Bo.load();Bo.STAGING_PRODUCTS_BY_ID=e.productsById,Bo.STAGING_PRODUCTS_BY_SLUG=e.productsBySlug}return Bo.STAGING_PRODUCTS_BY_SLUG}static get EMAILS(){return Bo.getProductsBySlug().get('emails')}static get EXTRA_COLLABORATOR(){return Bo.getProductsBySlug().get('extra-collaborator')}static get EXTRA_PROJECT(){return Bo.getProductsBySlug().get('extra-project')}static get EXTRA_WIDGET(){return Bo.getProductsBySlug().get('extra-widget')}static find(e){return Bo.getProductsById().get(e)}static findBySlug(e){return Bo.getProductsBySlug().get(e)}static getPlans(){return Array.from(this.getProductsById().values()).filter((e=>'true'===e.metadata?.plan))}static values(){return[...this.getProductsById().values()]}}class Uo{name;constructor(e){this.name=e}}class Go{quota;value;constructor(e,t){this.quota=e,this.value=t}}class Wo{limits;constructor(...e){this.limits=new Map;for(const t of e)this.limits.set(t.quota,t)}get(e){return this.limits.get(e)}}class jo{static ORGANIZATION_ACCESS_TOKENS=new Uo('accessTokens');static ORGANIZATION_PROJECTS=new Uo('projects');static PROJECT_COLLABORATORS=new Uo('collaborators');static PROJECT_WIDGETS=new Uo('widgets');static getLimits(e){const t=e.items.data;let i=0,n=0,s=0,r=0;for(const e of t)try{const t=e.price.product,a=qo.find(t,null);if(null!==a)i+=a.getQuotaLimit(jo.ORGANIZATION_ACCESS_TOKENS).value,n+=a.getQuotaLimit(jo.ORGANIZATION_PROJECTS).value,s+=a.getQuotaLimit(jo.PROJECT_COLLABORATORS).value,r+=a.getQuotaLimit(jo.PROJECT_WIDGETS).value;else{const i=Bo.find(t);i===Bo.findBySlug('extra-collaborator')?s+=e.quantity:i===Bo.findBySlug('extra-project')?n+=e.quantity:i===Bo.findBySlug('extra-widget')&&(r+=e.quantity)}}catch(e){console.error(e)}return new Wo(new Go(jo.ORGANIZATION_ACCESS_TOKENS,i),new Go(jo.ORGANIZATION_PROJECTS,n),new Go(jo.PROJECT_COLLABORATORS,s),new Go(jo.PROJECT_WIDGETS,r))}}class $o extends ko{autoRefreshInterval;defaultEmailEventRetentionPeriod;description;features;hidden;quicklist;trialPeriodDays;quotaLimits;constructor(e,t,i,n,s,r,a,o,l){super(e,t,i),this.autoRefreshInterval=n,this.defaultEmailEventRetentionPeriod=s,this.description=r,this.features=new Set,a.forEach((e=>{this.features.add(e)})),this.hidden='true'===i?.hidden,this.quicklist=o,this.trialPeriodDays=this.hidden||'free'===this.slug?0:14,this.quotaLimits=new Map,l.forEach((e=>{this.quotaLimits.set(e.quota,e)}))}getQuotaLimit(e){return this.quotaLimits.get(e)}includes(e){let t;return t='string'==typeof e?Lo.from(e):e,this.features.has(t)}}class Ho extends $o{constructor(e,t){super(e,'Academic',t,0,0,'Ideal for Academic organizations',[Lo.APPEARANCE_CUSTOMIZATION,Lo.EMOJI_REACTIONS,Lo.DISCORD_INTEGRATION,Lo.MODAL_WIDGET,Lo.NEWSPAGE_CUSTOM_DOMAINS,Lo.NEWSPAGE_EMBED_WIDGET,Lo.POPUP_WIDGET,Lo.PROJECT_ANALYTICS,Lo.PUBLICATION_ANALYTICS,Lo.PUBLICATION_SCHEDULING,Lo.SLACK_INTEGRATION,Lo.ZAPIER_INTEGRATION],['<strong>1</strong> project','<strong>2</strong> in-app widgets per project','<strong>2</strong> collaborators per project','Publication analytics','Publication scheduling','Emoji reactions','Custom domain with HTTPS','Noticeable watermark','Integrations (Discord, Slack, Zapier)','Lovely support'],[new Go(jo.ORGANIZATION_ACCESS_TOKENS,2),new Go(jo.ORGANIZATION_PROJECTS,1),new Go(jo.PROJECT_COLLABORATORS,2),new Go(jo.PROJECT_WIDGETS,2)])}}class Fo extends $o{constructor(e,t){super(e,'Business',t,3e4,31,'Ideal for companies requiring a full-featured solution',[Lo.APPEARANCE_CUSTOMIZATION,Lo.AUTO_REFRESH,Lo.CODE_INJECTION,Lo.CROSS_DEVICE_SYNCHRONIZATION,Lo.DISABLE_NEWSPAGES,Lo.DISCORD_INTEGRATION,Lo.EMAIL_ACTIVITIES,Lo.EMAIL_CUSTOM_DOMAINS,Lo.EMAIL_PREFERENCE_CENTER_WIDGET,Lo.EMAIL_SENDING,Lo.EMAIL_SUBSCRIPTION_FORM_WIDGET,Lo.EMOJI_REACTIONS,Lo.END_USER_IDENTIFICATION,Lo.END_USER_SINGLE_SIGN_ON,Lo.EXPIRING_PUBLICATIONS,Lo.GRAPHQL_API,Lo.MODAL_WIDGET,Lo.NESTED_LABELS,Lo.NEWSPAGE_CUSTOM_DOMAINS,Lo.NEWSPAGE_EMBED_WIDGET,Lo.PINNED_PUBLICATIONS,Lo.POPUP_WIDGET,Lo.PRIVATE_LABELS,Lo.PRIVATE_NEWSPAGES,Lo.PROJECT_ANALYTICS,Lo.PUBLICATION_ANALYTICS,Lo.PUBLICATION_SCHEDULING,Lo.REDIRECTION_WIDGET,Lo.SEGMENTATION,Lo.SINGLE_OPT_IN_SUBSCRIPTIONS,Lo.SLACK_INTEGRATION,Lo.TOP_BANNER_WIDGET,Lo.USER_FEEDBACK,Lo.WEB_NOTIFICATIONS,Lo.WHITE_LABEL,Lo.ZAPIER_INTEGRATION],['<strong>3</strong> projects','<strong>3</strong> in-app widgets per project','<strong>5</strong> collaborators per project','Access past 31 days of email events','Auto-refresh (Newspage and Widgets)','Code injection (CSS & JavaScript)','Custom domain for sending emails','Private labels','Cross-Device Synchronization','Private Newspages','Segmentation','User feedback','Priority support'],[new Go(jo.ORGANIZATION_ACCESS_TOKENS,5),new Go(jo.ORGANIZATION_PROJECTS,3),new Go(jo.PROJECT_COLLABORATORS,5),new Go(jo.PROJECT_WIDGETS,3)])}}class zo extends $o{constructor(e,t){super(e,'Enterprise',t,15e3,365,'Ideal for companies with advanced needs',[Lo.APPEARANCE_CUSTOMIZATION,Lo.AUTO_REFRESH,Lo.CODE_INJECTION,Lo.CROSS_DEVICE_SYNCHRONIZATION,Lo.DASHBOARD_SINGLE_SIGN_ON,Lo.DISABLE_NEWSPAGES,Lo.DISCORD_INTEGRATION,Lo.EMAIL_ACTIVITIES,Lo.EMAIL_CUSTOM_DOMAINS,Lo.EMAIL_PREFERENCE_CENTER_WIDGET,Lo.EMAIL_SENDING,Lo.EMAIL_SUBSCRIPTION_FORM_WIDGET,Lo.EMOJI_REACTIONS,Lo.END_USER_IDENTIFICATION,Lo.END_USER_SINGLE_SIGN_ON,Lo.EXPIRING_PUBLICATIONS,Lo.GRAPHQL_API,Lo.IP_FILTERING,Lo.MODAL_WIDGET,Lo.NESTED_LABELS,Lo.NEWSPAGE_CUSTOM_DOMAINS,Lo.NEWSPAGE_EMBED_WIDGET,Lo.PINNED_PUBLICATIONS,Lo.POPUP_WIDGET,Lo.PRIVATE_LABELS,Lo.PRIVATE_NEWSPAGES,Lo.PRIVATE_NEWSPAGES_TOKEN_AUTHENTICATION,Lo.PROJECT_ANALYTICS,Lo.PUBLICATION_ANALYTICS,Lo.PUBLICATION_COPY_TRANSLATION,Lo.PUBLICATION_SCHEDULING,Lo.REDIRECTION_WIDGET,Lo.SEGMENTATION,Lo.SINGLE_OPT_IN_SUBSCRIPTIONS,Lo.SLACK_INTEGRATION,Lo.TOP_BANNER_WIDGET,Lo.USER_FEEDBACK,Lo.WEB_NOTIFICATIONS,Lo.WHITE_LABEL,Lo.ZAPIER_INTEGRATION],['Custom number of projects and widgets','Unlimited collaborators','Unlimited publications','Access past 365 days of email events','Single Sign-On (OIDC or SAML)','Bank wire transfers','Payment by invoice/PO','Assisted installation','24/7 support'],[new Go(jo.ORGANIZATION_ACCESS_TOKENS,10),new Go(jo.ORGANIZATION_PROJECTS,5),new Go(jo.PROJECT_COLLABORATORS,-1),new Go(jo.PROJECT_WIDGETS,5)])}}class Vo extends $o{constructor(e,t){super(e,'Free',t,0,0,'Ideal for getting started',[Lo.MODAL_WIDGET,Lo.NEWSPAGE_EMBED_WIDGET,Lo.POPUP_WIDGET],['<strong>1</strong> project','<strong>1</strong> in-app widget','Public Newspage','Custom labels','Internationalization (Newspage and Widgets)','Noticeable watermark'],[new Go(jo.ORGANIZATION_ACCESS_TOKENS,1),new Go(jo.ORGANIZATION_PROJECTS,1),new Go(jo.PROJECT_COLLABORATORS,1),new Go(jo.PROJECT_WIDGETS,1)])}}class Yo extends $o{constructor(e,t){super(e,'Growth',t,6e4,7,'Ideal for growing brands',[Lo.APPEARANCE_CUSTOMIZATION,Lo.AUTO_REFRESH,Lo.DISABLE_NEWSPAGES,Lo.DISCORD_INTEGRATION,Lo.EMAIL_ACTIVITIES,Lo.EMAIL_SENDING,Lo.EMAIL_SUBSCRIPTION_FORM_WIDGET,Lo.EMOJI_REACTIONS,Lo.END_USER_IDENTIFICATION,Lo.END_USER_SINGLE_SIGN_ON,Lo.EXPIRING_PUBLICATIONS,Lo.GRAPHQL_API,Lo.MODAL_WIDGET,Lo.NEWSPAGE_CUSTOM_DOMAINS,Lo.NEWSPAGE_EMBED_WIDGET,Lo.PINNED_PUBLICATIONS,Lo.POPUP_WIDGET,Lo.PROJECT_ANALYTICS,Lo.PUBLICATION_ANALYTICS,Lo.PUBLICATION_SCHEDULING,Lo.REDIRECTION_WIDGET,Lo.SLACK_INTEGRATION,Lo.TOP_BANNER_WIDGET,Lo.WHITE_LABEL,Lo.ZAPIER_INTEGRATION],['<strong>2</strong> projects','<strong>2</strong> in-app widgets per project','<strong>3</strong> collaborators per project','Access past 7 days of email events','Expiring publications','GraphQL API','Pinned publications','Publication analytics','Publication scheduling','Emoji reactions'],[new Go(jo.ORGANIZATION_ACCESS_TOKENS,3),new Go(jo.ORGANIZATION_PROJECTS,2),new Go(jo.PROJECT_COLLABORATORS,3),new Go(jo.PROJECT_WIDGETS,2)])}}class Qo extends $o{constructor(e,t){super(e,'Open Source',t,0,0,'Ideal for Open Source organizations',[Lo.APPEARANCE_CUSTOMIZATION,Lo.EMOJI_REACTIONS,Lo.DISCORD_INTEGRATION,Lo.MODAL_WIDGET,Lo.NEWSPAGE_CUSTOM_DOMAINS,Lo.NEWSPAGE_EMBED_WIDGET,Lo.POPUP_WIDGET,Lo.PROJECT_ANALYTICS,Lo.PUBLICATION_ANALYTICS,Lo.PUBLICATION_SCHEDULING,Lo.SLACK_INTEGRATION,Lo.ZAPIER_INTEGRATION],['<strong>1</strong> project','<strong>2</strong> in-app widgets per project','<strong>2</strong> collaborators per project','Publication analytics','Publication scheduling','Emoji reactions','Custom domain with HTTPS','Integrations (Discord, Slack, Zapier)','Noticeable watermark','Lovely support'],[new Go(jo.ORGANIZATION_ACCESS_TOKENS,2),new Go(jo.ORGANIZATION_PROJECTS,1),new Go(jo.PROJECT_COLLABORATORS,2),new Go(jo.PROJECT_WIDGETS,2)])}}class Ko extends $o{constructor(e,t){super(e,'Starter',t,9e4,1,'Ideal for individuals',[Lo.APPEARANCE_CUSTOMIZATION,Lo.AUTO_REFRESH,Lo.DISABLE_NEWSPAGES,Lo.DISCORD_INTEGRATION,Lo.EMAIL_SENDING,Lo.EMAIL_SUBSCRIPTION_FORM_WIDGET,Lo.MODAL_WIDGET,Lo.NEWSPAGE_CUSTOM_DOMAINS,Lo.NEWSPAGE_EMBED_WIDGET,Lo.POPUP_WIDGET,Lo.PROJECT_ANALYTICS,Lo.REDIRECTION_WIDGET,Lo.SLACK_INTEGRATION,Lo.TOP_BANNER_WIDGET,Lo.WHITE_LABEL,Lo.ZAPIER_INTEGRATION],['<strong>1</strong> project','<strong>1</strong> in-app widget','Appearance customization','Email sending (additional fee per dispatch)','Access past 24 hours of email events','Newspage custom domain with HTTPS','Noticeable branding removal','Project analytics','Support','Unlimited views','Integrations (Discord, Slack, Zapier)'],[new Go(jo.ORGANIZATION_ACCESS_TOKENS,2),new Go(jo.ORGANIZATION_PROJECTS,1),new Go(jo.PROJECT_COLLABORATORS,1),new Go(jo.PROJECT_WIDGETS,1)])}}class qo{static PRODUCTION_PLANS_BY_ID;static PRODUCTION_PLANS_BY_SLUG;static STAGING_PLANS_BY_ID;static STAGING_PLANS_BY_SLUG;static get ACADEMIC(){return qo.getPlansBySlug().get('academic')}static get BUSINESS(){return qo.getPlansBySlug().get('business')}static get ENTERPRISE(){return qo.getPlansBySlug().get('enterprise')}static get FREE(){return qo.getPlansBySlug().get('free')}static get GROWTH(){return qo.getPlansBySlug().get('growth')}static get OPENSOURCE(){return qo.getPlansBySlug().get('opensource')}static get STARTER(){return qo.getPlansBySlug().get('starter')}static find(e,t=qo.FREE){if(!e)return t;const i=qo.getPlansById().get(e);return i||t}static findBySlug(e,t=qo.FREE){if(!e)return t;const i=qo.getPlansBySlug().get(e);return i||t}static include(e,t=!1){return Array.from(qo.getPlansById().values()).filter((i=>i.hidden===t&&i.includes(e))).sort(((e,t)=>e.prices.findByCurrencyCycle(eo.UNITED_STATES_DOLLAR,to.MONTH).value-t.prices.findByCurrencyCycle(eo.UNITED_STATES_DOLLAR,to.MONTH).value))}static isPlan(e){return qo.getPlansById().has(e)}static values(){return Array.from(qo.getPlansById().values())}static getPlansById(){if(Po.getActive()===io.PRODUCTION){if(void 0===qo.PRODUCTION_PLANS_BY_ID){const e=qo.load();qo.PRODUCTION_PLANS_BY_ID=e.plansById,qo.PRODUCTION_PLANS_BY_SLUG=e.plansBySlug}return qo.PRODUCTION_PLANS_BY_ID}if(void 0===qo.STAGING_PLANS_BY_ID){const e=qo.load();qo.STAGING_PLANS_BY_ID=e.plansById,qo.STAGING_PLANS_BY_SLUG=e.plansBySlug}return qo.STAGING_PLANS_BY_ID}static getPlansBySlug(){if(Po.getActive()===io.PRODUCTION){if(void 0===qo.PRODUCTION_PLANS_BY_SLUG){const e=qo.load();qo.PRODUCTION_PLANS_BY_ID=e.plansById,qo.PRODUCTION_PLANS_BY_SLUG=e.plansBySlug}return qo.PRODUCTION_PLANS_BY_SLUG}if(void 0===qo.STAGING_PLANS_BY_SLUG){const e=qo.load();qo.STAGING_PLANS_BY_ID=e.plansById,qo.STAGING_PLANS_BY_SLUG=e.plansBySlug}return qo.STAGING_PLANS_BY_SLUG}static load(){const e=new Map,t=new Map;for(const i of Bo.getPlans()){const n=i.metadata?.slug;switch(n){case'academic':qo.add(i,new Ho(i.id,i.metadata),e,t);break;case'business':qo.add(i,new Fo(i.id,i.metadata),e,t);break;case'enterprise':qo.add(i,new zo(i.id,i.metadata),e,t);break;case'free':qo.add(i,new Vo(i.id,i.metadata),e,t);break;case'growth':qo.add(i,new Yo(i.id,i.metadata),e,t);break;case'opensource':qo.add(i,new Qo(i.id,i.metadata),e,t);break;case'starter':qo.add(i,new Ko(i.id,i.metadata),e,t)}}return{plansById:e,plansBySlug:t}}static add(e,t,i,n){i.set(e.id,t),n.set(t.slug,t)}}!function(e){e.BOUNCE='bounce',e.NONE='none',e.PULSE='pulse',e.SHAKE='shake'}(no||(no={})),function(e){e.NONE='none',e.UNREAD_COUNT='unread',e.UNSEEN_COUNT='unseen'}(so||(so={})),function(e){e.END='end',e.START='start'}(ro||(ro={})),function(e){e.DASHED='dashed',e.DOTTED='dotted',e.SOLID='solid'}(ao||(ao={})),function(e){e.NONE='none',e.RECAPTCHA='recaptcha',e.TURNSTILE='turnstile'}(oo||(oo={})),function(e){e.COMPANY_NAME='company-name',e.COMPANY_WEBSITE='company-website',e.DISPLAY_NAME='display-name',e.EMAIL_ADDRESS='email-address',e.FIRST_NAME='first-name',e.LABELS='labels',e.LAST_NAME='last-name'}(lo||(lo={})),function(e){e.ALERT='alert',e.BELL='bell',e.CHAT='chat',e.CUSTOM='custom',e.FLAME='flame',e.GIFT='gift',e.MEGAPHONE='megaphone'}(co||(co={})),function(e){e.BOTTOM_END='bottom-end',e.BOTTOM_START='bottom-start'}(uo||(uo={})),function(e){e.W100='100',e.W200='200',e.W300='300',e.W400='400',e.W500='500',e.W600='600',e.W700='700',e.W800='800',e.W900='900'}(po||(po={})),function(e){e.BUBBLES='bubbles',e.LINE_IN_MOTION='line-in-motion',e.NONE='none',e.SHAPES='shapes',e.WAVES='waves'}(ho||(ho={})),function(e){e.BELL='bell',e.CUSTOM='custom',e.FLAME='flame',e.GIFT='gift',e.MEGAPHONE='megaphone'}(mo||(mo={})),function(e){e.OPEN_CTA_URL='open-cta',e.OPEN_IN_NEWSPAGE='open-newspage',e.OPEN_IN_WIDGET='open-widget'}(fo||(fo={})),function(e){e.AUTO='auto',e.AUTO_END='auto-end',e.AUTO_START='auto-start',e.BOTTOM='bottom',e.BOTTOM_END='bottom-end',e.BOTTOM_START='bottom-start',e.LEFT='left',e.LEFT_END='left-end',e.LEFT_START='left-start',e.RIGHT='right',e.RIGHT_END='right-end',e.RIGHT_START='right-start',e.TOP='top',e.TOP_END='top-end',e.TOP_START='top-start'}(go||(go={})),function(e){e.NON_SEGMENTED_PLUS_MATCHING_SEGMENTS='nspms',e.MATCHING_SEGMENTS_ONLY='mso'}(_o||(_o={})),function(e){e.CTA='cta',e.CUSTOM='custom',e.NEWSPAGE_PUBLICATION='newspage-publication',e.NEWSPAGE='newspage'}(yo||(yo={})),function(e){e.CENTER='center',e.END='end',e.START='start'}(vo||(vo={})),function(e){e.BUTTON='button',e.LINK='link'}(wo||(wo={})),function(e){e.BANNER_CLICK='banner-click',e.CLOSE_BUTTON_CLICK='close-button-click',e.CTA_CLICK='cta-click'}(bo||(bo={})),function(e){e.BOTTOM='bottom',e.BOTTOM_STICKY='bottom-sticky',e.TOP='top',e.TOP_STICKY='top-sticky'}(Eo||(Eo={})),function(e){e.CUSTOM='custom',e.NEWSPAGE='newspage',e.NONE='none'}(So||(So={})),function(e){e.LINE_THROUGH='line-through',e.UNDERLINE='underline',e.UNSET='unset'}(To||(To={})),function(e){e.NEVER='never',e.WHEN_ALL_READ='when-all-read',e.WHEN_ALL_SEEN='when-all-seen'}(Io||(Io={})),function(e){e.BADGE='badge',e.CUSTOM='custom',e.FLOATING_BUTTON='floating-button',e.ICON='icon',e.NONE='none'}(Ao||(Ao={})),function(e){e.CARD='card',e.EMAIL_PREFERENCE_CENTER='email-preference-center',e.EMAIL_SUBSCRIPTION_FORM='email-subscription-form',e.FLOATING_CARD='floating-card',e.INLINE='inline',e.MODAL='modal',e.NEWSPAGE_EMBED='newspage-embed',e.POPUP='popup',e.REDIRECTION='redirection',e.SIDE_PANEL='side-panel',e.TOP_BANNER='top-banner'}(Co||(Co={}));const Xo={[Co.CARD]:void 0,[Co.EMAIL_PREFERENCE_CENTER]:Lo.EMAIL_PREFERENCE_CENTER_WIDGET,[Co.EMAIL_SUBSCRIPTION_FORM]:Lo.EMAIL_SUBSCRIPTION_FORM_WIDGET,[Co.FLOATING_CARD]:void 0,[Co.INLINE]:void 0,[Co.MODAL]:Lo.MODAL_WIDGET,[Co.NEWSPAGE_EMBED]:Lo.NEWSPAGE_EMBED_WIDGET,[Co.POPUP]:Lo.POPUP_WIDGET,[Co.REDIRECTION]:Lo.REDIRECTION_WIDGET,[Co.SIDE_PANEL]:void 0,[Co.TOP_BANNER]:Lo.TOP_BANNER_WIDGET};var Zo=(e=>(e.DEVELOPMENT='development',e.PRODUCTION='production',e.STAGING='staging',e))(Zo||{});'undefined'!=typeof window&&(window.customElements.get('swiper-container')||window.customElements.define('swiper-container',xe),window.customElements.get('swiper-slide')||window.customElements.define('swiper-slide',Re));var Jo=class e extends HTMLElement{constructor(){super(),this._eventListenersAttached=!1,this._originalOverflowY=null,this._swiperElement=null,this._keyPressListener=e=>this._handleKeyPress(e),this._slideChangeListener=e=>this._handleSlideChange(e),this._zoomChangeListener=e=>this._handleZoomChange(e),this._shadowRoot=this.attachShadow({mode:'closed'}),this._container=document.createElement('div'),this._container.id='lightbox',this._container.style.display='none',this._container.setAttribute('part','overlay'),this._shadowRoot.appendChild(this._container);let t=document.createElement('div');t.setAttribute('id','action-bar'),t.setAttribute('part','action-bar'),t.innerHTML=`\n            <button aria-label="Close" id="close" class="action-button" role="button">${wt}</button>\n        `,t.querySelector('#close').addEventListener('click',(e=>this.close())),this._container.appendChild(t);let i=document.createElement('style');i.textContent=`\n            :host {\n                --noticeable-lightbox-background: #090909;\n                --noticeable-lightbox-button-background: #090909;\n                --noticeable-lightbox-button-background-hover: rgba(26, 26, 26, 0.75);\n                --noticeable-lightbox-theme-color: ${e.DEFAULT_THEME_COLOR};\n                display: block;\n                outline: none;\n                position: relative;\n            }\n\n            #lightbox {\n                align-items: center;\n                background: var(--noticeable-lightbox-overlay-background, var(--noticeable-lightbox-background));\n                border: 0;\n                border-radius: var(--noticeable-lightbox-overlay-border-radius, none);\n                display: none;\n                flex-direction: column;\n                height: calc(var(--noticeable-lightbox-overlay-height, 100%) + 1px);\n                left: 50%;\n                outline: none;\n                top: 50%;\n                transform: translate(-50%, -50%);\n                justify-content: center;\n                position: fixed;\n                width: calc(var(--noticeable-lightbox-overlay-width, 100%) + 1px);\n                z-index: 2147484000;\n            }\n            \n            #action-bar {\n                display: flex;\n                padding: 12px;\n                position: absolute;\n                right: 0;\n                top: 0;\n                z-index: 2147484001;\n            }\n            \n            #action-bar .action-button {\n                align-items: center;\n                backdrop-filter: blur(4px);\n                background: black;\n                background-color: var(--noticeable-lightbox-button-background);\n                border-color: rgba(0, 0, 0, 0);\n                border-radius: 50%;\n                display: flex;\n                justify-content: center;\n                height: 48px;\n                transition-duration: 0.2s;\n                width: 48px;\n            }\n            \n            #action-bar .action-button:hover {\n                background: var(--noticeable-lightbox-button-background-hover);\n                cursor: pointer;\n            }\n            \n            #action-bar .action-button:hover > svg {\n                color: var(--noticeable-lightbox-theme-color, white);\n                fill: var(--noticeable-lightbox-theme-color, white);\n            }\n            \n            #action-bar .action-button svg {\n                color: white;\n                fill: white;\n                height: 28px;\n                width: 28px;\n            }\n            \n            swiper-container {\n                height: 90%;\n                outline: none;\n                width: 90%;\n                --swiper-navigation-sides-offset: 12px;\n                --swiper-navigation-size: 32px;\n                --swiper-navigation-top-offset: calc(50% - 16px);\n                --swiper-pagination-bullet-inactive-color: white;\n                --swiper-pagination-bullet-opacity: 1;\n                --swiper-pagination-color: var(--noticeable-lightbox-theme-color);\n            }\n            \n            swiper-container::part(button-next), swiper-container::part(button-prev) {\n                background: var(--noticeable-lightbox-button-background);\n                border-radius: 50%;\n                color: rgba(255, 255, 255, 0.95);\n                transition-duration: 0.2s;\n            }\n\n            swiper-container::part(button-next) {\n                margin-left: -8px;\n                padding: 20px 16px 20px 20px;\n            }\n            \n            swiper-container::part(button-prev) {\n                margin-left: -8px;\n                padding: 20px 20px 20px 16px;\n            }\n            \n            swiper-container::part(button-next):hover, swiper-container::part(button-prev):hover {\n                background: var(--noticeable-lightbox-button-background-hover);\n                color: var(--noticeable-lightbox-theme-color, white)\n            }\n            \n            swiper-slide {\n                display: flex;\n                align-items: center;\n                justify-content: center;\n            }\n            \n            img {\n                max-width: 100%;\n                max-height: 100%;\n                object-fit: contain;\n                cursor: zoom-in;\n                transition: cursor 0.3s;\n            }\n        `,this._shadowRoot.insertBefore(i,this._shadowRoot.firstChild)}static get observedAttributes(){return['theme-color']}attributeChangedCallback(e,t,i){'theme-color'===e&&this.updateThemeColor(i)}updateThemeColor(t){let i=t||e.DEFAULT_THEME_COLOR;this.style.setProperty('--noticeable-lightbox-theme-color',i)}connectedCallback(){this._addWindowListeners()}disconnectedCallback(){this.close(),this._removeWindowListeners()}_addWindowListeners(){window.addEventListener('keydown',this._keyPressListener,!0)}_removeWindowListeners(){window.removeEventListener('keydown',this._keyPressListener,!0)}async open(e,t){this._swiperElement&&this._swiperElement.remove(),this._swiperElement=document.createElement('swiper-container'),this._swiperElement.setAttribute('loop','true'),this._swiperElement.setAttribute('initial-slide',t.toString()),this._swiperElement.setAttribute('keyboard','true'),this._swiperElement.setAttribute('mousewheel','true'),this._swiperElement.setAttribute('navigation','true'),this._swiperElement.setAttribute('pagination','true'),this._swiperElement.setAttribute('pagination-clickable','true'),this._swiperElement.setAttribute('part','container'),this._swiperElement.setAttribute('tabIndex','0'),this._swiperElement.setAttribute('zoom','true'),this._swiperElement.setAttribute('zoom-limit-to-original-size','true'),this._swiperElement.setAttribute('zoom-min-ratio','1'),this._swiperElement.setAttribute('zoom-max-ratio','3'),this._swiperElement.setAttribute('zoom-toggle','false');let i=e.map(((e,t)=>`\n                    <swiper-slide part="slide">\n                        <div class="swiper-zoom-container">\n                            <img src="${e.url}" alt="${e.caption}" data-index="${t}" part="img">\n                        </div>\n                    </swiper-slide>\n                `)).join('');this._swiperElement.innerHTML=i,this._container.appendChild(this._swiperElement),await customElements.whenDefined('swiper-container'),this._attachEventListeners(),this._addImageClickListeners(),this._originalOverflowY=document.body.style.overflowY,document.body.style.overflowY='hidden',this._container.style.display='flex',this._swiperElement.focus()}close(){this._swiperElement&&(this._swiperElement.remove(),this._swiperElement=null),this._container.style.display='none',null!==this._originalOverflowY&&(document.body.style.overflowY=this._originalOverflowY,this._originalOverflowY=null),this._removeEventListeners()}_attachEventListeners(){!this._swiperElement||this._eventListenersAttached||(this._swiperElement.addEventListener('swiperslidechange',this._slideChangeListener),this._swiperElement.addEventListener('swiperzoomchange',this._zoomChangeListener),this._container.addEventListener('click',this._handleContainerClick.bind(this)),this._eventListenersAttached=!0)}_removeEventListeners(){this._swiperElement&&this._eventListenersAttached&&(this._swiperElement.removeEventListener('swiperslidechange',this._slideChangeListener),this._swiperElement.removeEventListener('swiperzoomchange',this._zoomChangeListener)),this._container.removeEventListener('click',this._handleContainerClick.bind(this)),this._eventListenersAttached=!1}_handleKeyPress(e){'Escape'===e.key&&this.close()}_handleContainerClick(e){e.target.classList.contains('swiper-zoom-container')&&this.close()}_handleSlideChange(e){this._updateImageHoverCursor()}_handleZoomChange(e){let[,t]=e.detail;this._updateImageHoverCursor(t)}_isImageAtNaturalDimensions(e){return e.naturalWidth===e.clientWidth&&e.naturalHeight===e.clientHeight}_updateImageHoverCursor(e=1){if(!this._swiperElement)return;let t=this._swiperElement.swiper,i=t.slides[t.activeIndex].querySelector('img');this._isImageAtNaturalDimensions(i)?i.style.cursor='default':i.style.cursor=e<=1?'zoom-in':'zoom-out'}_addImageClickListeners(){this._shadowRoot.querySelectorAll('img').forEach((e=>{e.addEventListener('click',(e=>{e.stopPropagation();let t=this._swiperElement.swiper;t?t.zoom.toggle(e):console.warn('Swiper instance not found.')}))}))}static mount(t){let i=document.querySelector('noticeable-lightbox');return i?t&&i.setAttribute('theme-color',t):(i=new e,t&&i.setAttribute('theme-color',t),document.body.insertBefore(i,document.body.firstChild)),i}static unmount(){let e=document.querySelector('noticeable-lightbox');e&&e.remove()}};Jo.DEFAULT_THEME_COLOR='#0a7de0';var el=Jo;customElements.define('noticeable-lightbox',el);var tl=class extends Set{constructor(e=10){super(),this.capacity=e}add(e){if(0===this.capacity)return this;if(super.has(e))return this;if(super.size<this.capacity)return super.add(e);let t=this.values().next();return t.done||super.delete(t.value),super.add(e)}addAll(e){if(0===this.capacity)return this;for(let t of e)super.add(t);let t=this.values();for(;super.size>this.capacity;){let e=t.next();e.done||super.delete(e.value)}return this}toArray(){return Array.from(this)}},il=class extends tl{constructor(e){super(99),e&&e.length>0&&this.addAll(e)}},nl=(e=>(e.WIDGET_CLOSED='widget:closed',e.WIDGET_HIDDEN='widget:hidden',e.WIDGET_HEADER_LINK_CLICKED='widget:header:link:clicked',e.WIDGET_NOTIFICATION_EMAIL_SUBSCRIBED='widget:notification:email:subscribed',e.WIDGET_NOTIFICATION_PUSH_SUBSCRIBED='widget:notification:push:subscribed',e.WIDGET_OPENED='widget:opened',e.WIDGET_PUBLICATION_COMMENT_CREATED='widget:publication:comment:created',e.WIDGET_PUBLICATION_REACTION_CREATED='widget:publication:reaction:created',e.WIDGET_PUBLICATION_REACTION_UPDATED='widget:publication:reaction:updated',e.WIDGET_PUBLICATION_SUMMARY_CLICKED='widget:publication_summary:clicked',e.WIDGET_PUBLICATION_UNREAD_COUNT_CHANGED='widget:publication:unread_count:changed',e.WIDGET_PUBLICATION_UNSEEN_COUNT_CHANGED='widget:publication:unseen_count:changed',e.WIDGET_PUBLICATION_VISIBILITY_CHANGED='widget:publication:visibility:changed',e.WIDGET_READY='widget:ready',e.WIDGET_REFRESHED='widget:refreshed',e.WIDGET_RENDERING_ABORTED='widget:rendering:aborted',e.WIDGET_TRIGGER_READY='widget:trigger:ready',e.WIDGET_TRIGGER_REFRESHED='widget:trigger:refreshed',e.WIDGET_TRIGGER_VIEW_CLICKED='widget:trigger_view:clicked',e.WIDGET_TRIGGER_VIEW_MOUSE_ENTERED='widget:trigger_view:mouse_entered',e.WIDGET_TRIGGER_VIEW_MOUSE_LEFT='widget:trigger_view:mouse_left',e.WIDGET_VISIBLE='widget:visible',e.WIDGET_WIDGET_VIEW_MOUSE_ENTERED='widget:widget_view:mouse_entered',e.WIDGET_WIDGET_VIEW_MOUSE_LEFT='widget:widget_view:mouse_left',e))(nl||{});let sl=function(e){return e[e.DEBUG=0]='DEBUG',e[e.INFO=1]='INFO',e[e.WARNING=2]='WARNING',e[e.ERROR=3]='ERROR',e}({});class rl{static debug(e){if(rl._level<=sl.DEBUG){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];rl._log('debug',e,i)}}static error(e){if(rl._level<=sl.ERROR){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];rl._log('error',e,i)}}static info(e){if(rl._level<=sl.INFO){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];rl._log('info',e,i)}}static getLevel(){return rl._level}static setLevel(e){rl._level=e}static warn(e){if(rl._level<=sl.WARNING){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];rl._log('warn',e,i)}}static _log(e,t,i){const n=console[e]||console.log;window.console&&n&&n.apply(console,[`${rl.PREFIX}${t}`,...i])}}e(rl,'PREFIX','[noticeable] '),e(rl,'_level',sl.INFO);var al,ol={exports:{}};al||(al=1,function(e){var t=function(e){var t,i=Object.prototype,n=i.hasOwnProperty,s=Object.defineProperty||function(e,t,i){e[t]=i.value},r='function'==typeof Symbol?Symbol:{},a=r.iterator||'@@iterator',o=r.asyncIterator||'@@asyncIterator',l=r.toStringTag||'@@toStringTag';function c(e,t,i){return Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},'')}catch(e){c=function(e,t,i){return e[t]=i}}function d(e,t,i,n){var r=t&&t.prototype instanceof _?t:_,a=Object.create(r.prototype),o=new N(n||[]);return s(a,'_invoke',{value:A(e,i,o)}),a}function u(e,t,i){try{return{type:'normal',arg:e.call(t,i)}}catch(e){return{type:'throw',arg:e}}}e.wrap=d;var p='suspendedStart',h='suspendedYield',m='executing',f='completed',g={};function _(){}function y(){}function v(){}var w={};c(w,a,(function(){return this}));var b=Object.getPrototypeOf,E=b&&b(b(L([])));E&&E!==i&&n.call(E,a)&&(w=E);var S=v.prototype=_.prototype=Object.create(w);function T(e){['next','throw','return'].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function I(e,t){function i(s,r,a,o){var l=u(e[s],e,r);if('throw'!==l.type){var c=l.arg,d=c.value;return d&&'object'==typeof d&&n.call(d,'__await')?t.resolve(d.__await).then((function(e){i('next',e,a,o)}),(function(e){i('throw',e,a,o)})):t.resolve(d).then((function(e){c.value=e,a(c)}),(function(e){return i('throw',e,a,o)}))}o(l.arg)}var r;s(this,'_invoke',{value:function(e,n){function s(){return new t((function(t,s){i(e,n,t,s)}))}return r=r?r.then(s,s):s()}})}function A(e,i,n){var s=p;return function(r,a){if(s===m)throw new Error('Generator is already running');if(s===f){if('throw'===r)throw a;return{value:t,done:!0}}for(n.method=r,n.arg=a;;){var o=n.delegate;if(o){var l=C(o,n);if(l){if(l===g)continue;return l}}if('next'===n.method)n.sent=n._sent=n.arg;else if('throw'===n.method){if(s===p)throw s=f,n.arg;n.dispatchException(n.arg)}else'return'===n.method&&n.abrupt('return',n.arg);s=m;var c=u(e,i,n);if('normal'===c.type){if(s=n.done?f:h,c.arg===g)continue;return{value:c.arg,done:n.done}}'throw'===c.type&&(s=f,n.method='throw',n.arg=c.arg)}}}function C(e,i){var n=i.method,s=e.iterator[n];if(s===t)return i.delegate=null,'throw'===n&&e.iterator.return&&(i.method='return',i.arg=t,C(e,i),'throw'===i.method)||'return'!==n&&(i.method='throw',i.arg=new TypeError('The iterator does not provide a \''+n+'\' method')),g;var r=u(s,e.iterator,i.arg);if('throw'===r.type)return i.method='throw',i.arg=r.arg,i.delegate=null,g;var a=r.arg;return a?a.done?(i[e.resultName]=a.value,i.next=e.nextLoc,'return'!==i.method&&(i.method='next',i.arg=t),i.delegate=null,g):a:(i.method='throw',i.arg=new TypeError('iterator result is not an object'),i.delegate=null,g)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type='normal',delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:'root'}],e.forEach(O,this),this.reset(!0)}function L(e){if(null!=e){var i=e[a];if(i)return i.call(e);if('function'==typeof e.next)return e;if(!isNaN(e.length)){var s=-1,r=function i(){for(;++s<e.length;)if(n.call(e,s))return i.value=e[s],i.done=!1,i;return i.value=t,i.done=!0,i};return r.next=r}}throw new TypeError(typeof e+' is not iterable')}return y.prototype=v,s(S,'constructor',{value:v,configurable:!0}),s(v,'constructor',{value:y,configurable:!0}),y.displayName=c(v,l,'GeneratorFunction'),e.isGeneratorFunction=function(e){var t='function'==typeof e&&e.constructor;return!!t&&(t===y||'GeneratorFunction'===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,c(e,l,'GeneratorFunction')),e.prototype=Object.create(S),e},e.awrap=function(e){return{__await:e}},T(I.prototype),c(I.prototype,o,(function(){return this})),e.AsyncIterator=I,e.async=function(t,i,n,s,r){void 0===r&&(r=Promise);var a=new I(d(t,i,n,s),r);return e.isGeneratorFunction(i)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},T(S),c(S,l,'Generator'),c(S,a,(function(){return this})),c(S,'toString',(function(){return'[object Generator]'})),e.keys=function(e){var t=Object(e),i=[];for(var n in t)i.push(n);return i.reverse(),function e(){for(;i.length;){var n=i.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=L,N.prototype={constructor:N,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method='next',this.arg=t,this.tryEntries.forEach(P),!e)for(var i in this)'t'===i.charAt(0)&&n.call(this,i)&&!isNaN(+i.slice(1))&&(this[i]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if('throw'===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var i=this;function s(n,s){return o.type='throw',o.arg=e,i.next=n,s&&(i.method='next',i.arg=t),!!s}for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r],o=a.completion;if('root'===a.tryLoc)return s('end');if(a.tryLoc<=this.prev){var l=n.call(a,'catchLoc'),c=n.call(a,'finallyLoc');if(l&&c){if(this.prev<a.catchLoc)return s(a.catchLoc,!0);if(this.prev<a.finallyLoc)return s(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return s(a.catchLoc,!0)}else{if(!c)throw new Error('try statement without catch or finally');if(this.prev<a.finallyLoc)return s(a.finallyLoc)}}}},abrupt:function(e,t){for(var i=this.tryEntries.length-1;i>=0;--i){var s=this.tryEntries[i];if(s.tryLoc<=this.prev&&n.call(s,'finallyLoc')&&this.prev<s.finallyLoc){var r=s;break}}r&&('break'===e||'continue'===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var a=r?r.completion:{};return a.type=e,a.arg=t,r?(this.method='next',this.next=r.finallyLoc,g):this.complete(a)},complete:function(e,t){if('throw'===e.type)throw e.arg;return'break'===e.type||'continue'===e.type?this.next=e.arg:'return'===e.type?(this.rval=this.arg=e.arg,this.method='return',this.next='end'):'normal'===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var i=this.tryEntries[t];if(i.finallyLoc===e)return this.complete(i.completion,i.afterLoc),P(i),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var i=this.tryEntries[t];if(i.tryLoc===e){var n=i.completion;if('throw'===n.type){var s=n.arg;P(i)}return s}}throw new Error('illegal catch attempt')},delegateYield:function(e,i,n){return this.delegate={iterator:L(e),resultName:i,nextLoc:n},'next'===this.method&&(this.arg=t),g}},e}(e.exports);try{regeneratorRuntime=t}catch(e){'object'==typeof globalThis?globalThis.regeneratorRuntime=t:Function('r','regeneratorRuntime = r')(t)}}(ol));class ll{constructor(t,i,n){e(this,'id',void 0),e(this,'planId',void 0),e(this,'refreshInterval',void 0),this.id=t,this.planId=i,this.refreshInterval=n}}class cl{constructor(t){e(this,'_autoRefreshTimers',void 0),e(this,'_publicationDataCache',void 0),e(this,'_widgets',void 0),this._autoRefreshTimers=new Map,this._widgets=new Map;for(const[e,i]of t)this.register(i);this._configurePageVisibilityListener()}register(e){if(0!==e.autoRefresh&&(this._widgets.set(e.id,e),!this._autoRefreshTimers.has(e.projectId))){const t=this.createTimer(e.projectId,e.planId,e.autoRefresh);void 0!==t&&this._autoRefreshTimers.set(e.projectId,t)}}unregister(e){if(this._widgets.delete(e.id)){let t=!0;for(const[i,n]of this._widgets)if(n.projectId===e.projectId){t=!1;break}t&&this._autoRefreshTimers.delete(e.projectId)}}createTimer(e,t,i){let n=i;if(0===n)return;const s=qo.find(t);if(!s)return;(n<1e4||n<s.autoRefreshInterval)&&(n=s.autoRefreshInterval),rl.debug(`Auto refresh interval setup to ${n}ms for project ${e}`);const r=setInterval((async()=>this._refresh(e).catch((e=>rl.error(e)))),n);return new ll(r,t,i)}_configurePageVisibilityListener(){void 0===document.addEventListener||void 0===document.hidden?rl.warn('Your browser does not support the Page Visibility API. We suggest upgrading your browser to get a full experience'):(rl.debug('Registering page visibility listener'),document.addEventListener('visibilitychange',this._onPageVisibilityChange.bind(this),!1))}_onPageVisibilityChange(){rl.debug(`On page visibility change, hidden=${document.hidden}, autoRefreshTimers=${this._autoRefreshTimers.size}`),document.hidden?this.stop():this.start(!0)}async _refresh(e){if(!this._publicationDataCache)return;rl.debug(`Auto-refreshing data for project ${e}...`);const t=new Map;for(const[i,n]of this._widgets)if(n.projectId===e){const e=await n.getPublicationState();t.set(n.id,e)}rl.debug(`Invalidating publication data cache for project ${e}...`),this._publicationDataCache.invalidate(e);for(const[i,n]of this._widgets)if(n.projectId===e){const e=t.get(i);rl.debug(`Refreshing widget ${i}`),await n.refresh();const s=await n.getPublicationState();e?.unreadCount!==s.unreadCount&&n.eventRegistry.dispatchEvent(n.id,nl.WIDGET_PUBLICATION_UNREAD_COUNT_CHANGED,{unreadPublicationIds:[...s.lastPublicationUnread],value:s.unreadCount}),e?.unseenCount!==s.unseenCount&&n.eventRegistry.dispatchEvent(n.id,nl.WIDGET_PUBLICATION_UNSEEN_COUNT_CHANGED,{unseenPublicationIds:[...s.lastPublicationUnseen],value:s.unseenCount})}}start(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];for(const[t,i]of this._autoRefreshTimers){rl.debug(`Starting auto-refresh for project ${t}...`);const n=this.createTimer(t,i.planId,i.refreshInterval);void 0===n?(rl.debug(`Removing auto-refresh timer for project ${t}, planId=${i.planId}, refreshInterval=${i.refreshInterval}`),clearInterval(i.id),this._autoRefreshTimers.delete(t)):(this._autoRefreshTimers.set(t,n),e&&this._refresh(t).catch((e=>rl.error(e))))}}stop(){for(const[e,t]of this._autoRefreshTimers)rl.debug(`Stopping auto-refresh for project ${e} for timer ${t.id}...`),clearInterval(t.id),t.id=void 0}set publicationDataCache(e){this._publicationDataCache=e}}class dl{constructor(){e(this,'unreadCountFilters',new Map),e(this,'unseenCountFilters',new Map)}}function ul(e){if(!e)return 0;let t=0;for(let i=0;i<e.length;i++)t=(t<<5)-t+e.charCodeAt(i)|0;return t}function pl(){const e=navigator.userAgent;return!!/iPad|iPhone|iPod/.test(e)||(!!/android/i.test(e)||(!!/windows phone/i.test(e)||!!window.matchMedia('only screen and (max-width: 768px)').matches))}function hl(e){return zt.getDirection(e)===Gt.RTL}function ml(e){return e+'px'}class fl{constructor(t,i){e(this,'_autoRefresher',void 0),e(this,'_emailSubscriptionFetcher',void 0),e(this,'_projectDataCache',void 0),e(this,'_projectDataFetcher',void 0),e(this,'_publicationDataCache',void 0),e(this,'_publicationDataFetcher',void 0),e(this,'_widgetDataCache',void 0),e(this,'_widgetDataFetcher',void 0),this._emailSubscriptionFetcher=new _l(i),this._projectDataCache=new yl,this._projectDataFetcher=new El(i),this._publicationDataCache=new vl,this._publicationDataFetcher=new Sl(i),this._widgetDataCache=new wl,this._widgetDataFetcher=new Tl(i),this._autoRefresher=t,this._autoRefresher.publicationDataCache=this._publicationDataCache}async getEmailSubscription(e,t){return this._emailSubscriptionFetcher.getEmailSubscription(e,t)}async getProjectData(e){return this._projectDataCache.getOrCompute(e,((t,i)=>this._projectDataFetcher.fetch(e)))}async getPublicationData(e,t){return this._publicationDataCache.getOrCompute({projectId:e,labels:t?.labels??[],segments:t?.segments??[]},((i,n)=>this._publicationDataFetcher.fetch(e,t)))}async getWidgetData(e){return this._widgetDataCache.getOrCompute(e,(async(t,i)=>await this._widgetDataFetcher.fetch(e)))}invalidateProjectData(e){return this._projectDataCache.invalidate(e)}invalidatePublicationData(e){return this._publicationDataCache.invalidate(e)}invalidateWidgetData(e){return this._widgetDataCache.invalidate(e)}setProjectCacheControl(e){this._projectDataFetcher.setCacheControl(e)}setPublicationCacheControl(e){this._publicationDataFetcher.setCacheControl(e)}setWidgetCacheControl(e){this._widgetDataFetcher.setCacheControl(e)}}class gl{constructor(){e(this,'_data',void 0),this._data=new Map}async getOrCompute(e,t){const i=this._id(e);let n=this._data.get(i);return void 0===n&&(n=this._compute(i,e,t)),n}invalidate(e){return this._data.delete(this._id(e))}async _compute(e,t,i){const n=i(e,t);return n&&this._data.set(e,n),n}}class _l{constructor(t){e(this,'_endpoint',void 0),this._endpoint=t.widgetsData}async getEmailSubscription(e,t){try{const i=await fetch(this._endpoint+'/projects/'+e+'/email_subscriptions/'+t);return await i.json()}catch(e){return{email:t}}}}class yl extends gl{_id(e){return ul(e)}}class vl extends gl{constructor(){super(),e(this,'_dataByProjectId',void 0),this._dataByProjectId=new Map}invalidate(e){if(void 0===e){const e=this._data.size>0;return this._dataByProjectId.clear(),this._data.clear(),e}if('string'==typeof e){const t=this._dataByProjectId.get(e);if(t){for(const e of t)this._data.delete(e);return this._dataByProjectId.delete(e),!0}return!1}{const t=e.projectId;if(t){const i=this._id(e);this._data.delete(i);const n=this._dataByProjectId.get(t);return n&&(1===n.size&&n.has(i)?this._dataByProjectId.delete(t):n.delete(i)),!0}return!1}}async _compute(e,t,i){const n=await super._compute(e,t,i);if(n){const i=t.projectId;let n=this._dataByProjectId.get(i);n||(n=new Set,this._dataByProjectId.set(i,n)),n.add(e)}return n}_id(e){let t='';for(const[i,n]of Object.entries(e)){const s=typeof n;'string'===s?t+=`${i}=${n};`:Array.isArray(n)?t+=`${i}=${[...n].sort().join(',')};`:'boolean'===s?t+=`${i}=${n?'0':'1'};`:'number'===s?t+=`${i}=${n};`:rl.warn(`Skipping unsupported property ${i} while computing resourceId for ${e}`)}return ul(t)}}class wl extends gl{_id(e){return ul(e)}}class bl{constructor(t,i,n){e(this,'_cacheControl',void 0),e(this,'_endpoints',void 0),e(this,'_resourceName',void 0),e(this,'_resourceUrlBuilder',void 0),this._cacheControl=!0,this._endpoints=t,this._resourceName=i,this._resourceUrlBuilder=n}async fetch(e,t){return await this._fetch(e,t)}setCacheControl(e){this._cacheControl=e}_fetchHeaders(e,t){return new Headers}async _fetch(e,t){const i=this._resourceUrl(e,t);rl.debug(`Fetching resource ${e} with options=${JSON.stringify(t)}: ${i}`);try{const e=await fetch(i,{headers:this._fetchHeaders(this._cacheControl,t)});return await e.json()}catch(e){return void rl.error(`Error while updating ${this._resourceName} data from url: ${i}`)}}_resourceUrl(e,t){return this._resourceUrlBuilder(e,t)}}class El extends bl{constructor(e){super(e,'project',(t=>e.widgetsData+'/projects/'+t))}}class Sl extends bl{constructor(e){super(e,'publication',((t,i)=>{let n=e.widgetsData+'/projects/'+t+'/publications';if(i?.aggregation||i?.labels||i?.limit||i?.segments){n+='?';const e=[];i?.aggregation&&'nspms'!=i.aggregation&&e.push(`a=${i.aggregation}`),i?.labels?.length&&i.labels.length>0&&e.push(`l=${i.labels.join(',')}`),i?.limit&&e.push(`m=${i.limit.toString()}`),i?.segments?.length&&i.segments.length>0&&e.push(`s=${i.segments.join(',')}`),n+=e.join('&')}return n}))}async fetch(e,t){return t&&void 0!==t.limit&&t.limit<=0?[]:super.fetch(e,t)}_fetchHeaders(e,t){const i=super._fetchHeaders(e,t);return t?.aggregation&&'nspms'!=t.aggregation&&i.append('noticeable-aggregation',t.aggregation),t?.labels?.length&&t.labels.length>0&&i.append('noticeable-labels',t.labels.join(',')),t?.limit&&i.append('noticeable-limit',t.limit.toString()),t?.segments?.length&&t.segments.length>0&&i.append('noticeable-segments',t.segments.join(',')),i}}class Tl extends bl{constructor(e){super(e,'widget',(t=>e.widgetsData+'/widgets/'+t))}}let Il=function(e){return e.IDENTITY_PUBLICATION_READ_INVALIDATE='identity:publication_read:invalidate',e.IDENTITY_PUBLICATION_SEEN_INVALIDATE='identity:publication_seen:invalidate',e.PROJECT_DATA_INVALIDATE='project_data:invalidate',e.PUBLICATION_DATA_INVALIDATE='publication_data:invalidate',e.WIDGET_DATA_INVALIDATE='widget_data:invalidate',e.WIDGET_CLOSE='widget:close',e.WIDGET_HIDE='widget:hide',e.WIDGET_OPEN='widget:open',e.WIDGET_REFRESH='widget:refresh',e.WIDGET_SHOW='widget:show',e.WIDGET_TOGGLE='widget:toggle',e}({}),Al=function(e){return e.WIDGET_PUBLICATION_READ='widget:publication:read',e.WIDGET_PUBLICATION_SEEN='widget:publication:seen',e.WIDGET_PUBLICATION_STATE='widget:publication:state',e.WIDGET_PUBLICATION_UNREAD_COUNT='widget:publication:unread_count',e.WIDGET_PUBLICATION_UNSEEN_COUNT='widget:publication:unseen_count',e}({}),Cl=function(e){return e.WIDGET_CLOSED='widget:closed',e.WIDGET_HIDDEN='widget:hidden',e.WIDGET_OPENED='widget:opened',e.WIDGET_VISIBLE='widget:visible',e}({}),Ol=function(e){return e.LOG_LEVEL='log_level',e.PREFERENCES='preferences',e.WIDGET_PUBLICATION_READ='widget:publication:read',e.WIDGET_PUBLICATION_READ_COUNT_FILTER='widget:publication:read_count:filter',e.WIDGET_PUBLICATION_SEEN='widget:publication:seen',e.WIDGET_PUBLICATION_SEEN_COUNT_FILTER='widget:publication:seen_count:filter',e.WIDGET_TRIGGER_VIEW_SETTINGS='widget:trigger_view:settings',e.WIDGET_WIDGET_VIEW_SETTINGS='widget:widget_view:settings',e}({}),Pl=function(e){return e.PLAN_UPGRADE_REQUIRED='plan-upgrade-required',e.PROJECT_DATA_MISSING='project-data-missing',e.WIDGET_ALREADY_RENDERED='widget-already-rendered',e.WIDGET_DATA_MISSING='widget-data-missing',e.WIDGET_DISABLED='widget-disabled',e.WIDGET_DISABLED_MOBILE='widget-disabled-mobile',e}({});function Nl(e){throw new Error(e)}class Ll{constructor(){e(this,'_listeners',void 0),this._listeners=new Map}static _checkEventSupported(e){Object.values(nl).includes(e)||Nl('Unknown event name: '+e)}dispatchEvent(e,t,i){const n=this._listeners.get(e);if(!n)return;const s=n.get(t);s&&s({detail:i,resourceId:e,type:t})}hasListener(e){const t=this._listeners.get(e);if(!t)return!1;for(var i=arguments.length,n=new Array(i>1?i-1:0),s=1;s<i;s++)n[s-1]=arguments[s];for(const e of n)if(void 0!==t.get(e))return!0;return!1}removeListener(e,t){Ll._checkEventSupported(t);const i=this._listeners.get(e);return!!i&&i.delete(t)}removeListeners(e){return this._listeners.delete(e)}removeListenersByEventType(e){let t=!1;for(const[i,n]of this._listeners)t=t||this._listeners[i].delete(e);return t}setListener(e,t,i){Ll._checkEventSupported(e);let n=this._listeners.get(t);n||(n=new Map),n.set(e,i),this._listeners.set(t,n)}}var xl,Rl={},Dl={},Ml={};function kl(){if(xl)return Ml;xl=1,Object.defineProperty(Ml,'__esModule',{value:!0}),Ml.formatCookie=void 0;var e=function(e){var t=e.path,i=e.domain,n=e.expires,s=e.secure,r=function(e){var t=e.sameSite;return void 0===t?null:['none','lax','strict'].indexOf(t.toLowerCase())>=0?t:null}(e);return[null==t?'':';path='+t,null==i?'':';domain='+i,null==n?'':';expires='+n.toUTCString(),void 0===s||!1===s?'':';secure',null===r?'':';SameSite='+r].join('')};return Ml.formatCookie=function(t,i,n){return[encodeURIComponent(t),'=',encodeURIComponent(i),e(n)].join('')},Ml}var Bl,Ul,Gl,Wl={};function jl(){if(Bl)return Wl;function e(e,i){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if('undefined'==typeof Symbol||!(Symbol.iterator in Object(e)))return;var i=[],n=!0,s=!1,r=void 0;try{for(var a,o=e[Symbol.iterator]();!(n=(a=o.next()).done)&&(i.push(a.value),!t||i.length!==t);n=!0);}catch(e){s=!0,r=e}finally{try{n||null==o.return||o.return()}finally{if(s)throw r}}return i}(e,i)||function(e,i){if(!e)return;if('string'==typeof e)return t(e,i);var n=Object.prototype.toString.call(e).slice(8,-1);'Object'===n&&e.constructor&&(n=e.constructor.name);if('Map'===n||'Set'===n)return Array.from(e);if('Arguments'===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return t(e,i)}(e,i)||function(){throw new TypeError('Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.')}()}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}Bl=1,Object.defineProperty(Wl,'__esModule',{value:!0}),Wl.parseCookies=void 0;return Wl.parseCookies=function(t){if(0===t.length)return{};var i={},n=new RegExp('\\s*;\\s*');return t.split(n).forEach((function(t){var n=e(t.split('='),2),s=n[0],r=n[1],a=decodeURIComponent(s),o=decodeURIComponent(r);i[a]=o})),i},Wl}function $l(){if(Ul)return Dl;function e(e,t,i){return t&&function(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(e.prototype,t),e}Ul=1,Object.defineProperty(Dl,'__esModule',{value:!0}),Dl.CookieStorage=void 0;var t=kl(),i=jl(),n=function(){function n(e){if(function(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}(this,n),this._defaultOptions=Object.assign({domain:null,expires:null,path:null,secure:!1},e),'undefined'!=typeof Proxy)return new Proxy(this,s)}return e(n,[{key:'clear',value:function(){var e=this,t=i.parseCookies(this._getCookie());Object.keys(t).forEach((function(t){return e.removeItem(t)}))}},{key:'getItem',value:function(e){var t=i.parseCookies(this._getCookie());return Object.prototype.hasOwnProperty.call(t,e)?t[e]:null}},{key:'key',value:function(e){var t=i.parseCookies(this._getCookie()),n=Object.keys(t).sort();return e<n.length?n[e]:null}},{key:'removeItem',value:function(e,i){var n=Object.assign(Object.assign(Object.assign({},this._defaultOptions),i),{expires:new Date(0)}),s=t.formatCookie(e,'',n);this._setCookie(s)}},{key:'setItem',value:function(e,i,n){var s=Object.assign(Object.assign({},this._defaultOptions),n),r=t.formatCookie(e,i,s);this._setCookie(r)}},{key:'_getCookie',value:function(){return'undefined'==typeof document||void 0===document.cookie?'':document.cookie}},{key:'_setCookie',value:function(e){document.cookie=e}},{key:'length',get:function(){var e=i.parseCookies(this._getCookie());return Object.keys(e).length}}]),n}();Dl.CookieStorage=n;var s={defineProperty:function(e,t,i){return e.setItem(t.toString(),String(i.value)),!0},deleteProperty:function(e,t){return e.removeItem(t.toString()),!0},get:function(e,t,i){if('string'==typeof t&&t in e)return e[t];var n=e.getItem(t.toString());return null!==n?n:void 0},getOwnPropertyDescriptor:function(e,t){if(!(t in e))return{configurable:!0,enumerable:!0,value:e.getItem(t.toString()),writable:!0}},has:function(e,t){return'string'==typeof t&&t in e||null!==e.getItem(t.toString())},ownKeys:function(e){for(var t=[],i=0;i<e.length;i++){var n=e.key(i);null!==n&&t.push(n)}return t},preventExtensions:function(e){throw new TypeError('can\'t prevent extensions on this proxy object')},set:function(e,t,i,n){return e.setItem(t.toString(),String(i)),!0}};return Dl}var Hl,Fl,zl=(Gl||(Gl=1,function(e){Object.defineProperty(e,'__esModule',{value:!0});var t=$l();Object.defineProperty(e,'CookieStorage',{enumerable:!0,get:function(){return t.CookieStorage}});var i=kl();Object.defineProperty(e,'formatCookie',{enumerable:!0,get:function(){return i.formatCookie}});var n=jl();Object.defineProperty(e,'parseCookies',{enumerable:!0,get:function(){return n.parseCookies}})}(Rl)),Rl),Vl={},Yl={};function Ql(){if(Hl)return Yl;Hl=1;var e=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();var t=function(){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}(this,t),this._keys=[],this._memory={}}return e(t,[{key:'clear',value:function(){this._memory={},this._keys=[]}},{key:'getItem',value:function(e){return this._memory.hasOwnProperty(e)?this._memory[e]:null}},{key:'key',value:function(e){var t=this._keys[e];return void 0===t?null:t}},{key:'removeItem',value:function(e){delete this._memory[e];var t=this._keys.indexOf(e);t<0||this._keys.splice(t,1)}},{key:'setItem',value:function(e,t){this._memory[e]=t,this._keys.indexOf(e)<0&&this._keys.push(e)}},{key:'length',get:function(){return this._keys.length}}]),t}();return Yl.SimpleMemoryStorage=t,Yl}var Kl=function(){if(Fl)return Vl;Fl=1;var e=Ql();return Vl.SimpleMemoryStorage=e.SimpleMemoryStorage,Vl}();class ql{constructor(t,i){e(this,'lastPublicationRead',void 0),e(this,'lastPublicationSeen',void 0),this.lastPublicationRead=t,this.lastPublicationSeen=i}}class Xl{static _hasStorage(e){try{const t=window[e],i='__noticeable_storage_test';t.setItem(i,'1');const n=t.getItem(i);return t.removeItem(i),'1'===n}catch(e){return!1}}static _storage(){return window.noticeable._preferences.firstPartyCookies.localStorage?Xl._hasStorage('localStorage')?window.localStorage:Xl._hasStorage('sessionStorage')?window.sessionStorage:new Kl.SimpleMemoryStorage:new zl.CookieStorage({expires:new Date(Date.now()+window.noticeable._preferences.firstPartyCookies.retentionPeriod),sameSite:'Lax'})}static deleteUserId(e){Xl.COOKIE_STORAGE.removeItem('noticeable_uid_'+e)}static deleteUserSsoToken(e){Xl.COOKIE_STORAGE.removeItem('noticeable_usso_'+e)}static deleteAllUserTraits(){for(const e in sessionStorage){const t=e.split('_');3===t.length&&'noticeable'===t[0]&&'traits'===t[1]&&sessionStorage.removeItem(e)}}static deletePublicationReadSeen(e){const t=Xl._storage();for(const i in t)(e||!i.startsWith('noticeable_lpr_')&&!i.startsWith('noticeable_lps_'))&&(!e||i!==`noticeable_lpr_${e}`&&i!==`noticeable_lps_${e}`)||t.removeItem(i)}static deleteUserTraits(e){sessionStorage.removeItem('noticeable_traits_'+e)}static getProjectStates(){const e=new Map,t=Xl._storage();for(const i in t){const n=i.split('_');let s;if(3===n.length&&'noticeable'===n[0])if('lpr'===n[1]){s=n[2];const r=Xl.getOrCreateProjectState(e,s),a=t.getItem(i);a&&(r.lastPublicationRead=new il(JSON.parse(a)))}else if('lps'===n[1]){s=n[2];const r=Xl.getOrCreateProjectState(e,s),a=t.getItem(i);a&&(r.lastPublicationSeen=new il(JSON.parse(a)))}}return e}static getOrCreateProjectState(e,t){let i=e.get(t);return i||(i=new ql(new il,new il),e.set(t,i)),i}static getPublicationRead(e){const t=Xl._storage().getItem(`noticeable_lpr_${e}`);return t?new il(JSON.parse(t)):new Set}static getPublicationSeen(e){const t=Xl._storage().getItem(`noticeable_lps_${e}`);return t?new il(JSON.parse(t)):new Set}static getUserId(e){return Xl.COOKIE_STORAGE.getItem('noticeable_uid_'+e)}static getUserIds(){return this._getIdCookieValueByProject('noticeable_uid')}static getUserSsoTokens(){return this._getIdCookieValueByProject('noticeable_usso')}static getAllUserTraits(){const e=new Map;for(const t in sessionStorage){const i=t.split('_');if(3===i.length&&'noticeable'===i[0]&&'traits'===i[1]){const n=sessionStorage.getItem(t);n&&e.set(i[2],JSON.parse(n))}}return e}static getUserTraits(e){const t=sessionStorage.getItem('noticeable_traits_'+e);return t?JSON.parse(t):{}}static _getIdCookieValueByProject(e){const t=Xl.COOKIE_STORAGE,i=new Map;for(const n in t)if(n.startsWith(e)){const e=n.split('_');3===e.length&&i.set(e[2],t[n])}return i}static reset(e){if(this.deletePublicationReadSeen(e),e)this.deleteUserId(e),this.deleteUserTraits(e);else{for(const e in Xl.COOKIE_STORAGE)e.startsWith('noticeable_uid_')&&Xl.COOKIE_STORAGE.removeItem(e);this.deleteAllUserTraits()}}static setPublicationSeen(e,t){Xl._storage().setItem(`noticeable_lps_${e}`,JSON.stringify(t.toArray()))}static setPublicationRead(e,t){Xl._storage().setItem(`noticeable_lpr_${e}`,JSON.stringify(t.toArray()))}static setUserId(e,t){Xl.COOKIE_STORAGE.setItem('noticeable_uid_'+e,t,{expires:new Date(Date.now()+window.noticeable._preferences.firstPartyCookies.retentionPeriod),sameSite:'None',secure:!0})}static setUserSsoToken(e,t){Xl.COOKIE_STORAGE.setItem('noticeable_usso_'+e,t,{expires:new Date(Date.now()+window.noticeable._preferences.firstPartyCookies.retentionPeriod),sameSite:'None',secure:!0})}static setUserTraits(e,t){t&&0!==Object.keys(t).length?sessionStorage.setItem('noticeable_traits_'+e,JSON.stringify(t)):sessionStorage.removeItem('noticeable_traits_'+e)}}e(Xl,'COOKIE_STORAGE',new zl.CookieStorage);const Zl=[];for(let e=0;e<256;++e)Zl.push((e+256).toString(16).slice(1));let Jl;const ec=new Uint8Array(16);var tc={randomUUID:'undefined'!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};function ic(e,t,i){if(tc.randomUUID&&!e)return tc.randomUUID();const n=(e=e||{}).random??e.rng?.()??function(){if(!Jl){if('undefined'==typeof crypto||!crypto.getRandomValues)throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');Jl=crypto.getRandomValues.bind(crypto)}return Jl(ec)}();if(n.length<16)throw new Error('Random bytes length must be >= 16');return n[6]=15&n[6]|64,n[8]=63&n[8]|128,function(e,t=0){return(Zl[e[t+0]]+Zl[e[t+1]]+Zl[e[t+2]]+Zl[e[t+3]]+'-'+Zl[e[t+4]]+Zl[e[t+5]]+'-'+Zl[e[t+6]]+Zl[e[t+7]]+'-'+Zl[e[t+8]]+Zl[e[t+9]]+'-'+Zl[e[t+10]]+Zl[e[t+11]]+Zl[e[t+12]]+Zl[e[t+13]]+Zl[e[t+14]]+Zl[e[t+15]]).toLowerCase()}(n)}class nc{constructor(t,i){e(this,'_dataRepository',void 0),e(this,'_lastPublicationRead',void 0),e(this,'_lastPublicationSeen',void 0),e(this,'_pendingIdentityUpdates',void 0),e(this,'_preferences',void 0),e(this,'_userIds',void 0),e(this,'_userSsoTokens',void 0),e(this,'_userTraits',void 0),this._dataRepository=t,this._lastPublicationRead=new Map,this._lastPublicationSeen=new Map,this._pendingIdentityUpdates=new Map,this._preferences=i,this._userIds=new Map,this._userSsoTokens=new Map,this._userTraits=new Map}initialize(){for(const[e,t]of Xl.getUserIds())this._userIds.set(e,t);for(const[e,t]of Xl.getUserSsoTokens())this._userSsoTokens.set(e,t);for(const[e,t]of Xl.getAllUserTraits())this._userTraits.set(e,t);const e=Xl.getProjectStates();for(const[t,i]of e.entries())this._lastPublicationRead.set(t,i.lastPublicationRead),this._lastPublicationSeen.set(t,i.lastPublicationSeen)}clearLastPublicationRead(){this._lastPublicationRead.clear()}clearLastPublicationSeen(){this._lastPublicationSeen.clear()}createOrExtendUserId(e){const t=this._userIds.get(e);if(t)Xl.setUserId(e,t);else{const t=ic();this._userIds.set(e,t),Xl.setUserId(e,t)}}async setLastPublicationRead(e,t,i){const n=this._lastPublicationRead.get(e)??new il;return i.merge||n.clear(),n.addAll(t),this._lastPublicationRead.set(e,n),Xl.setPublicationRead(e,n),n.size>0&&await this._remoteStateUpdate(e,t,null,!i.merge,!1),n}async setLastPublicationSeen(e,t,i){const n=this._lastPublicationSeen.get(e)??new il;return i.merge||n.clear(),n.addAll(t),this._lastPublicationSeen.set(e,n),Xl.setPublicationSeen(e,n),n.size>0&&await this._remoteStateUpdate(e,null,t,!1,!i.merge),n}async remoteIdentityUpdate(e){if(this.createOrExtendUserId(e),await this._isIdentifyAvailable(e)){rl.debug(`Calling identify for project ${e}`);try{const t={},n=this._userTraits.get(e),s=this._userSsoTokens.get(e);s?t.s=s:t.t={a:n?.avatarUrl??n?.avatar,d:n?.displayName??n?.name,e:n?.email,f:n?.firstName,i:n?.id??this._userIds.get(e),l:n?.lastName};const r=await fetch('https://pipeline.noticeable.io/i',{method:'POST',headers:{'content-type':'application/json'},body:JSON.stringify(i({p:e},t))}),a=await r.json();if(!r.ok)return void rl.error(`Identification failed. ${a.message} (${a.code})`);await this._isCrossDeviceSynchronizationEnabled(e)&&await this.setLastPublicationReadSeen(e,new il(a.lpr),new il(a.lps),!0,!0,!1);const o={avatarUrl:a.t?.a,displayName:a.t?.d,email:a.t?.e,firstName:a.t?.f,id:a.t?.i,lastName:a.t?.l};this._userTraits.set(e,o),Xl.setUserTraits(e,o)}catch(e){rl.error('Error while calling identify endpoint',e)}}}getLastPublicationRead(e){return this._lastPublicationRead.get(e)??new il}getLastPublicationSeen(e){return this._lastPublicationSeen.get(e)??new il}getPendingIdentityUpdate(e){return this._pendingIdentityUpdates.get(e)}getUserId(e){return this._userIds.get(e)}getUserSsoToken(e){return this._userSsoTokens.get(e)}getUserTraits(e){return this._userTraits.get(e)}isRead(e,t){const i=this._lastPublicationRead.get(e);return!!i&&i.has(t)}isSeen(e,t){const i=this._lastPublicationSeen.get(e);return!!i&&i.has(t)}reset(e){if(Xl.reset(e),e)this._lastPublicationRead.delete(e),this._lastPublicationSeen.delete(e),this._userIds.delete(e),this._userSsoTokens.delete(e),this._userTraits.delete(e),this.createOrExtendUserId(e);else{const e=new Set(this._userIds.keys());this._lastPublicationRead.clear(),this._lastPublicationSeen.clear(),this._userIds.clear(),this._userSsoTokens.clear(),this._userTraits.clear();for(const t of e)this.createOrExtendUserId(t)}}async setLastPublicationReadSeen(e,t,i,n,s){let r=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];if(t)if(n)this._lastPublicationRead.set(e,t),Xl.setPublicationRead(e,t);else{const i=this._lastPublicationRead.get(e)??new il;i.addAll(t.toArray()),this._lastPublicationRead.set(e,i),Xl.setPublicationRead(e,i)}if(i)if(s)this._lastPublicationSeen.set(e,i),Xl.setPublicationSeen(e,i);else{const t=this._lastPublicationSeen.get(e)??new il;t.addAll(i.toArray()),this._lastPublicationSeen.set(e,t),Xl.setPublicationSeen(e,t)}if(r)return this._remoteStateUpdate(e,t.toArray(),i.toArray(),n,s)}async update(e,t){if(this._pendingIdentityUpdates.has(e))return void rl.warn(`Skipping identify('${e}', ${JSON.stringify(t)}) since another call is already in progress. Make sure you do not call 'identify' multiple times consecutively.`);const i=this._update(e,t);return this._pendingIdentityUpdates.set(e,i),i}async _update(e,t){this.createOrExtendUserId(e),'string'==typeof t?(this._userSsoTokens.set(e,t),Xl.setUserSsoToken(e,t)):(t.id&&(this._userIds.set(e,t.id),Xl.setUserId(e,t.id)),this._userTraits.set(e,t),Xl.setUserTraits(e,t),Xl.deleteUserSsoToken(e),this._userSsoTokens.delete(e)),await this.remoteIdentityUpdate(e),this._pendingIdentityUpdates.delete(e)}async _isCrossDeviceSynchronizationEnabled(e){const t=await this._dataRepository.getProjectData(e);if(!t)return rl.warn('Skipping cross-device synchronization due to invalid project ID'),!1;const i=t?.features?.crossDeviceSynchronization;return!1===i?(rl.warn('Skipping cross-device synchronization because it is disabled at project level'),!1):qo.find(t?.planId??qo.FREE.id).includes(Lo.CROSS_DEVICE_SYNCHRONIZATION)?!0!==i||this._userIds.get(e)||this._userSsoTokens.get(e)?!1!==this._preferences.crossDeviceSynchronization||(rl.warn('Cross-device synchronization disabled at SDK preferences level'),!1):(rl.warn('Skipping cross-device synchronization because no user ID or SSO token is defined'),!1):(rl.warn(`Skipping cross-device synchronization. You need to upgrade to the ${qo.include(Lo.CROSS_DEVICE_SYNCHRONIZATION)[0].title} plan or higher to get this feature`),!1)}async _isIdentifyAvailable(e){const t=await this._dataRepository.getProjectData(e);return t?!!qo.find(t?.planId??qo.FREE.id).includes(Lo.END_USER_IDENTIFICATION)||(rl.warn(`Skipping end-user identification. You need to upgrade to the ${qo.include(Lo.END_USER_IDENTIFICATION)[0].title} plan or higher to get this feature`),!1):(rl.warn('Skipping identify due to invalid project ID'),!1)}async _remoteStateUpdate(e,t,n,s,r){if(await this._isCrossDeviceSynchronizationEnabled(e)){rl.debug(`Calling _remoteStateUpdate for project ${e}`);try{const a={},o=(this._userIds.get(e),this._userSsoTokens.get(e)),l=this._userTraits.get(e);o?a.s=o:a.t={a:l?.avatarUrl??l?.avatar,d:l?.displayName??l?.name,e:l?.email,f:l?.firstName,i:l?.id??this._userIds.get(e),l:l?.lastName},fetch('https://pipeline.noticeable.io/s',{method:'PUT',headers:{'content-type':'application/json'},body:JSON.stringify(i({lpr:t||null,lps:n||null,olpr:s,olps:r,p:e},a))})}catch(e){rl.error('Error while calling identify endpoint',e)}}}}var sc=class extends Error{code;constructor(e,t){super(t),this.name='PenpalError',this.code=e}},rc=e=>({name:e.name,message:e.message,stack:e.stack,penpalCode:e instanceof sc?e.code:void 0}),ac=Symbol('Reply'),oc=class{value;transferables;#e=ac;constructor(e,t){this.value=e,this.transferables=t?.transferables}},lc='penpal',cc=e=>'object'==typeof e&&null!==e,dc=e=>'function'==typeof e,uc=e=>'SYN'===e.type,pc=e=>'ACK1'===e.type,hc=e=>'ACK2'===e.type,mc=e=>'CALL'===e.type,fc=e=>'REPLY'===e.type,gc=(e,t=[])=>{const i=[];for(const n of Object.keys(e)){const s=e[n];dc(s)?i.push([...t,n]):cc(s)&&i.push(...gc(s,[...t,n]))}return i},_c=e=>e.join('.'),yc=(e,t,i)=>({namespace:lc,channel:e,type:'REPLY',callId:t,isError:!0,...i instanceof Error?{value:rc(i),isSerializedErrorInstance:!0}:{value:i}}),vc=(e,t,i,n)=>{let s=!1;const r=async r=>{if(s)return;if(!mc(r))return;n?.(`Received ${_c(r.methodPath)}() call`,r);const{methodPath:a,args:o,id:l}=r;let c,d;try{const e=((e,t)=>{const i=e.reduce(((e,t)=>cc(e)?e[t]:void 0),t);return dc(i)?i:void 0})(a,t);if(!e)throw new sc('METHOD_NOT_FOUND',`Method \`${_c(a)}\` is not found.`);let n=await e(...o);n instanceof oc&&(d=n.transferables,n=await n.value),c={namespace:lc,channel:i,type:'REPLY',callId:l,value:n}}catch(e){c=yc(i,l,e)}if(!s)try{n?.(`Sending ${_c(a)}() reply`,c),e.sendMessage(c,d)}catch(t){throw'DataCloneError'===t.name&&(c=yc(i,l,t),n?.(`Sending ${_c(a)}() reply`,c),e.sendMessage(c)),t}};return e.addMessageHandler(r),()=>{s=!0,e.removeMessageHandler(r)}},wc=crypto.randomUUID?.bind(crypto)??(()=>new Array(4).fill(0).map((()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16))).join('-')),bc=Symbol('CallOptions'),Ec=class{transferables;timeout;#e=bc;constructor(e){this.transferables=e?.transferables,this.timeout=e?.timeout}},Sc=new Set(['apply','call','bind']),Tc=(e,t,i=[])=>new Proxy(i.length?()=>{}:Object.create(null),{get(n,s){if('then'!==s)return i.length&&Sc.has(s)?Reflect.get(n,s):Tc(e,t,[...i,s])},apply:(t,n,s)=>e(i,s)}),Ic=e=>new sc('CONNECTION_DESTROYED',`Method call ${_c(e)}() failed due to destroyed connection`),Ac=(e,t,i)=>{let n=!1;const s=new Map,r=e=>{if(!fc(e))return;const{callId:t,value:n,isError:r,isSerializedErrorInstance:a}=e,o=s.get(t);o&&(s.delete(t),i?.(`Received ${_c(o.methodPath)}() call`,e),r?o.reject(a?(({name:e,message:t,stack:i,penpalCode:n})=>{const s=n?new sc(n,t):new Error(t);return s.name=e,s.stack=i,s})(n):n):o.resolve(n))};e.addMessageHandler(r);return{remoteProxy:Tc(((r,a)=>{if(n)throw Ic(r);const o=wc(),l=a[a.length-1],c=l instanceof Ec,{timeout:d,transferables:u}=c?l:{},p=c?a.slice(0,-1):a;return new Promise(((n,a)=>{const l=void 0!==d?window.setTimeout((()=>{s.delete(o),a(new sc('METHOD_CALL_TIMEOUT',`Method call ${_c(r)}() timed out after ${d}ms`))}),d):void 0;s.set(o,{methodPath:r,resolve:n,reject:a,timeoutId:l});try{const n={namespace:lc,channel:t,type:'CALL',id:o,methodPath:r,args:p};i?.(`Sending ${_c(r)}() call`,n),e.sendMessage(n,u)}catch(e){a(new sc('TRANSMISSION_FAILED',e.message))}}))}),i),destroy:()=>{n=!0,e.removeMessageHandler(r);for(const{methodPath:e,reject:t,timeoutId:i}of s.values())clearTimeout(i),t(Ic(e));s.clear()}}},Cc=()=>{let e,t;return{promise:new Promise(((i,n)=>{e=i,t=n})),resolve:e,reject:t}},Oc=class extends Error{constructor(e){super(`You've hit a bug in Penpal. Please file an issue with the following information: ${e}`)}},Pc='deprecated-penpal',Nc=e=>e.join('.'),Lc=e=>new Oc(`Unexpected message to translate: ${JSON.stringify(e)}`),xc=({messenger:e,methods:t,timeout:i,channel:n,log:s})=>{const r=wc();let a;const o=[];let l=!1;const c=gc(t),{promise:d,resolve:u,reject:p}=Cc(),h=void 0!==i?setTimeout((()=>{p(new sc('CONNECTION_TIMEOUT',`Connection timed out after ${i}ms`))}),i):void 0,m=()=>{for(const e of o)e()},f=()=>{if(l)return;o.push(vc(e,t,n,s));const{remoteProxy:i,destroy:r}=Ac(e,n,s);o.push(r),clearTimeout(h),l=!0,u({remoteProxy:i,destroy:m})},g=()=>{const t={namespace:lc,type:'SYN',channel:n,participantId:r};s?.('Sending handshake SYN',t);try{e.sendMessage(t)}catch(e){p(new sc('TRANSMISSION_FAILED',e.message))}},_=t=>{uc(t)&&(t=>{if(s?.('Received handshake SYN',t),t.participantId===a&&a!==Pc)return;if(a=t.participantId,g(),!(r>a||a===Pc))return;const i={namespace:lc,channel:n,type:'ACK1',methodPaths:c};s?.('Sending handshake ACK1',i);try{e.sendMessage(i)}catch(e){return void p(new sc('TRANSMISSION_FAILED',e.message))}})(t),pc(t)&&(t=>{s?.('Received handshake ACK1',t);const i={namespace:lc,channel:n,type:'ACK2'};s?.('Sending handshake ACK2',i);try{e.sendMessage(i)}catch(e){return void p(new sc('TRANSMISSION_FAILED',e.message))}f()})(t),hc(t)&&(e=>{s?.('Received handshake ACK2',e),f()})(t)};return e.addMessageHandler(_),o.push((()=>e.removeMessageHandler(_))),g(),d},Rc=e=>{let t,i=!1;return(...n)=>(i||(i=!0,t=e(...n)),t)},Dc=new WeakSet,Mc=({messenger:e,methods:t={},timeout:i,channel:n,log:s})=>{if(!e)throw new sc('INVALID_ARGUMENT','messenger must be defined');if(Dc.has(e))throw new sc('INVALID_ARGUMENT','A messenger can only be used for a single connection');Dc.add(e);const r=[e.destroy],a=Rc((t=>{if(t){const t={namespace:lc,channel:n,type:'DESTROY'};try{e.sendMessage(t)}catch(e){}}for(const e of r)e();s?.('Connection destroyed')})),o=e=>(e=>cc(e)&&e.namespace===lc)(e)&&e.channel===n;return{promise:(async()=>{try{e.initialize({log:s,validateReceivedMessage:o}),e.addMessageHandler((e=>{(e=>'DESTROY'===e.type)(e)&&a(!1)}));const{remoteProxy:l,destroy:c}=await xc({messenger:e,methods:t,timeout:i,channel:n,log:s});return r.push(c),l}catch(e){throw a(!0),e}})(),destroy:()=>{a(!0)}}},kc=class{#t;#i;#n;#s;#r;#a=new Set;#o;#l=!1;constructor({remoteWindow:e,allowedOrigins:t}){if(!e)throw new sc('INVALID_ARGUMENT','remoteWindow must be defined');this.#t=e,this.#i=t?.length?t:[window.origin]}initialize=({log:e,validateReceivedMessage:t})=>{this.#n=e,this.#s=t,window.addEventListener('message',this.#c)};sendMessage=(e,t)=>{if(uc(e)){const i=this.#d(e);this.#t.postMessage(e,{targetOrigin:i,transfer:t})}else if(pc(e)||this.#l){const i=this.#l?(e=>{if(pc(e))return{penpal:'synAck',methodNames:e.methodPaths.map(Nc)};if(mc(e))return{penpal:'call',id:e.id,methodName:Nc(e.methodPath),args:e.args};if(fc(e))return e.isError?{penpal:'reply',id:e.callId,resolution:'rejected',...e.isSerializedErrorInstance?{returnValue:e.value,returnValueIsError:!0}:{returnValue:e.value}}:{penpal:'reply',id:e.callId,resolution:'fulfilled',returnValue:e.value};throw Lc(e)})(e):e,n=this.#d(e);this.#t.postMessage(i,{targetOrigin:n,transfer:t})}else if(hc(e)){const{port1:i,port2:n}=new MessageChannel;this.#o=i,i.addEventListener('message',this.#u),i.start();const s=[n,...t||[]],r=this.#d(e);this.#t.postMessage(e,{targetOrigin:r,transfer:s})}else{if(!this.#o)throw new Oc('Port is undefined');this.#o.postMessage(e,{transfer:t})}};addMessageHandler=e=>{this.#a.add(e)};removeMessageHandler=e=>{this.#a.delete(e)};destroy=()=>{window.removeEventListener('message',this.#c),this.#p(),this.#a.clear()};#h=e=>this.#i.some((t=>t instanceof RegExp?t.test(e):t===e||'*'===t));#d=e=>{if(uc(e))return'*';if(!this.#r)throw new Oc('Concrete remote origin not set');return'null'===this.#r&&this.#i.includes('*')?'*':this.#r};#p=()=>{this.#o?.removeEventListener('message',this.#u),this.#o?.close(),this.#o=void 0};#c=({source:e,origin:t,ports:i,data:n})=>{if(e===this.#t&&((e=>cc(e)&&'penpal'in e)(n)&&(this.#n?.('Please upgrade the child window to the latest version of Penpal.'),this.#l=!0,n=(e=>{if('syn'===e.penpal)return{namespace:lc,channel:void 0,type:'SYN',participantId:Pc};if('ack'===e.penpal)return{namespace:lc,channel:void 0,type:'ACK2'};if('call'===e.penpal)return{namespace:lc,channel:void 0,type:'CALL',id:e.id,methodPath:(t=e.methodName,t.split('.')),args:e.args};var t;if('reply'===e.penpal)return'fulfilled'===e.resolution?{namespace:lc,channel:void 0,type:'REPLY',callId:e.id,value:e.returnValue}:{namespace:lc,channel:void 0,type:'REPLY',callId:e.id,isError:!0,...e.returnValueIsError?{value:e.returnValue,isSerializedErrorInstance:!0}:{value:e.returnValue}};throw Lc(e)})(n)),this.#s?.(n)))if(this.#h(t)){if(uc(n)&&(this.#p(),this.#r=t),hc(n)&&!this.#l){if(this.#o=i[0],!this.#o)throw new Oc('No port received on ACK2');this.#o.addEventListener('message',this.#u),this.#o.start()}for(const e of this.#a)e(n)}else this.#n?.(`Received a message from origin \`${t}\` which did not match allowed origins \`[${this.#i.join(', ')}]\``)};#u=({data:e})=>{if(this.#s?.(e))for(const t of this.#a)t(e)}};class Bc{constructor(t,i,n){e(this,'_element',void 0),e(this,'_loading',void 0),e(this,'_mouseEnterListener',void 0),e(this,'_mouseLeaveListener',void 0),e(this,'_visible',void 0),this._element=t,this._element.classList.add('noticeable-view_hidden'),this._loading=!0,this._mouseEnterListener=i,this._mouseLeaveListener=n,this._visible=!1}async alreadyRendered(e){}get element(){return this._element}destroy(){this._mouseEnterListener&&this._element.removeEventListener('mouseenter',this._mouseEnterListener),this._mouseLeaveListener&&this._element.removeEventListener('mouseleave',this._mouseLeaveListener),this._destroy()}_destroy(){}async hide(){if(this._visible)return this._visible=!1,this._hide()}async _hide(){this._element.classList.add('noticeable-view_hidden'),this._element.style.opacity='0',this._element.style.visibility='hidden'}async refresh(){return this._refresh()}_refresh(){return Promise.resolve({})}async render(e){const t=await this._render(e);return this._mouseEnterListener&&this._element.addEventListener('mouseenter',this._mouseEnterListener),this._mouseLeaveListener&&this._element.addEventListener('mouseleave',this._mouseLeaveListener),t}async show(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._visible||(this._visible=!0,this._show(e))}_show(){this._element.classList.remove('noticeable-view_hidden'),this._element.style.opacity='1',this._element.style.visibility='visible'}get visible(){return this._visible}}class Uc extends Bc{constructor(t,i,n,s,r){super(i,s,r),e(this,'_clickListener',void 0),e(this,'_trigger',void 0),this._clickListener=n,this._element.classList.add('noticeable-trigger-view'),this._trigger=t}destroy(){this._element.removeEventListener('click',this._clickListener),super.destroy()}dispatchEvent(e,t){this._trigger.widget.eventRegistry.dispatchEvent(this._trigger.widget.id,e,t)}async refresh(){return await this._refresh(),this.dispatchEvent(nl.WIDGET_TRIGGER_REFRESHED),{}}async render(e){const t=await super.render(e);return this._element.addEventListener('click',this._clickListener),this.dispatchEvent(nl.WIDGET_TRIGGER_READY),t}_onIdentityChange(e,t,i){}}class Gc extends Uc{constructor(t){super(t,zc('Noticeable Trigger',(e=>{if(this._visible){const t=e.target;t.style.opacity='1',t.style.visibility='visible',this._loading=!1}})),(()=>this.dispatchEvent(nl.WIDGET_TRIGGER_VIEW_CLICKED)),(()=>this.dispatchEvent(nl.WIDGET_TRIGGER_VIEW_MOUSE_ENTERED)),(()=>this.dispatchEvent(nl.WIDGET_TRIGGER_VIEW_MOUSE_LEFT))),e(this,'_childConnection',void 0),e(this,'_child',void 0),e(this,'_messenger',void 0)}connectToChild(){return this._messenger=new kc({allowedOrigins:[new URL(this._element.src).origin],remoteWindow:this._element.contentWindow}),Mc({messenger:this._messenger,methods:{getWidgetId:async()=>this._trigger.widget.id,getWindowLocationHref:async()=>window.location.href,toggle:async()=>this._trigger.widget.toggle()}})}async initializeChildConnection(){this._childConnection&&(this._child=await this._childConnection.promise,await this._child.setSdkPreferences(this._trigger.widget.preferences))}get child(){return this._child}destroy(){this._childConnection&&(this._childConnection.destroy(),this._child=void 0,this._childConnection=void 0),this._destroy(),this._element.remove()}}class Wc extends Bc{constructor(t,i){super(i,(()=>this.dispatchEvent(nl.WIDGET_WIDGET_VIEW_MOUSE_ENTERED)),(()=>this.dispatchEvent(nl.WIDGET_WIDGET_VIEW_MOUSE_LEFT))),e(this,'_backdrop',void 0),e(this,'_backdropClickable',void 0),e(this,'_backdropElement',void 0),e(this,'_backdropClickListener',void 0),e(this,'_widget',void 0),e(this,'_zIndex',''),this._backdrop=!1,this._backdropClickable=!1,this._backdropClickListener=()=>this._backdropClickable?this._widget.close():void 0,this._backdropElement=document.createElement('div'),this._backdropElement.addEventListener('click',this._backdropClickListener),this._backdropElement.id='noticeable-backdrop',this._backdropElement.style.bottom='0',this._backdropElement.style.left='0',this._backdropElement.style.position='fixed',this._backdropElement.style.right='0',this._backdropElement.style.top='0',this._backdropElement.style.zIndex='2147482999',this._element.classList.add('noticeable-widget-view'),this._element.style.zIndex='-1',this._widget=t}dispatchEvent(e,t){this._widget.eventRegistry.dispatchEvent(this._widget.id,e,t)}get publicationFetchLimit(){return 9}get aggregationMethod(){return'nspms'}async refresh(){const e=await this._refresh();return this.dispatchWidgetRefreshedEvent(e),e}dispatchWidgetRefreshedEvent(e){this.dispatchEvent(nl.WIDGET_REFRESHED)}async render(e){const t=await super.render(e);return this.dispatchWidgetReadyEvent(t),t}dispatchWidgetReadyEvent(e){this.dispatchEvent(nl.WIDGET_READY)}destroy(){this._backdropElement.remove(),super.destroy()}async _hide(){this._backdrop&&this._backdropElement.remove(),await super._hide(),this._element.style.zIndex='-1'}async _show(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._backdrop&&document.body.prepend(this._backdropElement),await super._show(e),this._element.style.zIndex=this._zIndex,-1!=navigator.userAgent.indexOf('Safari')&&-1==navigator.userAgent.indexOf('Chrome')&&await this.refresh()}}class jc extends Wc{constructor(t){super(t,zc('Noticeable Widget',(e=>{if(this._visible){const t=e.target;t.style.opacity='1',t.style.visibility='visible',this._loading=!1}}))),e(this,'_child',void 0),e(this,'_childConnection',void 0),e(this,'_childInitializationPromise',void 0),e(this,'_messenger',void 0),this._element.allowFullscreen=!0}connectToChild(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._messenger=new kc({allowedOrigins:[new URL(this._element.src).origin],remoteWindow:this._element.contentWindow}),Mc({messenger:this._messenger,methods:i({close:()=>this._widget.close(),dispatchEvent:(e,t)=>this.dispatchEvent(e,t),getWidgetId:()=>this._widget.id,getWindowLocationHref:()=>window.location.href,openUrl:(e,t)=>{window.open(e,t)}},e)})}async initializeChildConnection(){this._childConnection&&(this._child=await this._childConnection.promise,await this._child.setSdkPreferences(this._widget.preferences))}async ensureChildConnectionInitialized(){this._childInitializationPromise?await this._childInitializationPromise:this._childConnection&&(this._childInitializationPromise=this._childConnection.promise.then((e=>(this._child=e,this._child.setSdkPreferences(this._widget.preferences),this._child))),await this._childInitializationPromise)}get child(){return this._child}destroy(){this._childConnection&&(this._childConnection.destroy(),this._child=void 0,this._childConnection=void 0),super.destroy(),this._element.remove()}get iframe(){return this._element}async _hide(){return await this.ensureChildConnectionInitialized(),this._child?.onHide(),super._hide()}async _onIdentityChange(e,t,i){await this.ensureChildConnectionInitialized(),this._child?.onIdentityChange(e,t,i)}async _show(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};await super._show(e),await this.ensureChildConnectionInitialized(),this._child?.onShow(e)}}class $c extends jc{constructor(t){super(t),e(this,'_windowResizeListener',void 0),this._windowResizeListener=()=>{this.refresh()}}_destroy(){super._destroy(),window.removeEventListener('resize',this._windowResizeListener)}async _render(e){return window.addEventListener('resize',this._windowResizeListener),{}}}class Hc extends $c{dispatchWidgetReadyEvent(e){this.dispatchEvent(nl.WIDGET_READY,{publications:e.publicationData})}dispatchWidgetRefreshedEvent(e){this.dispatchEvent(nl.WIDGET_REFRESHED,{publications:e.publicationData})}connectToChild(e){var t=this;return super.connectToChild(i({getLastPublicationRead:async()=>this._widget.getLastPublicationRead(),setPublicationRead:async function(){for(var e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];return t._widget.setPublicationRead(i,{merge:!0})},setPublicationSeen:async function(){for(var e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];return t._widget.setPublicationSeen(i,{merge:!0})}},e??{}))}}class Fc extends Hc{constructor(t){super(t),e(this,'_lightbox',void 0),this._lightbox=el.mount()}connectToChild(e){return super.connectToChild(i({openLightbox:(e,t)=>this._lightbox?.open(e,t)},e??{}))}async _render(e){const t=await super._render(e),i=await this._widget.getProjectData();return this._lightbox?.setAttribute('theme-color',i.accentColor),t}}function zc(e,t){const i=document.createElement('iframe');return i.allowTransparency='1',i.frameBorder='0',i.height='0',i.onload=t,i.scrolling='no',i.tabIndex=-1,i.style.border='0',i.style.opacity='0',i.style.overflow='hidden',i.style.userSelect='none',i.style.visibility='hidden',i.title=e,i.width='0',i}let Vc=function(e){return e.WIDGET='widget',e}({});const Yc='#noticeable-widget';function Qc(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Yc;e||(rl.warn(`You specified an invalid selector (${e}). Falling back to the default ${i} selector`),e=i);const n=(t||window.document).querySelectorAll(e);if(0===n.length)throw new Error('Could not find element matching selector: '+e);return 1===n.length||rl.warn('Your selector match several elements on this page. The first one was picked'),n.item(0)}class Kc extends $c{constructor(){super(...arguments),e(this,'_email',void 0)}connectToChild(e){return super.connectToChild(i({setHeight:e=>{const t=e+'px';this.iframe.height=t,this.iframe.style.height=t}},e??{}))}async _render(e){this._element.src='https://widgets.noticeable.io/email-preference-center/index.html',this._email=e?.email;const t=await this._widget.getWidgetData();return Qc(e?.selector??t.widgetViewSettings.selector,e?.root).appendChild(this._element),this.iframe.style.width='100%',await super._render(e),this._childConnection=this.connectToChild(),await this.initializeChildConnection(),await this._widget.open(),this.refresh()}async _refresh(){const e=this._widget.getEmailSubscription(this._widget.projectId,this._email??''),t=this._widget.getProjectData(),i=this._widget.getWidgetData(),n=pl(),s=await e,r=await t,a=await i;return await(this._child?.refresh({emailSubscription:s,isMobile:n,projectData:r,widgetId:this._widget.id,widgetSettings:a.widgetViewSettings})),{}}}class qc extends $c{connectToChild(e){return super.connectToChild(i({setHeight:e=>{const t=e+'px';this.iframe.height=t,this.iframe.style.height=t}},e??{}))}async _render(e){this._element.src='https://widgets.noticeable.io/email-subscription-form/index.html';const t=await this._widget.getWidgetData();return Qc(e?.selector??t.widgetViewSettings.selector,e?.root).appendChild(this._element),this.iframe.style.width='100%',await super._render(e),this._childConnection=this.connectToChild(),await this.initializeChildConnection(),await this._widget.open(),await this.refresh()}async _refresh(){const e=this._widget.getProjectData(),t=this._widget.getWidgetData(),i=pl(),n=await e,s=await t;return await(this._child?.refresh({isMobile:i,projectData:n,widgetId:this._widget.id,widgetSettings:s.widgetViewSettings})),{}}}class Xc extends Fc{constructor(e){super(e)}_destroy(){this._widget.trigger.destroy(),super._destroy()}async render(e){return await this.handleFirstTimeLoading(),super.render(e)}async handleFirstTimeLoading(){if(0===this._widget.getLastPublicationSeen().size){const e=await this._widget.getWidgetData();if(e.widgetViewSettings.firstVisitUnreadUnseenCount>=0&&e.widgetViewSettings.firstVisitUnreadUnseenCount<e.widgetViewSettings.maxPublicationCount){const t=await this._widget.getPublicationData(),i=new il;for(let n=t.length-1;n>=e.widgetViewSettings.firstVisitUnreadUnseenCount;n--){const e=t[n];i.add(e.id),e.publicationTimestamp}await this._widget.identity.setLastPublicationReadSeen(this._widget.projectId,new il(i.toArray()),new il(i.toArray()),!0,!0,!0)}}const e=await this._widget.getPublicationState();this._widget.eventRegistry.dispatchEvent(this._widget.id,nl.WIDGET_PUBLICATION_UNREAD_COUNT_CHANGED,{unreadPublicationIds:[...e.lastPublicationUnread],value:e.unreadCount}),this._widget.eventRegistry.dispatchEvent(this._widget.id,nl.WIDGET_PUBLICATION_UNSEEN_COUNT_CHANGED,{unseenPublicationIds:[...e.lastPublicationUnseen],value:e.unseenCount})}async _render(e){const t=this._widget.trigger.render({root:e?.root,selector:e?.selector});this._element.src='https://widgets.noticeable.io/modal/index.html',this._element.style.boxShadow='rgba(0, 0, 0, 0.16) 0 5px 40px',this._element.style.position='fixed',this._zIndex='2147482999',document.body.appendChild(this._element),await super._render(e),this._childConnection=super.connectToChild(),await this.initializeChildConnection();const i=await this.refresh();return await t,i}async _refresh(){const e=this._widget.getProjectData(),t=this._widget.getPublicationData(),i=this._widget.getWidgetData(),n=pl(),s=await e,r=await t,a=await i;return this._child?.refresh({isMobile:n,projectData:s,publicationData:r,widgetId:this._widget.id,widgetSettings:a.widgetViewSettings}),this._backdrop=a.widgetViewSettings.backdrop??!1,this._backdropClickable=a.widgetViewSettings.backdropClickable??!1,this._backdrop?(this._backdropElement.style.background=a.widgetViewSettings.backdropColor??'#00000099',this._widget.opened&&!this._backdropElement.isConnected?document.body.prepend(this._backdropElement):!this._widget.opened&&this._backdropElement.isConnected&&this._backdropElement.remove()):this._backdropElement.isConnected&&this._backdropElement.remove(),n?(this._element.style.borderRadius=ml(0),this._element.style.bottom=ml(0),this._element.style.height='100%',this._element.style.left=ml(0),this._element.style.marginLeft=ml(0),this._element.style.marginTop=ml(0),this._element.style.maxWidth='unset',this._element.style.minWidth='unset',this._element.style.right=ml(0),this._element.style.top=ml(0),this._element.style.transform='none',this._element.style.width='100%'):(this._element.style.borderRadius=ml(a.widgetViewSettings.borderRadius??8),this._element.style.height=a.widgetViewSettings.height+'%',this._element.style.left='50%',this._element.style.marginLeft=-this._element.offsetWidth/2+'px',this._element.style.marginTop=-this._element.offsetHeight/2+'px',this._element.style.maxWidth='780px',this._element.style.minWidth='480px',this._element.style.top='50%',this._element.style.width=a.widgetViewSettings.width+'%'),{publicationData:r}}async _show(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=await this._widget.getPublicationData();await super._show(e),await this.refresh(),await this._widget.setPublicationSeen(t.map((e=>e.id)),{merge:!0})}}var Zc='object'==typeof global&&global&&global.Object===Object&&global,Jc='object'==typeof self&&self&&self.Object===Object&&self,ed=Zc||Jc||Function('return this')(),td=ed.Symbol,id=Object.prototype,nd=id.hasOwnProperty,sd=id.toString,rd=td?td.toStringTag:void 0;var ad=Object.prototype.toString;var od=td?td.toStringTag:void 0;function ld(e){return null==e?void 0===e?'[object Undefined]':'[object Null]':od&&od in Object(e)?function(e){var t=nd.call(e,rd),i=e[rd];try{e[rd]=void 0;var n=!0}catch(e){}var s=sd.call(e);return n&&(t?e[rd]=i:delete e[rd]),s}(e):function(e){return ad.call(e)}(e)}function cd(e){return null!=e&&'object'==typeof e}var dd=Array.isArray;function ud(e){var t=typeof e;return null!=e&&('object'==t||'function'==t)}function pd(e){return e}function hd(e){if(!ud(e))return!1;var t=ld(e);return'[object Function]'==t||'[object GeneratorFunction]'==t||'[object AsyncFunction]'==t||'[object Proxy]'==t}var md,fd=ed['__core-js_shared__'],gd=(md=/[^.]+$/.exec(fd&&fd.keys&&fd.keys.IE_PROTO||''))?'Symbol(src)_1.'+md:'';var _d=Function.prototype.toString;function yd(e){if(null!=e){try{return _d.call(e)}catch(e){}try{return e+''}catch(e){}}return''}var vd=/^\[object .+?Constructor\]$/,wd=Function.prototype,bd=Object.prototype,Ed=wd.toString,Sd=bd.hasOwnProperty,Td=RegExp('^'+Ed.call(Sd).replace(/[\\^$.*+?()[\]{}|]/g,'\\$&').replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,'$1.*?')+'$');function Id(e){return!(!ud(e)||(t=e,gd&&gd in t))&&(hd(e)?Td:vd).test(yd(e));var t}function Ad(e,t){var i=function(e,t){return null==e?void 0:e[t]}(e,t);return Id(i)?i:void 0}var Cd=Ad(ed,'WeakMap'),Od=Object.create,Pd=function(){function e(){}return function(t){if(!ud(t))return{};if(Od)return Od(t);e.prototype=t;var i=new e;return e.prototype=void 0,i}}();var Nd=Date.now;var Ld,xd,Rd,Dd=function(){try{var e=Ad(Object,'defineProperty');return e({},'',{}),e}catch(e){}}(),Md=Dd?function(e,t){return Dd(e,'toString',{configurable:!0,enumerable:!1,value:(i=t,function(){return i}),writable:!0});var i}:pd,kd=(Ld=Md,xd=0,Rd=0,function(){var e=Nd(),t=16-(e-Rd);if(Rd=e,t>0){if(++xd>=800)return arguments[0]}else xd=0;return Ld.apply(void 0,arguments)}),Bd=/^(?:0|[1-9]\d*)$/;function Ud(e,t){var i=typeof e;return!!(t=null==t?9007199254740991:t)&&('number'==i||'symbol'!=i&&Bd.test(e))&&e>-1&&e%1==0&&e<t}function Gd(e,t,i){'__proto__'==t&&Dd?Dd(e,t,{configurable:!0,enumerable:!0,value:i,writable:!0}):e[t]=i}function Wd(e,t){return e===t||e!=e&&t!=t}var jd=Object.prototype.hasOwnProperty;function $d(e,t,i){var n=e[t];jd.call(e,t)&&Wd(n,i)&&(void 0!==i||t in e)||Gd(e,t,i)}var Hd=Math.max;function Fd(e,t){return kd(function(e,t,i){return t=Hd(void 0===t?e.length-1:t,0),function(){for(var n=arguments,s=-1,r=Hd(n.length-t,0),a=Array(r);++s<r;)a[s]=n[t+s];s=-1;for(var o=Array(t+1);++s<t;)o[s]=n[s];return o[t]=i(a),function(e,t,i){switch(i.length){case 0:return e.call(t);case 1:return e.call(t,i[0]);case 2:return e.call(t,i[0],i[1]);case 3:return e.call(t,i[0],i[1],i[2])}return e.apply(t,i)}(e,this,o)}}(e,t,pd),e+'')}function zd(e){return'number'==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}function Vd(e){return null!=e&&zd(e.length)&&!hd(e)}var Yd=Object.prototype;function Qd(e){var t=e&&e.constructor;return e===('function'==typeof t&&t.prototype||Yd)}function Kd(e){return cd(e)&&'[object Arguments]'==ld(e)}var qd=Object.prototype,Xd=qd.hasOwnProperty,Zd=qd.propertyIsEnumerable,Jd=Kd(function(){return arguments}())?Kd:function(e){return cd(e)&&Xd.call(e,'callee')&&!Zd.call(e,'callee')};var eu='object'==typeof exports&&exports&&!exports.nodeType&&exports,tu=eu&&'object'==typeof module&&module&&!module.nodeType&&module,iu=tu&&tu.exports===eu?ed.Buffer:void 0,nu=(iu?iu.isBuffer:void 0)||function(){return!1},su={};su['[object Float32Array]']=su['[object Float64Array]']=su['[object Int8Array]']=su['[object Int16Array]']=su['[object Int32Array]']=su['[object Uint8Array]']=su['[object Uint8ClampedArray]']=su['[object Uint16Array]']=su['[object Uint32Array]']=!0,su['[object Arguments]']=su['[object Array]']=su['[object ArrayBuffer]']=su['[object Boolean]']=su['[object DataView]']=su['[object Date]']=su['[object Error]']=su['[object Function]']=su['[object Map]']=su['[object Number]']=su['[object Object]']=su['[object RegExp]']=su['[object Set]']=su['[object String]']=su['[object WeakMap]']=!1;var ru='object'==typeof exports&&exports&&!exports.nodeType&&exports,au=ru&&'object'==typeof module&&module&&!module.nodeType&&module,ou=au&&au.exports===ru&&Zc.process,lu=function(){try{var e=au&&au.require&&au.require('util').types;return e||ou&&ou.binding&&ou.binding('util')}catch(e){}}(),cu=lu&&lu.isTypedArray,du=cu?function(e){return function(t){return e(t)}}(cu):function(e){return cd(e)&&zd(e.length)&&!!su[ld(e)]},uu=Object.prototype.hasOwnProperty;function pu(e,t){var i=dd(e),n=!i&&Jd(e),s=!i&&!n&&nu(e),r=!i&&!n&&!s&&du(e),a=i||n||s||r,o=a?function(e,t){for(var i=-1,n=Array(e);++i<e;)n[i]=t(i);return n}(e.length,String):[],l=o.length;for(var c in e)!t&&!uu.call(e,c)||a&&('length'==c||s&&('offset'==c||'parent'==c)||r&&('buffer'==c||'byteLength'==c||'byteOffset'==c)||Ud(c,l))||o.push(c);return o}function hu(e,t){return function(i){return e(t(i))}}var mu=hu(Object.keys,Object),fu=Object.prototype.hasOwnProperty;function gu(e){return Vd(e)?pu(e):function(e){if(!Qd(e))return mu(e);var t=[];for(var i in Object(e))fu.call(e,i)&&'constructor'!=i&&t.push(i);return t}(e)}var _u=Object.prototype.hasOwnProperty;function yu(e){if(!ud(e))return function(e){var t=[];if(null!=e)for(var i in Object(e))t.push(i);return t}(e);var t=Qd(e),i=[];for(var n in e)('constructor'!=n||!t&&_u.call(e,n))&&i.push(n);return i}function vu(e){return Vd(e)?pu(e,!0):yu(e)}var wu=Ad(Object,'create');var bu=Object.prototype.hasOwnProperty;var Eu=Object.prototype.hasOwnProperty;function Su(e){var t=-1,i=null==e?0:e.length;for(this.clear();++t<i;){var n=e[t];this.set(n[0],n[1])}}function Tu(e,t){for(var i=e.length;i--;)if(Wd(e[i][0],t))return i;return-1}Su.prototype.clear=function(){this.__data__=wu?wu(null):{},this.size=0},Su.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Su.prototype.get=function(e){var t=this.__data__;if(wu){var i=t[e];return'__lodash_hash_undefined__'===i?void 0:i}return bu.call(t,e)?t[e]:void 0},Su.prototype.has=function(e){var t=this.__data__;return wu?void 0!==t[e]:Eu.call(t,e)},Su.prototype.set=function(e,t){var i=this.__data__;return this.size+=this.has(e)?0:1,i[e]=wu&&void 0===t?'__lodash_hash_undefined__':t,this};var Iu=Array.prototype.splice;function Au(e){var t=-1,i=null==e?0:e.length;for(this.clear();++t<i;){var n=e[t];this.set(n[0],n[1])}}Au.prototype.clear=function(){this.__data__=[],this.size=0},Au.prototype.delete=function(e){var t=this.__data__,i=Tu(t,e);return!(i<0)&&(i==t.length-1?t.pop():Iu.call(t,i,1),--this.size,!0)},Au.prototype.get=function(e){var t=this.__data__,i=Tu(t,e);return i<0?void 0:t[i][1]},Au.prototype.has=function(e){return Tu(this.__data__,e)>-1},Au.prototype.set=function(e,t){var i=this.__data__,n=Tu(i,e);return n<0?(++this.size,i.push([e,t])):i[n][1]=t,this};var Cu=Ad(ed,'Map');function Ou(e,t){var i,n,s=e.__data__;return('string'==(n=typeof(i=t))||'number'==n||'symbol'==n||'boolean'==n?'__proto__'!==i:null===i)?s['string'==typeof t?'string':'hash']:s.map}function Pu(e){var t=-1,i=null==e?0:e.length;for(this.clear();++t<i;){var n=e[t];this.set(n[0],n[1])}}Pu.prototype.clear=function(){this.size=0,this.__data__={hash:new Su,map:new(Cu||Au),string:new Su}},Pu.prototype.delete=function(e){var t=Ou(this,e).delete(e);return this.size-=t?1:0,t},Pu.prototype.get=function(e){return Ou(this,e).get(e)},Pu.prototype.has=function(e){return Ou(this,e).has(e)},Pu.prototype.set=function(e,t){var i=Ou(this,e),n=i.size;return i.set(e,t),this.size+=i.size==n?0:1,this};var Nu=hu(Object.getPrototypeOf,Object),Lu=Function.prototype,xu=Object.prototype,Ru=Lu.toString,Du=xu.hasOwnProperty,Mu=Ru.call(Object);function ku(e){var t=this.__data__=new Au(e);this.size=t.size}ku.prototype.clear=function(){this.__data__=new Au,this.size=0},ku.prototype.delete=function(e){var t=this.__data__,i=t.delete(e);return this.size=t.size,i},ku.prototype.get=function(e){return this.__data__.get(e)},ku.prototype.has=function(e){return this.__data__.has(e)},ku.prototype.set=function(e,t){var i=this.__data__;if(i instanceof Au){var n=i.__data__;if(!Cu||n.length<199)return n.push([e,t]),this.size=++i.size,this;i=this.__data__=new Pu(n)}return i.set(e,t),this.size=i.size,this};var Bu='object'==typeof exports&&exports&&!exports.nodeType&&exports,Uu=Bu&&'object'==typeof module&&module&&!module.nodeType&&module,Gu=Uu&&Uu.exports===Bu?ed.Buffer:void 0;Gu&&Gu.allocUnsafe;var Wu=Object.prototype.propertyIsEnumerable,ju=Object.getOwnPropertySymbols,$u=ju?function(e){return null==e?[]:(e=Object(e),function(e,t){for(var i=-1,n=null==e?0:e.length,s=0,r=[];++i<n;){var a=e[i];t(a,i,e)&&(r[s++]=a)}return r}(ju(e),(function(t){return Wu.call(e,t)})))}:function(){return[]};function Hu(e){return function(e,t,i){var n=t(e);return dd(e)?n:function(e,t){for(var i=-1,n=t.length,s=e.length;++i<n;)e[s+i]=t[i];return e}(n,i(e))}(e,gu,$u)}var Fu=Ad(ed,'DataView'),zu=Ad(ed,'Promise'),Vu=Ad(ed,'Set'),Yu='[object Map]',Qu='[object Promise]',Ku='[object Set]',qu='[object WeakMap]',Xu='[object DataView]',Zu=yd(Fu),Ju=yd(Cu),ep=yd(zu),tp=yd(Vu),ip=yd(Cd),np=ld;(Fu&&np(new Fu(new ArrayBuffer(1)))!=Xu||Cu&&np(new Cu)!=Yu||zu&&np(zu.resolve())!=Qu||Vu&&np(new Vu)!=Ku||Cd&&np(new Cd)!=qu)&&(np=function(e){var t=ld(e),i='[object Object]'==t?e.constructor:void 0,n=i?yd(i):'';if(n)switch(n){case Zu:return Xu;case Ju:return Yu;case ep:return Qu;case tp:return Ku;case ip:return qu}return t});var sp=ed.Uint8Array;function rp(e,t){var i,n,s=(i=e.buffer,n=new i.constructor(i.byteLength),new sp(n).set(new sp(i)),n);return new e.constructor(s,e.byteOffset,e.length)}function ap(e){var t=-1,i=null==e?0:e.length;for(this.__data__=new Pu;++t<i;)this.add(e[t])}function op(e,t){for(var i=-1,n=null==e?0:e.length;++i<n;)if(t(e[i],i,e))return!0;return!1}ap.prototype.add=ap.prototype.push=function(e){return this.__data__.set(e,'__lodash_hash_undefined__'),this},ap.prototype.has=function(e){return this.__data__.has(e)};function lp(e,t,i,n,s,r){var a=1&i,o=e.length,l=t.length;if(o!=l&&!(a&&l>o))return!1;var c=r.get(e),d=r.get(t);if(c&&d)return c==t&&d==e;var u=-1,p=!0,h=2&i?new ap:void 0;for(r.set(e,t),r.set(t,e);++u<o;){var m=e[u],f=t[u];if(n)var g=a?n(f,m,u,t,e,r):n(m,f,u,e,t,r);if(void 0!==g){if(g)continue;p=!1;break}if(h){if(!op(t,(function(e,t){if(a=t,!h.has(a)&&(m===e||s(m,e,i,n,r)))return h.push(t);var a}))){p=!1;break}}else if(m!==f&&!s(m,f,i,n,r)){p=!1;break}}return r.delete(e),r.delete(t),p}function cp(e){var t=-1,i=Array(e.size);return e.forEach((function(e,n){i[++t]=[n,e]})),i}function dp(e){var t=-1,i=Array(e.size);return e.forEach((function(e){i[++t]=e})),i}var up=td?td.prototype:void 0,pp=up?up.valueOf:void 0;var hp=Object.prototype.hasOwnProperty;var mp='[object Arguments]',fp='[object Array]',gp='[object Object]',_p=Object.prototype.hasOwnProperty;function yp(e,t,i,n,s,r){var a=dd(e),o=dd(t),l=a?fp:np(e),c=o?fp:np(t),d=(l=l==mp?gp:l)==gp,u=(c=c==mp?gp:c)==gp,p=l==c;if(p&&nu(e)){if(!nu(t))return!1;a=!0,d=!1}if(p&&!d)return r||(r=new ku),a||du(e)?lp(e,t,i,n,s,r):function(e,t,i,n,s,r,a){switch(i){case'[object DataView]':if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case'[object ArrayBuffer]':return!(e.byteLength!=t.byteLength||!r(new sp(e),new sp(t)));case'[object Boolean]':case'[object Date]':case'[object Number]':return Wd(+e,+t);case'[object Error]':return e.name==t.name&&e.message==t.message;case'[object RegExp]':case'[object String]':return e==t+'';case'[object Map]':var o=cp;case'[object Set]':var l=1&n;if(o||(o=dp),e.size!=t.size&&!l)return!1;var c=a.get(e);if(c)return c==t;n|=2,a.set(e,t);var d=lp(o(e),o(t),n,s,r,a);return a.delete(e),d;case'[object Symbol]':if(pp)return pp.call(e)==pp.call(t)}return!1}(e,t,l,i,n,s,r);if(!(1&i)){var h=d&&_p.call(e,'__wrapped__'),m=u&&_p.call(t,'__wrapped__');if(h||m){var f=h?e.value():e,g=m?t.value():t;return r||(r=new ku),s(f,g,i,n,r)}}return!!p&&(r||(r=new ku),function(e,t,i,n,s,r){var a=1&i,o=Hu(e),l=o.length;if(l!=Hu(t).length&&!a)return!1;for(var c=l;c--;){var d=o[c];if(!(a?d in t:hp.call(t,d)))return!1}var u=r.get(e),p=r.get(t);if(u&&p)return u==t&&p==e;var h=!0;r.set(e,t),r.set(t,e);for(var m=a;++c<l;){var f=e[d=o[c]],g=t[d];if(n)var _=a?n(g,f,d,t,e,r):n(f,g,d,e,t,r);if(!(void 0===_?f===g||s(f,g,i,n,r):_)){h=!1;break}m||(m='constructor'==d)}if(h&&!m){var y=e.constructor,v=t.constructor;y==v||!('constructor'in e)||!('constructor'in t)||'function'==typeof y&&y instanceof y&&'function'==typeof v&&v instanceof v||(h=!1)}return r.delete(e),r.delete(t),h}(e,t,i,n,s,r))}function vp(e,t,i,n,s){return e===t||(null==e||null==t||!cd(e)&&!cd(t)?e!=e&&t!=t:yp(e,t,i,n,vp,s))}var wp=function(e,t,i){for(var n=-1,s=Object(e),r=i(e),a=r.length;a--;){var o=r[++n];if(!1===t(s[o],o,s))break}return e};function bp(e,t,i){(void 0!==i&&!Wd(e[t],i)||void 0===i&&!(t in e))&&Gd(e,t,i)}function Ep(e,t){if(('constructor'!==t||'function'!=typeof e[t])&&'__proto__'!=t)return e[t]}function Sp(e){return function(e,t,i){var n=!i;i||(i={});for(var s=-1,r=t.length;++s<r;){var a=t[s],o=void 0;void 0===o&&(o=e[a]),n?Gd(i,a,o):$d(i,a,o)}return i}(e,vu(e))}function Tp(e,t,i,n,s,r,a){var o=Ep(e,i),l=Ep(t,i),c=a.get(l);if(c)bp(e,i,c);else{var d,u=r?r(o,l,i+'',e,t,a):void 0,p=void 0===u;if(p){var h=dd(l),m=!h&&nu(l),f=!h&&!m&&du(l);u=l,h||m||f?dd(o)?u=o:cd(d=o)&&Vd(d)?u=function(e,t){var i=-1,n=e.length;for(t||(t=Array(n));++i<n;)t[i]=e[i];return t}(o):m?(p=!1,u=l.slice()):f?(p=!1,u=rp(l)):u=[]:function(e){if(!cd(e)||'[object Object]'!=ld(e))return!1;var t=Nu(e);if(null===t)return!0;var i=Du.call(t,'constructor')&&t.constructor;return'function'==typeof i&&i instanceof i&&Ru.call(i)==Mu}(l)||Jd(l)?(u=o,Jd(o)?u=Sp(o):ud(o)&&!hd(o)||(u=function(e){return'function'!=typeof e.constructor||Qd(e)?{}:Pd(Nu(e))}(l))):p=!1}p&&(a.set(l,u),s(u,l,n,r,a),a.delete(l)),bp(e,i,u)}}function Ip(e,t,i,n,s){e!==t&&wp(t,(function(r,a){if(s||(s=new ku),ud(r))Tp(e,t,a,i,Ip,n,s);else{var o=n?n(Ep(e,a),r,a+'',e,t,s):void 0;void 0===o&&(o=r),bp(e,a,o)}}),vu)}var Ap,Cp=(Ap=function(e,t,i,n){Ip(e,t,i,n)},Fd((function(e,t){var i=-1,n=t.length,s=n>1?t[n-1]:void 0,r=n>2?t[2]:void 0;for(s=Ap.length>3&&'function'==typeof s?(n--,s):void 0,r&&function(e,t,i){if(!ud(i))return!1;var n=typeof t;return!!('number'==n?Vd(i)&&Ud(t,i.length):'string'==n&&t in i)&&Wd(i[t],e)}(t[0],t[1],r)&&(s=n<3?void 0:s,n=1),e=Object(e);++i<n;){var a=t[i];a&&Ap(e,a,i,s)}return e})));class Op extends Fc{constructor(t){super(t),e(this,'_containerElement',void 0),e(this,'_hashChangeListener',void 0),e(this,'_optionsUrlSuffix',''),e(this,'_mustSkipHashChangeEvent',!1),e(this,'_spinnerElement',void 0),e(this,'_styleElement',void 0),e(this,'_previousPublicationData',void 0),this._hashChangeListener=async e=>{const t=this._widget.getProjectData(),i=this._widget.getWidgetData(),n=await t,s=await i;this._mustSkipHashChangeEvent?this._mustSkipHashChangeEvent=!1:this._element.src=this._computeIframeUrl(n,s)},this._containerElement=document.createElement('div'),this._containerElement.style.height='100%',this._containerElement.style.position='relative',this._containerElement.style.width='100%',this.iframe.style.height='100%',this.iframe.style.width='100%',this._spinnerElement=document.createElement('div'),this._spinnerElement.classList.add('noticeable-widget-spinner'),this._spinnerElement.style.animation='noticeable-spinner 1s linear infinite',this._spinnerElement.style.border='5px solid #e1e1e1',this._spinnerElement.style.borderRadius='50%',this._spinnerElement.style.borderTop='4px solid var(--accent-color, #666)',this._spinnerElement.style.boxSizing='content-box',this._spinnerElement.style.height='22px',this._spinnerElement.style.left='50%',this._spinnerElement.style.position='absolute',this._spinnerElement.style.top='50%',this._spinnerElement.style.transform='translate(-50%, -50%)',this._spinnerElement.style.width='22px',this._styleElement=document.createElement('style'),this._styleElement.innerHTML='@keyframes noticeable-spinner { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }'}static _computeOptionsUrlSuffix(e,t){let i='?embed=true';if(e.widgetViewSettings.header||(i+='&header=false'),e.widgetViewSettings.labelsPicker||(i+='&menu=false'),t?.segments&&t.segments.length>0)for(const e of t.segments)i=i+'&segment='+e;return t?.token&&(i=i+'&stoken='+t.token),i}async alreadyRendered(e){const t=await this._widget.getWidgetData(),i=e?.selector??t.widgetViewSettings?.selector;try{const t=Qc(i,e?.root);if(!t)return;0===t.children.length&&t.appendChild(this._containerElement)}catch(e){}}_destroy(){this._containerElement.remove(),this._styleElement.remove(),this._hashChangeListener&&window.removeEventListener('hashchange',this._hashChangeListener)}async _render(e){await super._render(e);const t=this._widget.getProjectData(),i=await this._widget.getWidgetData(),n=e?.selector??i.widgetViewSettings?.selector??Yc,s=Qc(n,e?.root);if(!s)return rl.warn('Could not find matching selector: '+n),{publicationData:void 0};e?.root?e.root.appendChild(this._styleElement):document.head.appendChild(this._styleElement),this._containerElement.appendChild(this._spinnerElement),this._containerElement.appendChild(this._element),s.appendChild(this._containerElement),this._optionsUrlSuffix=Op._computeOptionsUrlSuffix(i,e);const r=await t;return this.iframe.addEventListener('load',(e=>{this.iframe.style.opacity='1',this.iframe.style.visibility='visible',this._spinnerElement.style.display='none',this._visible=!0,window.scrollTo(0,0)})),this.iframe.src=this._computeIframeUrl(r,i),this.iframe.style.background='transparent',this.iframe.style.border='0',this.iframe.style.opacity='0',this.iframe.style.visibility='hidden',this.iframe.style.width='100%',this._childConnection=this.connectToChild(),await this.initializeChildConnection(),i.widgetViewSettings.hashRouting&&window.addEventListener('hashchange',this._hashChangeListener,!1),this.refresh()}connectToChild(e){return super.connectToChild(i({setHeight:e=>{this.iframe.height=e+'px',this.iframe.style.height=e+'px'},setLocation:async e=>{(await this._widget.getWidgetData()).widgetViewSettings.hashRouting&&(e=e.substr(1))!==window.location.hash.substr(1)&&(window.location.hash=e,this._mustSkipHashChangeEvent=!0)},setPublicationRead:async e=>{await this._widget.setPublicationRead(e,{merge:!0}),window.noticeable.refresh({exclude:[this._widget.id]})},setPublicationReadSeen:async e=>{const t=this._widget.setPublicationSeen(e,{merge:!0}),i=this._widget.setPublicationRead(e,{merge:!0});await t,await i,window.noticeable.refresh({exclude:[this._widget.id]})},setPublicationSeen:async e=>{await this._widget.setPublicationSeen(e,{merge:!0}),window.noticeable.refresh({exclude:[this._widget.id]})}},e??{}))}async _refresh(){rl.debug('Calling refresh for Newspage embed');const e=await this._widget.getPublicationData();if(void 0===this._previousPublicationData)this._previousPublicationData=e;else if(!vp(this._previousPublicationData,e)){const t=this.element.src;this.element.src=t,this._previousPublicationData=e}return{publicationData:e}}_computeIframeUrl(e,t){let i='https://'+e.newspageDomain;if(t.widgetViewSettings.hashRouting){const e=window.location.hash.substr(1);i=i+'/'+(e.startsWith('/')?e.substr(1):e)}if(i+=this._optionsUrlSuffix,this._widget.renderOptions.queryParameters&&'object'==typeof this._widget.renderOptions.queryParameters)for(const[e,t]of Object.entries(this._widget.renderOptions.queryParameters))i=i+'&'+e+'='+t;return i}destroy(){super.destroy(),this._previousPublicationData=void 0}}var Pp='top',Np='bottom',Lp='right',xp='left',Rp='auto',Dp=[Pp,Np,Lp,xp],Mp='start',kp='end',Bp='viewport',Up='popper',Gp=Dp.reduce((function(e,t){return e.concat([t+'-'+Mp,t+'-'+kp])}),[]),Wp=[].concat(Dp,[Rp]).reduce((function(e,t){return e.concat([t,t+'-'+Mp,t+'-'+kp])}),[]),jp=['beforeRead','read','afterRead','beforeMain','main','afterMain','beforeWrite','write','afterWrite'];function $p(e){return e?(e.nodeName||'').toLowerCase():null}function Hp(e){if(null==e)return window;if('[object Window]'!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Fp(e){return e instanceof Hp(e).Element||e instanceof Element}function zp(e){return e instanceof Hp(e).HTMLElement||e instanceof HTMLElement}function Vp(e){return'undefined'!=typeof ShadowRoot&&(e instanceof Hp(e).ShadowRoot||e instanceof ShadowRoot)}var Yp={name:'applyStyles',enabled:!0,phase:'write',fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var i=t.styles[e]||{},n=t.attributes[e]||{},s=t.elements[e];zp(s)&&$p(s)&&(Object.assign(s.style,i),Object.keys(n).forEach((function(e){var t=n[e];!1===t?s.removeAttribute(e):s.setAttribute(e,!0===t?'':t)})))}))},effect:function(e){var t=e.state,i={popper:{position:t.options.strategy,left:'0',top:'0',margin:'0'},arrow:{position:'absolute'},reference:{}};return Object.assign(t.elements.popper.style,i.popper),t.styles=i,t.elements.arrow&&Object.assign(t.elements.arrow.style,i.arrow),function(){Object.keys(t.elements).forEach((function(e){var n=t.elements[e],s=t.attributes[e]||{},r=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:i[e]).reduce((function(e,t){return e[t]='',e}),{});zp(n)&&$p(n)&&(Object.assign(n.style,r),Object.keys(s).forEach((function(e){n.removeAttribute(e)})))}))}},requires:['computeStyles']};function Qp(e){return e.split('-')[0]}var Kp=Math.max,qp=Math.min,Xp=Math.round;function Zp(){var e=navigator.userAgentData;return null!=e&&e.brands&&Array.isArray(e.brands)?e.brands.map((function(e){return e.brand+'/'+e.version})).join(' '):navigator.userAgent}function Jp(){return!/^((?!chrome|android).)*safari/i.test(Zp())}function eh(e,t,i){void 0===t&&(t=!1),void 0===i&&(i=!1);var n=e.getBoundingClientRect(),s=1,r=1;t&&zp(e)&&(s=e.offsetWidth>0&&Xp(n.width)/e.offsetWidth||1,r=e.offsetHeight>0&&Xp(n.height)/e.offsetHeight||1);var a=(Fp(e)?Hp(e):window).visualViewport,o=!Jp()&&i,l=(n.left+(o&&a?a.offsetLeft:0))/s,c=(n.top+(o&&a?a.offsetTop:0))/r,d=n.width/s,u=n.height/r;return{width:d,height:u,top:c,right:l+d,bottom:c+u,left:l,x:l,y:c}}function th(e){var t=eh(e),i=e.offsetWidth,n=e.offsetHeight;return Math.abs(t.width-i)<=1&&(i=t.width),Math.abs(t.height-n)<=1&&(n=t.height),{x:e.offsetLeft,y:e.offsetTop,width:i,height:n}}function ih(e,t){var i=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(i&&Vp(i)){var n=t;do{if(n&&e.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function nh(e){return Hp(e).getComputedStyle(e)}function sh(e){return['table','td','th'].indexOf($p(e))>=0}function rh(e){return((Fp(e)?e.ownerDocument:e.document)||window.document).documentElement}function ah(e){return'html'===$p(e)?e:e.assignedSlot||e.parentNode||(Vp(e)?e.host:null)||rh(e)}function oh(e){return zp(e)&&'fixed'!==nh(e).position?e.offsetParent:null}function lh(e){for(var t=Hp(e),i=oh(e);i&&sh(i)&&'static'===nh(i).position;)i=oh(i);return i&&('html'===$p(i)||'body'===$p(i)&&'static'===nh(i).position)?t:i||function(e){var t=/firefox/i.test(Zp());if(/Trident/i.test(Zp())&&zp(e)&&'fixed'===nh(e).position)return null;var i=ah(e);for(Vp(i)&&(i=i.host);zp(i)&&['html','body'].indexOf($p(i))<0;){var n=nh(i);if('none'!==n.transform||'none'!==n.perspective||'paint'===n.contain||-1!==['transform','perspective'].indexOf(n.willChange)||t&&'filter'===n.willChange||t&&n.filter&&'none'!==n.filter)return i;i=i.parentNode}return null}(e)||t}function ch(e){return['top','bottom'].indexOf(e)>=0?'x':'y'}function dh(e,t,i){return Kp(e,qp(t,i))}function uh(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function ph(e,t){return t.reduce((function(t,i){return t[i]=e,t}),{})}var hh={name:'arrow',enabled:!0,phase:'main',fn:function(e){var t,i=e.state,n=e.name,s=e.options,r=i.elements.arrow,a=i.modifiersData.popperOffsets,o=Qp(i.placement),l=ch(o),c=[xp,Lp].indexOf(o)>=0?'height':'width';if(r&&a){var d=function(e,t){return uh('number'!=typeof(e='function'==typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:ph(e,Dp))}(s.padding,i),u=th(r),p='y'===l?Pp:xp,h='y'===l?Np:Lp,m=i.rects.reference[c]+i.rects.reference[l]-a[l]-i.rects.popper[c],f=a[l]-i.rects.reference[l],g=lh(r),_=g?'y'===l?g.clientHeight||0:g.clientWidth||0:0,y=m/2-f/2,v=d[p],w=_-u[c]-d[h],b=_/2-u[c]/2+y,E=dh(v,b,w),S=l;i.modifiersData[n]=((t={})[S]=E,t.centerOffset=E-b,t)}},effect:function(e){var t=e.state,i=e.options.element,n=void 0===i?'[data-popper-arrow]':i;null!=n&&('string'!=typeof n||(n=t.elements.popper.querySelector(n)))&&ih(t.elements.popper,n)&&(t.elements.arrow=n)},requires:['popperOffsets'],requiresIfExists:['preventOverflow']};function mh(e){return e.split('-')[1]}var fh={top:'auto',right:'auto',bottom:'auto',left:'auto'};function gh(e){var t,i=e.popper,n=e.popperRect,s=e.placement,r=e.variation,a=e.offsets,o=e.position,l=e.gpuAcceleration,c=e.adaptive,d=e.roundOffsets,u=e.isFixed,p=a.x,h=void 0===p?0:p,m=a.y,f=void 0===m?0:m,g='function'==typeof d?d({x:h,y:f}):{x:h,y:f};h=g.x,f=g.y;var _=a.hasOwnProperty('x'),y=a.hasOwnProperty('y'),v=xp,w=Pp,b=window;if(c){var E=lh(i),S='clientHeight',T='clientWidth';if(E===Hp(i)&&'static'!==nh(E=rh(i)).position&&'absolute'===o&&(S='scrollHeight',T='scrollWidth'),s===Pp||(s===xp||s===Lp)&&r===kp)w=Np,f-=(u&&E===b&&b.visualViewport?b.visualViewport.height:E[S])-n.height,f*=l?1:-1;if(s===xp||(s===Pp||s===Np)&&r===kp)v=Lp,h-=(u&&E===b&&b.visualViewport?b.visualViewport.width:E[T])-n.width,h*=l?1:-1}var I,A=Object.assign({position:o},c&&fh),C=!0===d?function(e,t){var i=e.x,n=e.y,s=t.devicePixelRatio||1;return{x:Xp(i*s)/s||0,y:Xp(n*s)/s||0}}({x:h,y:f},Hp(i)):{x:h,y:f};return h=C.x,f=C.y,l?Object.assign({},A,((I={})[w]=y?'0':'',I[v]=_?'0':'',I.transform=(b.devicePixelRatio||1)<=1?'translate('+h+'px, '+f+'px)':'translate3d('+h+'px, '+f+'px, 0)',I)):Object.assign({},A,((t={})[w]=y?f+'px':'',t[v]=_?h+'px':'',t.transform='',t))}var _h={passive:!0};var yh={left:'right',right:'left',bottom:'top',top:'bottom'};function vh(e){return e.replace(/left|right|bottom|top/g,(function(e){return yh[e]}))}var wh={start:'end',end:'start'};function bh(e){return e.replace(/start|end/g,(function(e){return wh[e]}))}function Eh(e){var t=Hp(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function Sh(e){return eh(rh(e)).left+Eh(e).scrollLeft}function Th(e){var t=nh(e),i=t.overflow,n=t.overflowX,s=t.overflowY;return/auto|scroll|overlay|hidden/.test(i+s+n)}function Ih(e){return['html','body','#document'].indexOf($p(e))>=0?e.ownerDocument.body:zp(e)&&Th(e)?e:Ih(ah(e))}function Ah(e,t){var i;void 0===t&&(t=[]);var n=Ih(e),s=n===(null==(i=e.ownerDocument)?void 0:i.body),r=Hp(n),a=s?[r].concat(r.visualViewport||[],Th(n)?n:[]):n,o=t.concat(a);return s?o:o.concat(Ah(ah(a)))}function Ch(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function Oh(e,t,i){return t===Bp?Ch(function(e,t){var i=Hp(e),n=rh(e),s=i.visualViewport,r=n.clientWidth,a=n.clientHeight,o=0,l=0;if(s){r=s.width,a=s.height;var c=Jp();(c||!c&&'fixed'===t)&&(o=s.offsetLeft,l=s.offsetTop)}return{width:r,height:a,x:o+Sh(e),y:l}}(e,i)):Fp(t)?function(e,t){var i=eh(e,!1,'fixed'===t);return i.top=i.top+e.clientTop,i.left=i.left+e.clientLeft,i.bottom=i.top+e.clientHeight,i.right=i.left+e.clientWidth,i.width=e.clientWidth,i.height=e.clientHeight,i.x=i.left,i.y=i.top,i}(t,i):Ch(function(e){var t,i=rh(e),n=Eh(e),s=null==(t=e.ownerDocument)?void 0:t.body,r=Kp(i.scrollWidth,i.clientWidth,s?s.scrollWidth:0,s?s.clientWidth:0),a=Kp(i.scrollHeight,i.clientHeight,s?s.scrollHeight:0,s?s.clientHeight:0),o=-n.scrollLeft+Sh(e),l=-n.scrollTop;return'rtl'===nh(s||i).direction&&(o+=Kp(i.clientWidth,s?s.clientWidth:0)-r),{width:r,height:a,x:o,y:l}}(rh(e)))}function Ph(e,t,i,n){var s='clippingParents'===t?function(e){var t=Ah(ah(e)),i=['absolute','fixed'].indexOf(nh(e).position)>=0&&zp(e)?lh(e):e;return Fp(i)?t.filter((function(e){return Fp(e)&&ih(e,i)&&'body'!==$p(e)})):[]}(e):[].concat(t),r=[].concat(s,[i]),a=r[0],o=r.reduce((function(t,i){var s=Oh(e,i,n);return t.top=Kp(s.top,t.top),t.right=qp(s.right,t.right),t.bottom=qp(s.bottom,t.bottom),t.left=Kp(s.left,t.left),t}),Oh(e,a,n));return o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}function Nh(e){var t,i=e.reference,n=e.element,s=e.placement,r=s?Qp(s):null,a=s?mh(s):null,o=i.x+i.width/2-n.width/2,l=i.y+i.height/2-n.height/2;switch(r){case Pp:t={x:o,y:i.y-n.height};break;case Np:t={x:o,y:i.y+i.height};break;case Lp:t={x:i.x+i.width,y:l};break;case xp:t={x:i.x-n.width,y:l};break;default:t={x:i.x,y:i.y}}var c=r?ch(r):null;if(null!=c){var d='y'===c?'height':'width';switch(a){case Mp:t[c]=t[c]-(i[d]/2-n[d]/2);break;case kp:t[c]=t[c]+(i[d]/2-n[d]/2)}}return t}function Lh(e,t){void 0===t&&(t={});var i=t,n=i.placement,s=void 0===n?e.placement:n,r=i.strategy,a=void 0===r?e.strategy:r,o=i.boundary,l=void 0===o?'clippingParents':o,c=i.rootBoundary,d=void 0===c?Bp:c,u=i.elementContext,p=void 0===u?Up:u,h=i.altBoundary,m=void 0!==h&&h,f=i.padding,g=void 0===f?0:f,_=uh('number'!=typeof g?g:ph(g,Dp)),y=p===Up?'reference':Up,v=e.rects.popper,w=e.elements[m?y:p],b=Ph(Fp(w)?w:w.contextElement||rh(e.elements.popper),l,d,a),E=eh(e.elements.reference),S=Nh({reference:E,element:v,placement:s}),T=Ch(Object.assign({},v,S)),I=p===Up?T:E,A={top:b.top-I.top+_.top,bottom:I.bottom-b.bottom+_.bottom,left:b.left-I.left+_.left,right:I.right-b.right+_.right},C=e.modifiersData.offset;if(p===Up&&C){var O=C[s];Object.keys(A).forEach((function(e){var t=[Lp,Np].indexOf(e)>=0?1:-1,i=[Pp,Np].indexOf(e)>=0?'y':'x';A[e]+=O[i]*t}))}return A}function xh(e,t){void 0===t&&(t={});var i=t,n=i.placement,s=i.boundary,r=i.rootBoundary,a=i.padding,o=i.flipVariations,l=i.allowedAutoPlacements,c=void 0===l?Wp:l,d=mh(n),u=d?o?Gp:Gp.filter((function(e){return mh(e)===d})):Dp,p=u.filter((function(e){return c.indexOf(e)>=0}));0===p.length&&(p=u);var h=p.reduce((function(t,i){return t[i]=Lh(e,{placement:i,boundary:s,rootBoundary:r,padding:a})[Qp(i)],t}),{});return Object.keys(h).sort((function(e,t){return h[e]-h[t]}))}var Rh={name:'flip',enabled:!0,phase:'main',fn:function(e){var t=e.state,i=e.options,n=e.name;if(!t.modifiersData[n]._skip){for(var s=i.mainAxis,r=void 0===s||s,a=i.altAxis,o=void 0===a||a,l=i.fallbackPlacements,c=i.padding,d=i.boundary,u=i.rootBoundary,p=i.altBoundary,h=i.flipVariations,m=void 0===h||h,f=i.allowedAutoPlacements,g=t.options.placement,_=Qp(g),y=l||(_===g||!m?[vh(g)]:function(e){if(Qp(e)===Rp)return[];var t=vh(e);return[bh(e),t,bh(t)]}(g)),v=[g].concat(y).reduce((function(e,i){return e.concat(Qp(i)===Rp?xh(t,{placement:i,boundary:d,rootBoundary:u,padding:c,flipVariations:m,allowedAutoPlacements:f}):i)}),[]),w=t.rects.reference,b=t.rects.popper,E=new Map,S=!0,T=v[0],I=0;I<v.length;I++){var A=v[I],C=Qp(A),O=mh(A)===Mp,P=[Pp,Np].indexOf(C)>=0,N=P?'width':'height',L=Lh(t,{placement:A,boundary:d,rootBoundary:u,altBoundary:p,padding:c}),x=P?O?Lp:xp:O?Np:Pp;w[N]>b[N]&&(x=vh(x));var R=vh(x),D=[];if(r&&D.push(L[C]<=0),o&&D.push(L[x]<=0,L[R]<=0),D.every((function(e){return e}))){T=A,S=!1;break}E.set(A,D)}if(S)for(var M=function(e){var t=v.find((function(t){var i=E.get(t);if(i)return i.slice(0,e).every((function(e){return e}))}));if(t)return T=t,'break'},k=m?3:1;k>0;k--){if('break'===M(k))break}t.placement!==T&&(t.modifiersData[n]._skip=!0,t.placement=T,t.reset=!0)}},requiresIfExists:['offset'],data:{_skip:!1}};function Dh(e,t,i){return void 0===i&&(i={x:0,y:0}),{top:e.top-t.height-i.y,right:e.right-t.width+i.x,bottom:e.bottom-t.height+i.y,left:e.left-t.width-i.x}}function Mh(e){return[Pp,Lp,Np,xp].some((function(t){return e[t]>=0}))}var kh={name:'offset',enabled:!0,phase:'main',requires:['popperOffsets'],fn:function(e){var t=e.state,i=e.options,n=e.name,s=i.offset,r=void 0===s?[0,0]:s,a=Wp.reduce((function(e,i){return e[i]=function(e,t,i){var n=Qp(e),s=[xp,Pp].indexOf(n)>=0?-1:1,r='function'==typeof i?i(Object.assign({},t,{placement:e})):i,a=r[0],o=r[1];return a=a||0,o=(o||0)*s,[xp,Lp].indexOf(n)>=0?{x:o,y:a}:{x:a,y:o}}(i,t.rects,r),e}),{}),o=a[t.placement],l=o.x,c=o.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[n]=a}};var Bh={name:'preventOverflow',enabled:!0,phase:'main',fn:function(e){var t=e.state,i=e.options,n=e.name,s=i.mainAxis,r=void 0===s||s,a=i.altAxis,o=void 0!==a&&a,l=i.boundary,c=i.rootBoundary,d=i.altBoundary,u=i.padding,p=i.tether,h=void 0===p||p,m=i.tetherOffset,f=void 0===m?0:m,g=Lh(t,{boundary:l,rootBoundary:c,padding:u,altBoundary:d}),_=Qp(t.placement),y=mh(t.placement),v=!y,w=ch(_),b='x'===w?'y':'x',E=t.modifiersData.popperOffsets,S=t.rects.reference,T=t.rects.popper,I='function'==typeof f?f(Object.assign({},t.rects,{placement:t.placement})):f,A='number'==typeof I?{mainAxis:I,altAxis:I}:Object.assign({mainAxis:0,altAxis:0},I),C=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,O={x:0,y:0};if(E){if(r){var P,N='y'===w?Pp:xp,L='y'===w?Np:Lp,x='y'===w?'height':'width',R=E[w],D=R+g[N],M=R-g[L],k=h?-T[x]/2:0,B=y===Mp?S[x]:T[x],U=y===Mp?-T[x]:-S[x],G=t.elements.arrow,W=h&&G?th(G):{width:0,height:0},j=t.modifiersData['arrow#persistent']?t.modifiersData['arrow#persistent'].padding:{top:0,right:0,bottom:0,left:0},$=j[N],H=j[L],F=dh(0,S[x],W[x]),z=v?S[x]/2-k-F-$-A.mainAxis:B-F-$-A.mainAxis,V=v?-S[x]/2+k+F+H+A.mainAxis:U+F+H+A.mainAxis,Y=t.elements.arrow&&lh(t.elements.arrow),Q=Y?'y'===w?Y.clientTop||0:Y.clientLeft||0:0,K=null!=(P=null==C?void 0:C[w])?P:0,q=R+V-K,X=dh(h?qp(D,R+z-K-Q):D,R,h?Kp(M,q):M);E[w]=X,O[w]=X-R}if(o){var Z,J='x'===w?Pp:xp,ee='x'===w?Np:Lp,te=E[b],ie='y'===b?'height':'width',ne=te+g[J],se=te-g[ee],re=-1!==[Pp,xp].indexOf(_),ae=null!=(Z=null==C?void 0:C[b])?Z:0,oe=re?ne:te-S[ie]-T[ie]-ae+A.altAxis,le=re?te+S[ie]+T[ie]-ae-A.altAxis:se,ce=h&&re?function(e,t,i){var n=dh(e,t,i);return n>i?i:n}(oe,te,le):dh(h?oe:ne,te,h?le:se);E[b]=ce,O[b]=ce-te}t.modifiersData[n]=O}},requiresIfExists:['offset']};function Uh(e,t,i){void 0===i&&(i=!1);var n,s,r=zp(t),a=zp(t)&&function(e){var t=e.getBoundingClientRect(),i=Xp(t.width)/e.offsetWidth||1,n=Xp(t.height)/e.offsetHeight||1;return 1!==i||1!==n}(t),o=rh(t),l=eh(e,a,i),c={scrollLeft:0,scrollTop:0},d={x:0,y:0};return(r||!r&&!i)&&(('body'!==$p(t)||Th(o))&&(c=(n=t)!==Hp(n)&&zp(n)?{scrollLeft:(s=n).scrollLeft,scrollTop:s.scrollTop}:Eh(n)),zp(t)?((d=eh(t,!0)).x+=t.clientLeft,d.y+=t.clientTop):o&&(d.x=Sh(o))),{x:l.left+c.scrollLeft-d.x,y:l.top+c.scrollTop-d.y,width:l.width,height:l.height}}function Gh(e){var t=new Map,i=new Set,n=[];function s(e){i.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!i.has(e)){var n=t.get(e);n&&s(n)}})),n.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){i.has(e.name)||s(e)})),n}var Wh={placement:'bottom',modifiers:[],strategy:'absolute'};function jh(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return!t.some((function(e){return!(e&&'function'==typeof e.getBoundingClientRect)}))}function $h(e){void 0===e&&(e={});var t=e,i=t.defaultModifiers,n=void 0===i?[]:i,s=t.defaultOptions,r=void 0===s?Wh:s;return function(e,t,i){void 0===i&&(i=r);var s,a,o={placement:'bottom',orderedModifiers:[],options:Object.assign({},Wh,r),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},l=[],c=!1,d={state:o,setOptions:function(i){var s='function'==typeof i?i(o.options):i;u(),o.options=Object.assign({},r,o.options,s),o.scrollParents={reference:Fp(e)?Ah(e):e.contextElement?Ah(e.contextElement):[],popper:Ah(t)};var a,c,p=function(e){var t=Gh(e);return jp.reduce((function(e,i){return e.concat(t.filter((function(e){return e.phase===i})))}),[])}((a=[].concat(n,o.options.modifiers),c=a.reduce((function(e,t){var i=e[t.name];return e[t.name]=i?Object.assign({},i,t,{options:Object.assign({},i.options,t.options),data:Object.assign({},i.data,t.data)}):t,e}),{}),Object.keys(c).map((function(e){return c[e]}))));return o.orderedModifiers=p.filter((function(e){return e.enabled})),o.orderedModifiers.forEach((function(e){var t=e.name,i=e.options,n=void 0===i?{}:i,s=e.effect;if('function'==typeof s){var r=s({state:o,name:t,instance:d,options:n}),a=function(){};l.push(r||a)}})),d.update()},forceUpdate:function(){if(!c){var e=o.elements,t=e.reference,i=e.popper;if(jh(t,i)){o.rects={reference:Uh(t,lh(i),'fixed'===o.options.strategy),popper:th(i)},o.reset=!1,o.placement=o.options.placement,o.orderedModifiers.forEach((function(e){return o.modifiersData[e.name]=Object.assign({},e.data)}));for(var n=0;n<o.orderedModifiers.length;n++)if(!0!==o.reset){var s=o.orderedModifiers[n],r=s.fn,a=s.options,l=void 0===a?{}:a,u=s.name;'function'==typeof r&&(o=r({state:o,options:l,name:u,instance:d})||o)}else o.reset=!1,n=-1}}},update:(s=function(){return new Promise((function(e){d.forceUpdate(),e(o)}))},function(){return a||(a=new Promise((function(e){Promise.resolve().then((function(){a=void 0,e(s())}))}))),a}),destroy:function(){u(),c=!0}};if(!jh(e,t))return d;function u(){l.forEach((function(e){return e()})),l=[]}return d.setOptions(i).then((function(e){!c&&i.onFirstUpdate&&i.onFirstUpdate(e)})),d}}var Hh=$h({defaultModifiers:[{name:'eventListeners',enabled:!0,phase:'write',fn:function(){},effect:function(e){var t=e.state,i=e.instance,n=e.options,s=n.scroll,r=void 0===s||s,a=n.resize,o=void 0===a||a,l=Hp(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return r&&c.forEach((function(e){e.addEventListener('scroll',i.update,_h)})),o&&l.addEventListener('resize',i.update,_h),function(){r&&c.forEach((function(e){e.removeEventListener('scroll',i.update,_h)})),o&&l.removeEventListener('resize',i.update,_h)}},data:{}},{name:'popperOffsets',enabled:!0,phase:'read',fn:function(e){var t=e.state,i=e.name;t.modifiersData[i]=Nh({reference:t.rects.reference,element:t.rects.popper,placement:t.placement})},data:{}},{name:'computeStyles',enabled:!0,phase:'beforeWrite',fn:function(e){var t=e.state,i=e.options,n=i.gpuAcceleration,s=void 0===n||n,r=i.adaptive,a=void 0===r||r,o=i.roundOffsets,l=void 0===o||o,c={placement:Qp(t.placement),variation:mh(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:s,isFixed:'fixed'===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,gh(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:a,roundOffsets:l})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,gh(Object.assign({},c,{offsets:t.modifiersData.arrow,position:'absolute',adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{'data-popper-placement':t.placement})},data:{}},Yp,kh,Rh,Bh,hh,{name:'hide',enabled:!0,phase:'main',requiresIfExists:['preventOverflow'],fn:function(e){var t=e.state,i=e.name,n=t.rects.reference,s=t.rects.popper,r=t.modifiersData.preventOverflow,a=Lh(t,{elementContext:'reference'}),o=Lh(t,{altBoundary:!0}),l=Dh(a,n),c=Dh(o,s,r),d=Mh(l),u=Mh(c);t.modifiersData[i]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:d,hasPopperEscaped:u},t.attributes.popper=Object.assign({},t.attributes.popper,{'data-popper-reference-hidden':d,'data-popper-escaped':u})}}]});window.process={env:{NODE_ENV:'production'}};class Fh extends Fc{constructor(t){super(t),e(this,'_popper',void 0)}_destroy(){this._widget.trigger.destroy(),super._destroy()}async render(e){return await this.handleFirstTimeLoading(),super.render(e)}async handleFirstTimeLoading(){if(0===this._widget.getLastPublicationSeen().size){const e=await this._widget.getWidgetData();if(e.widgetViewSettings.firstVisitUnreadUnseenCount>=0&&e.widgetViewSettings.firstVisitUnreadUnseenCount<e.widgetViewSettings.maxPublicationCount){const t=await this._widget.getPublicationData(),i=new il;for(let n=t.length-1;n>=e.widgetViewSettings.firstVisitUnreadUnseenCount;n--){const e=t[n];i.add(e.id),e.publicationTimestamp}await this._widget.identity.setLastPublicationReadSeen(this._widget.projectId,new il(i.toArray()),new il(i.toArray()),!0,!0,!0)}}const e=await this._widget.getPublicationState();this._widget.eventRegistry.dispatchEvent(this._widget.id,nl.WIDGET_PUBLICATION_UNREAD_COUNT_CHANGED,{unreadPublicationIds:[...e.lastPublicationUnread],value:e.unreadCount}),this._widget.eventRegistry.dispatchEvent(this._widget.id,nl.WIDGET_PUBLICATION_UNSEEN_COUNT_CHANGED,{unseenPublicationIds:[...e.lastPublicationUnseen],value:e.unseenCount})}async _render(e){const t=this._widget.trigger.render({root:e?.root,selector:e?.selector});this._element.src='https://widgets.noticeable.io/popup/index.html',this._element.style.boxShadow='rgba(0, 0, 0, 0.16) 0 5px 40px',this._element.style.position='fixed',this._zIndex='2147482999',document.body.appendChild(this._element),await super._render(e),this._childConnection=super.connectToChild(),await this.initializeChildConnection();const i=await this.refresh();return await t,this._popper?.forceUpdate(),i}async _refresh(){const e=this._widget.getProjectData(),t=this._widget.getPublicationData(),i=this._widget.getWidgetData(),n=pl(),s=await e,r=await t,a=await i;this._child?.refresh({isMobile:n,projectData:s,publicationData:r,widgetId:this._widget.id,widgetSettings:a.widgetViewSettings});const o=a.triggerView;this._backdrop=a.widgetViewSettings.backdrop??!1,this._backdropClickable=a.widgetViewSettings.backdropClickable??!1,this._backdrop?(this._backdropElement.style.background=a.widgetViewSettings.backdropColor??'#00000099',this._widget.opened&&!this._backdropElement.isConnected?document.body.prepend(this._backdropElement):!this._widget.opened&&this._backdropElement.isConnected&&this._backdropElement.remove()):this._backdropElement.isConnected&&this._backdropElement.remove(),this._element.style.borderRadius=ml(a.widgetViewSettings.borderRadius??8),this._element.style.height=ml(a.widgetViewSettings.height??520),this._element.style.width=ml(a.widgetViewSettings.width??420);const l=a?.triggerViewSettings;let c=l?.placement;if(l&&hl(s.language)&&(c=l.placement===uo.BOTTOM_END?uo.BOTTOM_START:uo.BOTTOM_END),n)this._popper&&(this._popper.destroy(),this._popper=void 0),this._element.style.width='100%',this._element.style.borderRadius=ml(0),this._element.style.bottom=ml(0),this._element.style.height='100%',this._element.style.left=ml(0),this._element.style.position='fixed',this._element.style.right=ml(0),this._element.style.top=ml(0),this._element.style.transform='none';else if(Ao.BADGE===o||Ao.CUSTOM===o||Ao.ICON===o){let e=this._widget.trigger.view.element;Ao.BADGE===o&&(e=this._widget.trigger.view.container);const t={modifiers:[{name:'offset',options:{offset:()=>[a.widgetViewSettings.horizontalOffset,a.widgetViewSettings.verticalOffset]}}],placement:a.widgetViewSettings.placement};this._popper?await this._popper.setOptions(t):this._popper=Hh(e,this._element,t)}else Ao.FLOATING_BUTTON===o&&(this._element.style.bottom=ml(82+a.widgetViewSettings.verticalOffset),this._element.style.left=c===uo.BOTTOM_END?'unset':ml((l?.horizontalOffset??0)+(a.widgetViewSettings.horizontalOffset??20)),this._element.style.overflow='hidden',this._element.style.right=c===uo.BOTTOM_START?'unset':ml((l?.horizontalOffset??0)+(a.widgetViewSettings.horizontalOffset??20)),this._element.style.top='unset');return{publicationData:r}}async _show(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=await this._widget.getPublicationData();return await super._show(e),await this.refresh(),this._widget.setPublicationSeen(t.map((e=>e.id)),{merge:!0})}}class zh extends Hc{constructor(t){super(t),e(this,'_displayAfterTimeout',void 0),this._element.style.display='none'}get publicationFetchLimit(){return 1}_destroy(){super._destroy(),this._displayAfterTimeout&&(clearTimeout(this._displayAfterTimeout),this._displayAfterTimeout=void 0)}async _hide(){return this._element.style.display='none',super._hide()}async _render(e){this._element.height='0',this._element.src='https://widgets.noticeable.io/top-banner/index.html',this._element.width='100%';const t=await this._widget.getWidgetData();let i=e?.selector??t?.widgetViewSettings?.selector;i||(i='body');const n=Qc(i,e?.root);if(n)return'bottom'===t.widgetViewSettings.position?(this._element.style.bottom='0',this._element.style.position='relative',this._element.style.top='unset',n.appendChild(this._element)):'bottom-sticky'===t.widgetViewSettings.position?(this._element.style.bottom='0',this._element.style.position='sticky',this._element.style.top='unset',this._element.style.zIndex='2147483646',n.appendChild(this._element)):'top'===t.widgetViewSettings.position?(this._element.style.bottom='unset',this._element.style.position='relative',this._element.style.top='0',n.insertBefore(this._element,n.firstChild)):(this._element.style.bottom='unset',this._element.style.position='sticky',this._element.style.top='0',this._element.style.zIndex='2147483646',n.insertBefore(this._element,n.firstChild)),await super._render(e),this._childConnection=super.connectToChild({closeAndMarkPublicationRead:e=>{this._widget.setPublicationRead([e],{merge:!0}),this._widget.close()},setHeight:e=>this._element.height=e?ml(e):'0'}),await this.initializeChildConnection(),this.refresh()}async _refresh(){const e=this._widget.getProjectData(),t=this._widget.getPublicationData(),i=this._widget.getWidgetData(),n=pl(),s=await e,r=await t,a=await i;this._child?.refresh({isMobile:n,projectData:s,publicationData:r,widgetId:this._widget.id,widgetSettings:a.widgetViewSettings});const o=a.widgetViewSettings.displayAfter;if(!r||r.length<=0)return rl.info(`Widget ${this._widget.id} not opening because there are no publications to display`),{publicationData:void 0};const l=r[0].id;return this._widget.getLastPublicationRead().has(l)||!a.widgetViewSettings.mobile&&pl()?await this._widget.close():this._widget.opened||(o<=0?await this._widget.open():this._displayAfterTimeout=setTimeout((()=>this._widget.open()),o)),{publicationData:r}}async _show(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=await this._widget.getPublicationData();return this._element.style.display='block',await super._show(e),this._widget.setPublicationSeen([t[0].id],{merge:!0})}}class Vh extends Gc{constructor(t){super(t),e(this,'_container',void 0),e(this,'_containerOldStyles',void 0),this._clickListener=()=>{this.dispatchEvent(nl.WIDGET_TRIGGER_VIEW_CLICKED),this._trigger.widget.toggle()}}get container(){return this._container}_destroy(){this._container&&(this._containerOldStyles&&(this._container.style.cursor=this._containerOldStyles.cursor,this._container.style.display=this._containerOldStyles.display,this._container.style.paddingLeft=this._containerOldStyles.paddingLeft,this._container.style.paddingRight=this._containerOldStyles.paddingRight,this._container.style.position=this._containerOldStyles.position,this._container.style.userSelect=this._containerOldStyles.userSelect,this._containerOldStyles=void 0),this._container=void 0)}async _render(e){const t=await this._trigger.getSettings(),i=e.selector??t.selector??Yc;return this._container=Qc(i,e.root),this._container.addEventListener('click',this._clickListener),this._container.classList.remove('noticeable-badge_visible'),this._containerOldStyles={cursor:this._container.style.cursor,display:this._container.style.display,paddingLeft:this._container.style.paddingLeft,paddingRight:this._container.style.paddingRight,position:this._container.style.position,userSelect:this._container.style.userSelect},this._container.style.cursor='pointer',this._container.style.display='inline-block',this._container.style.position='relative',this._container.style.userSelect='none',this._element.src='https://widgets.noticeable.io/triggers/badge/index.html',this._element.height='0',this._element.width='0','start'===t.placement?this._container.prepend(this._element):this._container.appendChild(this._element),this._childConnection=super.connectToChild(),await this.initializeChildConnection(),this.refresh()}async _refresh(){const e=this._trigger.widget.getProjectLanguage(),t=this._trigger.getPublicationState(),i=this._trigger.getSettings(),n=getComputedStyle(this._container),s=parseFloat(n.fontSize?.replace('px','')??'16'),r=Math.round(s+.25*s),a=await e,o=await i;let l=o.placement;hl(a)&&(l=o.placement===ro.START?ro.END:ro.START);const c=o.horizontalOffset??0;this._element.style.bottom='0',this._element.style.margin='auto 0',this._element.style.position='absolute',this._element.style.top='0';const d=this._container;let u,p;switch(o.animation){case no.BOUNCE:u=Math.ceil(.2*r),p=2*(6+.2*(r+6)),this._element.height=r+p+'px',this._element.width=r+u+'px',l===ro.END?(this._element.style.left='unset',this._element.style.right='0',d.style.paddingLeft=this._containerOldStyles.paddingLeft,d.style.paddingRight=c+r+u+this._containerOldStyles.paddingRight+'px'):l===ro.START&&(this._element.style.left='0',this._element.style.right='unset',d.style.paddingLeft=c+r+u+this._containerOldStyles.paddingLeft+'px',d.style.paddingRight=this._containerOldStyles.paddingRight);break;case no.PULSE:u=Math.ceil(1.5*r),p=Math.ceil(1.5*r),this._element.height=r+p+'px',this._element.width=r+u+'px',l===ro.END?(this._element.style.left='unset',this._element.style.right='0',d.style.paddingLeft=this._containerOldStyles.paddingLeft,d.style.paddingRight=c+r+u/2+this._containerOldStyles.paddingRight+'px'):l===ro.START&&(this._element.style.left='0',this._element.style.right='unset',d.style.paddingLeft=c+r+u/2+this._containerOldStyles.paddingLeft+'px',d.style.paddingRight=this._containerOldStyles.paddingRight);break;case no.NONE:this._element.height=r+'px',this._element.width=r+'px',l===ro.END?(this._element.style.left='unset',this._element.style.right='0',d.style.paddingLeft=this._containerOldStyles.paddingLeft,d.style.paddingRight=c+r+this._containerOldStyles.paddingRight+'px'):l===ro.START&&(this._element.style.left='0',this._element.style.right='unset',d.style.paddingLeft=c+r+this._containerOldStyles.paddingLeft+'px',d.style.paddingRight=this._containerOldStyles.paddingRight);break;case no.SHAKE:this._element.height=r+'px',this._element.width=r+6+'px',l===ro.END?(this._element.style.left='unset',this._element.style.right='0',d.style.paddingLeft=this._containerOldStyles.paddingLeft,d.style.paddingRight=c+r+6+this._containerOldStyles.paddingRight+'px'):l===ro.START&&(this._element.style.left='0',this._element.style.right='unset',d.style.paddingLeft=c+r+6+this._containerOldStyles.paddingLeft+'px',d.style.paddingRight=this._containerOldStyles.paddingRight)}o.fontSize=s,o.size=r;const h=await t;return o.hideBehavior===Io.WHEN_ALL_READ&&0===h.unreadCount||o.hideBehavior===Io.WHEN_ALL_SEEN&&0===h.unseenCount?await this.hide():await this.show(),this.setBadgeVisibilityClass(),await(this._child?.refresh({projectLanguage:a,publicationState:h,triggerSettings:o})),h.openWidgets&&await this._trigger.widget.open({widgetOpenedByPublicationId:h.mostRecentPublicationId}),{}}setBadgeVisibilityClass(){const e=this._container?.classList;e&&(this._visible?(e?.add('noticeable-badge_visible'),e?.remove('noticeable-badge_hidden')):(e?.add('noticeable-badge_hidden'),e?.remove('noticeable-badge_visible')))}async _hide(){await super._hide(),this.setBadgeVisibilityClass()}async _show(){await super._show(),this.setBadgeVisibilityClass()}}class Yh extends Uc{constructor(e){super(e,document.createElement('div'),(()=>{this._trigger.eventRegistry.hasListener(this._trigger.widget.id,nl.WIDGET_TRIGGER_VIEW_CLICKED)?this.dispatchEvent(nl.WIDGET_TRIGGER_VIEW_CLICKED):this._trigger.widget.toggle()}),(()=>this.dispatchEvent(nl.WIDGET_TRIGGER_VIEW_MOUSE_ENTERED)),(()=>this.dispatchEvent(nl.WIDGET_TRIGGER_VIEW_MOUSE_LEFT)))}_destroy(){this._element?.removeEventListener('click',this._clickListener)}async _render(e){const t=await this._trigger.getSettings(),i=e.selector??t.selector??Yc;return this._element=Qc(i,e.root),this._element.addEventListener('click',this._clickListener),this.refresh()}async _refresh(){const e=await this._trigger.getPublicationState();return e.openWidgets&&await this._trigger.widget.open({widgetOpenedByPublicationId:e.mostRecentPublicationId}),{}}}class Qh extends Gc{async _render(e){return this._element.src='https://widgets.noticeable.io/triggers/floating-button/index.html',this._element.style.height='124px',this._element.style.position='fixed',this._element.style.width='124px',this._element.style.zIndex='2147483000',document.body.appendChild(this._element),this._childConnection=super.connectToChild(),await this.initializeChildConnection(),this.refresh()}async _refresh(){const e=this._trigger.widget.getProjectLanguage(),t=this._trigger.getSettings(),i=this._trigger.widget.getWidgetData();(await i).widgetViewSettings.mobile?this._element.style.zIndex='2147482999':this._element.style.zIndex='2147483000';const n=await e,s=await t;let r=s?.placement;hl(n)&&(r=s?.placement===uo.BOTTOM_START?uo.BOTTOM_END:uo.BOTTOM_START),this._element.style.bottom=ml(s?.verticalOffset?-32+s.verticalOffset:-32),this._element.style.left=r===uo.BOTTOM_START?ml(-32+(s?.horizontalOffset??20)):'unset',this._element.style.right=r===uo.BOTTOM_END?ml(-32+(s?.horizontalOffset??20)):'unset';const a=await this._trigger.getPublicationState();return s.hideBehavior===Io.WHEN_ALL_READ&&0===a.unreadCount||s.hideBehavior===Io.WHEN_ALL_SEEN&&0===a.unseenCount?await this.hide():await this.show(),await(this._child?.refresh({projectLanguage:n,publicationState:a,triggerSettings:s})),a.openWidgets&&await this._trigger.widget.open({widgetOpenedByPublicationId:a.mostRecentPublicationId}),{}}}class Kh extends Gc{constructor(t){super(t),e(this,'_container',void 0),e(this,'_containerOldStyles',void 0)}get container(){return this._container}_destroy(){this._container&&(this._containerOldStyles&&(this._container.style.position=this._containerOldStyles.position,this._containerOldStyles=void 0),this._container=void 0)}async _render(e){const t=await this._trigger.getSettings(),i=e.selector??t.selector??Yc;return this._container=Qc(i,e.root),this._containerOldStyles={position:this._container.style.position},this._element.src='https://widgets.noticeable.io/triggers/icon/index.html',this._container.style.position='relative',this._container.appendChild(this._element),this._childConnection=super.connectToChild(),await this.initializeChildConnection(),this.refresh()}async _refresh(){const e=this._trigger.widget.getProjectLanguage(),t=this._trigger.getPublicationState(),i=this._trigger.getSettings();let n,s=0,r=0,a=0;const o=structuredClone(await i),l=await e;let c=o.badge.placement;hl(l)&&(c=o.badge.placement===ro.START?ro.END:ro.START);const d=o.badge.horizontalOffset,u=o.badge.verticalOffset,p=o.badge.counter===so.NONE?10:20;let h=0,m=0,f=0,g=0,_=0;switch(o.badge.animation){case no.BOUNCE:s=1,n=Math.ceil((1.2*p-p)/2),r=n,a=Math.ceil(1.2*p+6.001-p),h=Kh.computeHeight(o.size,p,s,a,u),g=Math.max(0,u+a),_=Kh.computeWidth(o.size,c,p,r,n,d);break;case no.PULSE:s=Math.ceil(1.5*(1.625*p-p)/2+2),n=s,r=s,a=s,h=Kh.computeHeight(o.size,p,s,a,u),g=Math.max(0,u+a),_=Kh.computeWidth(o.size,c,p,r,n,d);break;case no.NONE:s=0,n=0,r=0,a=0,h=Kh.computeHeight(o.size,p,s,a,u),g=Math.max(0,u+a),_=Kh.computeWidth(o.size,c,p,0,0,d);break;case no.SHAKE:s=0,n=3,r=2,a=0,h=Kh.computeHeight(o.size,p,s,a,u),g=Math.max(0,u+a),_=Kh.computeWidth(o.size,c,p,r,n,d)}const y=o.size-p+d-r;c===ro.END?y<0?(m=-y,f=0):(m=0,f=d-r):c===ro.START&&(y<0?(m=0,f=0):(m=d+r,f=0));const v=u-p-s,w=u+a;let b=0;w>0&&(b-=w),v<-o.size&&(b+=-o.size-v),this._element?.parentElement?.style&&(this._element.parentElement.style.marginTop='0px'),this._element.style.height=ml(h),this._element.style.marginTop=ml(b),this._element.style.width=ml(_),this._element.style.zIndex='2147482942',o.marginLeft=m,o.marginRight=f,o.marginTop=g;const E=await t;return o.hideBehavior===Io.WHEN_ALL_READ&&0===E.unreadCount||o.hideBehavior===Io.WHEN_ALL_SEEN&&0===E.unseenCount?await this.hide():await this.show(),await(this._child?.refresh({projectLanguage:l,publicationState:E,triggerSettings:o})),E.openWidgets&&await this._trigger.widget.open({widgetOpenedByPublicationId:E.mostRecentPublicationId}),{}}static computeHeight(e,t,i,n,s){const r=s-t-i,a=s+n,o=-e;return Math.max(a,0)-Math.min(r,o)}static computeWidth(e,t,i,n,s,r){let a=e-i+r+i+s,o=e-i+r-n;t===ro.START&&(a=-r+i+s,o=-r-n);const l=e;return Math.max(a,l)-Math.min(o,0)}}class qh extends Uc{constructor(e){super(e,document.createElement('div'),(()=>{}),(()=>{}),(()=>{}))}async _render(e){return this.refresh()}async _refresh(){if(!(this._trigger.widget.view instanceof Op||this._trigger.widget.view instanceof zh)){const e=await this._trigger.getPublicationState();e.openWidgets&&await this._trigger.widget.open({widgetOpenedByPublicationId:e.mostRecentPublicationId})}return{}}}class Xh{constructor(t,i){e(this,'_view',void 0),e(this,'_widget',void 0),this._view=this._createView(i.widgetView,i.triggerView),this._widget=t}async areAllPublicationRead(){return this._widget.areAllPublicationRead()}destroy(){this._view.destroy()}get eventRegistry(){return this._widget.eventRegistry}get view(){return this._view}get widget(){return this._widget}async getPublicationState(){return this._widget.getPublicationState()}async getSettings(){return(await this._widget.getWidgetData()).triggerViewSettings}hide(){this._view.hide()}async render(e){await this._view.render(e)}show(){this._view.show()}get visible(){return this._view.visible}_createView(e,t){if(e===Co.EMAIL_PREFERENCE_CENTER||e===Co.EMAIL_SUBSCRIPTION_FORM||e===Co.NEWSPAGE_EMBED||e===Co.TOP_BANNER)return new qh(this);switch(t){case'badge':return new Vh(this);case'custom':return new Yh(this);case'floating-button':return new Qh(this);case'icon':return new Kh(this);case'none':return new qh(this);default:throw new Error(`Unknown trigger type: ${t}`)}}}class Zh{constructor(t,i,n,s,r,a,o){e(this,'_autoRefresh',void 0),e(this,'_customizationStore',void 0),e(this,'_dataRepository',void 0),e(this,'_eventRegistry',void 0),e(this,'_id',void 0),e(this,'_identity',void 0),e(this,'_loading',void 0),e(this,'_opened',void 0),e(this,'_planId',void 0),e(this,'_preferences',void 0),e(this,'_projectId',void 0),e(this,'_publicationFetchOptions',void 0),e(this,'_renderOptions',void 0),e(this,'_trigger',void 0),e(this,'_view',void 0),this._autoRefresh=i.autoRefresh,this._customizationStore=n,this._dataRepository=s,this._eventRegistry=r,this._id=t,this._identity=a,this._loading=!1,this._opened=!1,this._preferences=o,this._planId=i.planId,this._projectId=i.projectId,this._renderOptions={},this._trigger=new Xh(this,i),this._view=this._createView(i.widgetView)}async alreadyRendered(e){return await this._trigger.view.alreadyRendered(e),this._view.alreadyRendered(e)}async areAllPublicationRead(){const e=await this.getPublicationData(),t=await this.getLastPublicationRead();return e.every((e=>t.has(e.id)))}get autoRefresh(){return this._autoRefresh}async close(){this._opened&&(this._opened=!1,await this.hide(),this.eventRegistry.dispatchEvent(this.id,nl.WIDGET_CLOSED))}destroy(){(!(arguments.length>0&&void 0!==arguments[0])||arguments[0])&&this._eventRegistry.removeListeners(this._id),this._trigger.destroy(),this._view.destroy()}get eventRegistry(){return this._eventRegistry}get identity(){return this._identity}get opened(){return this._opened}get preferences(){return this._preferences}get view(){return this._view}get visible(){return this._trigger.visible&&this._view.visible}async getEmailSubscription(e,t){return this._dataRepository.getEmailSubscription(e,t)}async getProjectLanguage(){return(await this.getProjectData()).language}getLastPublicationRead(){return this._identity.getLastPublicationRead(this._projectId)}getLastPublicationSeen(){return this._identity.getLastPublicationSeen(this._projectId)}async getProjectData(){const e=await this._dataRepository.getProjectData(this._projectId);if(!e)throw new Error('Error while retrieving project data: '+this._projectId);return e.id=this._projectId,e}async getPublicationData(){const e=await this._dataRepository.getPublicationData(this._projectId,this._publicationFetchOptions);if(!e)throw new Error('Error while retrieving publication data for project '+this._projectId);return e}async getPublicationState(){const e=this.getPublicationData(),t=this.getWidgetData(),i=this.getLastPublicationRead(),n=this.getLastPublicationSeen(),s=new il,r=new il;let a=null,o=0,l=0;const c=await t,d=c?.widgetViewSettings?.maxPublicationCount||9,u=await e;let p=0;for(const e of u){if(p>=d)break;if((null==a||e.publicationTimestamp>(a?.publicationTimestamp??0))&&(a=e),!i.has(e.id)){const t=this._customizationStore.unreadCountFilters.get(this._id);(void 0===t||t(e))&&(s.add(e.id),o++)}if(!n.has(e.id)){const t=this._customizationStore.unseenCountFilters.get(this._id);(void 0===t||t(e))&&(r.add(e.id),l++)}p++}const h=a?.openWidgets??!1;return{lastPublicationRead:i,lastPublicationSeen:n,lastPublicationUnread:s,lastPublicationUnseen:r,mostRecentPublicationId:a?.id,openWidgets:h&&l>0,publicationIds:u.map((e=>e.id)),unreadCount:Math.min(o,d),unseenCount:n.has(a?.id)?0:Math.min(l,d)}}async getTriggerSettings(){return(await this.getWidgetData()).triggerViewSettings}async getWidgetData(){const e=await this._dataRepository.getWidgetData(this._id);if(!e)throw new Error('Error while retrieving widget data: '+this._id);return e}async hide(){this._view.visible&&(await this._view.hide(),this.eventRegistry.dispatchEvent(this.id,nl.WIDGET_HIDDEN))}get id(){return this._id}async open(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._opened||(this._opened=!0,await this.show(e),this.eventRegistry.dispatchEvent(this.id,nl.WIDGET_OPENED))}get planId(){return this._planId}get projectId(){return this._projectId}async toggle(){this._opened?await this.close():await this.open()}get trigger(){return this._trigger}async render(e){const t=await this.getWidgetData();this._publicationFetchOptions={limit:this._view.publicationFetchLimit},e?.labels?this._publicationFetchOptions.labels=e.labels:t.widgetViewSettings?.labels&&(this._publicationFetchOptions.labels=t.widgetViewSettings?.labels),e?.segments?this._publicationFetchOptions.segments=e.segments:t.widgetViewSettings?.segments&&(this._publicationFetchOptions.segments=t.widgetViewSettings.segments),this._publicationFetchOptions.segments?this._publicationFetchOptions.segments=[...this._publicationFetchOptions.segments,`Noticeable:Widgets:${this._id}`]:this._publicationFetchOptions.segments=[`Noticeable:Widgets:${this._id}`],e?.aggregation?this._publicationFetchOptions.aggregation=e.aggregation:t.widgetViewSettings?.aggregation?this._publicationFetchOptions.aggregation=t.widgetViewSettings.aggregation:this._view.aggregationMethod&&(this._publicationFetchOptions.aggregation=this._view.aggregationMethod),this._renderOptions=e||{},await this._view.render(e)}async refresh(){if(this._opened){const e=await this.trigger.getPublicationState();e.unseenCount>0&&await this.setPublicationSeen(e.publicationIds,{merge:!0})}await Promise.allSettled([this.trigger.view.refresh(),this._view.refresh()])}get renderOptions(){return this._renderOptions}async reset(){return this.destroy(!1),this.render(this._renderOptions)}async setPublicationRead(e,t){const i=await this.getPublicationState(),n=this._identity.setLastPublicationRead(this._projectId,e,t),s=this.trigger.view.refresh();await Promise.allSettled([n,s]);const r=await this.getPublicationState();return i.unreadCount!==r.unreadCount&&this._eventRegistry.dispatchEvent(this.id,nl.WIDGET_PUBLICATION_UNREAD_COUNT_CHANGED,{unreadPublicationIds:[...r.lastPublicationUnread],value:r.unreadCount}),n}async setPublicationSeen(e,t){const i=await this.getPublicationState(),n=this._identity.setLastPublicationSeen(this._projectId,e,t),s=this.trigger.view.refresh();await Promise.allSettled([n,s]);const r=await this.getPublicationState();return i.unseenCount!==r.unseenCount&&this._eventRegistry.dispatchEvent(this.id,nl.WIDGET_PUBLICATION_UNSEEN_COUNT_CHANGED,{unseenPublicationIds:[...r.lastPublicationUnseen],value:r.unseenCount}),n}async show(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._view.visible||(await this._view.show(e),this.eventRegistry.dispatchEvent(this.id,nl.WIDGET_VISIBLE))}async updateTriggerViewSettings(e,t){const i=await this._dataRepository.getWidgetData(e);i&&(i.triggerViewSettings=Cp(i.triggerViewSettings,t,((e,t)=>{if(Array.isArray(e)&&Array.isArray(t))return t})))}async updateWidgetViewSettings(e,t){const i=await this._dataRepository.getWidgetData(e);i&&(i.widgetViewSettings=Cp(i.widgetViewSettings,t,((e,t)=>{if(Array.isArray(e)&&Array.isArray(t))return t})))}_createView(e){switch(e){case'email-preference-center':return new Kc(this);case'email-subscription-form':return new qc(this);case'modal':return new Xc(this);case'newspage-embed':return new Op(this);case'popup':return new Fh(this);case'top-banner':return new zh(this);default:throw new Error(`Unknown view type: ${e}`)}}_updateViewsWithNewIdentity(){const e=this.identity.getUserId(this._projectId),t=this.identity.getUserSsoToken(this._projectId),i=this.identity.getUserTraits(this._projectId);this._trigger.view._onIdentityChange(e,t,i),this._view._onIdentityChange(e,t,i)}}class Jh{constructor(){e(this,'version','4.2.0 (commit 1c790fd)'),e(this,'_autoRefresher',void 0),e(this,'_customizationStore',void 0),e(this,'_dataRepository',void 0),e(this,'_eventRegistry',void 0),e(this,'_identity',void 0),e(this,'_preferences',void 0),e(this,'_renderedWidgets',void 0),e(this,'_widgets',void 0),Po.setActive('production'),this._customizationStore=new dl,this._eventRegistry=new Ll,this._preferences={cacheControl:{projects:!0,publications:!0,widgets:!0},crossDeviceSynchronization:!0,endpoints:{forms:'https://forms.noticeable.io',pipeline:'https://pipeline.noticeable.io',widgetsData:'https://data.widgets.noticeable.ipregistry.co'},events:{publicationVisibilityThresholds:[.5]},firstPartyCookies:{localStorage:!0,retentionPeriod:31536e6}},this._renderedWidgets=new Set,this._widgets=new Map,this._autoRefresher=new cl(this._widgets),this._dataRepository=new fl(this._autoRefresher,this._preferences.endpoints),this._identity=new nc(this._dataRepository,this._preferences)}static _checkCommandArity(e,t,i,n){void 0===n&&(n=i),(t.length<i||t.length>n)&&Nl(`Invalid arity for command '${e}': expected between ${i} and ${n} arguments but received ${t.length}`)}static _checkCommandParameterType(e,t,i,n){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0;const r=typeof t;i>=n||void 0!==s&&r!==s&&Nl(`Invalid argument type at index ${i} for command '${e}': expected ${s} but received ${r}`)}async initialize(e){if(/baidu|bing|bot|duckduckbot|exabot|facebook|google|ia_archiver|msn|qwant|teoma|slurp|sogou|yandex/i.test(navigator.userAgent))return void rl.warn('Noticeable SDK initialization aborted because the request seems to come from a bot.');window.noticeable=this;const t=[];for(const i of e)'set'===i[0]&&'preferences'===i[1]?(i.shift(),await this._reifySetCommand(i)):t.push(i);this._identity.initialize();const i=[];let n;for(const e of t)'ready'===e[0]?(void 0!==n&&rl.warn('Multiple \'ready\' callback registered. Only the last one before the SDK initialization will be used'),e.shift(),n=Jh._reifyReadyCommand(e)):i.push(e);void 0!==n&&n();for(const e of i)await this._reifyCommand(e)}debug(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];Jh._checkCommandParameterType('debug',e,0,1,'boolean'),rl.setLevel(e?sl.DEBUG:sl.INFO),rl.info('Debug mode '+(e?'enabled':'disabled'))}async destroy(e,t){Jh._checkCommandParameterType('destroy',e,0,2,'string'),Jh._checkCommandParameterType('destroy',t,1,2,'string'),rl.debug(`Calling destroy(${e}, ${t})`),e!==Vc.WIDGET?Nl(`Unknown component: ${e}`):await this._destroyWidget(t)}do(e,t){switch(Jh._checkCommandParameterType('do',e,0,2,'string'),Jh._checkCommandParameterType('do',t,1,2),Object.values(Il).includes(e)||Nl(`Unknown 'do' action: ${e}`),rl.debug(`Calling do(${e}, ${JSON.stringify(t)})`),e){case Il.IDENTITY_PUBLICATION_READ_INVALIDATE:return void this._identity.clearLastPublicationRead();case Il.IDENTITY_PUBLICATION_SEEN_INVALIDATE:return void this._identity.clearLastPublicationSeen();case Il.PROJECT_DATA_INVALIDATE:return void this._dataRepository.invalidateProjectData(t);case Il.PUBLICATION_DATA_INVALIDATE:return void this._dataRepository.invalidatePublicationData(t);case Il.WIDGET_DATA_INVALIDATE:return void this._dataRepository.invalidateWidgetData(t);case Il.WIDGET_CLOSE:return void this._getWidget(t,'do',e)?.close();case Il.WIDGET_HIDE:return void this._getWidget(t,'do',e)?.hide();case Il.WIDGET_OPEN:return void this._getWidget(t,'do',e)?.open();case Il.WIDGET_REFRESH:return void this._getWidget(t,'do',e)?.refresh();case Il.WIDGET_SHOW:return void this._getWidget(t,'do',e)?.show();case Il.WIDGET_TOGGLE:return void this._getWidget(t,'do',e)?.toggle()}rl.warn(`Unknown property for 'do' action: ${e}`)}help(){rl.info('Visit the next page to learn more about the Noticeable JavaScript SDK:\nhttps://help.noticeable.io/en-us/article/how-to-use-noticeable-javascript-sdk-7k5kc2')}async get(e,t){let i;switch(Jh._checkCommandParameterType('is',e,0,2,'string'),Jh._checkCommandParameterType('is',t,1,2,'string'),rl.debug(`Calling get(${e}, ${t})`),e){case Al.WIDGET_PUBLICATION_READ:return this._getWidget(t,'get',e)?.getLastPublicationRead();case Al.WIDGET_PUBLICATION_SEEN:return this._getWidget(t,'get',e)?.getLastPublicationSeen();case Al.WIDGET_PUBLICATION_STATE:return this._getWidget(t,'get',e)?.getPublicationState();case Al.WIDGET_PUBLICATION_UNREAD_COUNT:return i=await(this._getWidget(t,'get',e)?.getPublicationState()),i.unreadCount;case Al.WIDGET_PUBLICATION_UNSEEN_COUNT:return i=await(this._getWidget(t,'get',e)?.getPublicationState()),i.unseenCount}return rl.warn(`Unknown get action: ${e}`),null}async identify(e,t){rl.debug(`Calling identity(${e}, ${JSON.stringify(t)})`),Jh._checkCommandParameterType('identify',e,0,2,'string'),'string'==typeof t?Jh._checkCommandParameterType('identify',t,1,2,'string'):Jh._checkCommandParameterType('identify',t,1,2,'object'),await this._identity.update(e,t);for(const e of this._widgets.values())e._updateViewsWithNewIdentity()}is(e,t){switch(Jh._checkCommandParameterType('is',e,0,2,'string'),Jh._checkCommandParameterType('is',t,1,2,'string'),rl.debug(`Calling is(${e}, ${t})`),e){case Cl.WIDGET_CLOSED:return!this._getWidget(t,'is',e)?.opened;case Cl.WIDGET_HIDDEN:return!this._getWidget(t,'is',e)?.visible;case Cl.WIDGET_OPENED:return this._getWidget(t,'is',e)?.opened??!1;case Cl.WIDGET_VISIBLE:return this._getWidget(t,'is',e)?.visible??!1}return rl.warn(`Unknown property for is action: ${e}`),!1}off(e,t){if(e||t)return e&&t?(rl.debug(`Calling off(${e}, ${t})`),void this._eventRegistry.removeListener(t,e)):e&&!t?(rl.debug(`Calling off(${e})`),void this._eventRegistry.removeListenersByEventType(e)):(rl.debug(`Calling off(${e}, ${t})`),void this._eventRegistry.removeListeners(t));rl.debug('Calling off()');for(let e of this._widgets.keys())this._eventRegistry.removeListeners(e)}on(e,t,i){Jh._checkCommandParameterType('on',e,0,3,'string'),Jh._checkCommandParameterType('on',t,1,3,'string'),Jh._checkCommandParameterType('on',i,2,3,'function'),rl.debug(`Calling on(${e}, ${t}, callback)`),this._eventRegistry.setListener(e,t,i)}ready(e){Jh._checkCommandParameterType('ready',e,0,1,'function'),rl.warn('Skipping ready callback invoked after SDK initialization')}async render(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Jh._checkCommandParameterType('render',e,0,3,'string'),Jh._checkCommandParameterType('render',t,1,3,'string'),Jh._checkCommandParameterType('render',i,2,3,'object'),rl.debug('Calling render(%s, %s, %o)',e,t,i),e!==Vc.WIDGET?Nl(`Unknown component: ${e}`):await this._renderWidget(t,i)}async refresh(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=[],i=Array.isArray(e.exclude)?e.exclude:[];for(const[e,n]of this._widgets)i.includes(e)||t.push(n.refresh());return Promise.all(t)}async reset(e){rl.debug('Calling reset()'),this._identity.reset(e);const t=[];for(const[i,n]of this._widgets)e&&n.projectId!==e||t.push(n.reset());return Promise.all(t)}safe(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];Jh._checkCommandParameterType('debug',e,0,1,'boolean'),rl.debug(`Calling safe(${e})`),rl.setLevel(sl.ERROR)}async set(e,t,i,n){let s;switch(Jh._checkCommandParameterType('set',t,1,4),rl.debug('Calling set(%s, %s, %o)',e,t,i),e){case Ol.LOG_LEVEL:const r=t;return'string'==typeof r&&['debug','info','warning','error'].includes(r)||rl.error('Unknown log level: '+r+'. Must be debug, info, warning or error'),void rl.setLevel('error'===r?sl.ERROR:'warning'===r?sl.WARNING:'info'===r?sl.INFO:sl.DEBUG);case Ol.PREFERENCES:if('boolean'==typeof t?.cacheControl?.projects&&this._dataRepository.setProjectCacheControl(t.cacheControl.projects),'boolean'==typeof t?.cacheControl?.publications&&this._dataRepository.setPublicationCacheControl(t.cacheControl.publications),'boolean'==typeof t?.cacheControl?.widgets&&this._dataRepository.setWidgetCacheControl(t.cacheControl.widgets),'boolean'==typeof t?.crossDeviceSynchronization&&(this._preferences.crossDeviceSynchronization=t.crossDeviceSynchronization),'string'==typeof t?.endpoints?.forms&&(this._preferences.endpoints.forms=t.endpoints.forms,this.dispatchSdkPreferencesToIframeViews()),'string'==typeof t?.endpoints?.pipeline&&(this._preferences.endpoints.pipeline=t.endpoints.pipeline),'string'==typeof t?.endpoints?.widgetsData&&(this._preferences.endpoints.widgetsData=t.endpoints.widgetsData,this.dispatchSdkPreferencesToIframeViews()),Array.isArray(t?.events?.publicationVisibilityThresholds)){const i=t.events.publicationVisibilityThresholds;let n=!1;for(let t of i)('number'!=typeof t||t<0||t>1)&&(n=!0,rl.error(`Invalid value '${t}' used for the property 'events.publicationVisibilityThresholds' with the set ${e} action. This property expects an array with values that are numbers between 0 and 1, representing the visibility threshold as a decimal percentage (e.g. 0.25 = 25%)`));n||(this._preferences.events.publicationVisibilityThresholds=i,this.dispatchSdkPreferencesToIframeViews())}return'boolean'==typeof t?.firstPartyCookies?.localStorage&&(this._preferences.firstPartyCookies.localStorage=t.firstPartyCookies.localStorage),void('number'==typeof t?.firstPartyCookies?.retentionPeriod&&(this._preferences.firstPartyCookies.retentionPeriod=t.firstPartyCookies.retentionPeriod));case Ol.WIDGET_PUBLICATION_READ_COUNT_FILTER:return Jh.isPublicationCountFilterFunction(i)?void this._customizationStore.unreadCountFilters.set(t,i):void rl.error(`Invalid value '${i}' set for action '${e}': expected one arg function`);case Ol.WIDGET_PUBLICATION_SEEN_COUNT_FILTER:return Jh.isPublicationCountFilterFunction(i)?void this._customizationStore.unseenCountFilters.set(t,i):void rl.error(`Invalid value '${i}' set for action '${e}': expected one arg function`);case Ol.WIDGET_PUBLICATION_READ:case Ol.WIDGET_PUBLICATION_SEEN:return'string'==typeof i&&(i=[i]),'string'==typeof i||Array.isArray(i)?(s=this._getWidget(t,'set',e),s?(e===Ol.WIDGET_PUBLICATION_READ?await s.setPublicationRead(i,{merge:n?.merge??!1}):e===Ol.WIDGET_PUBLICATION_SEEN&&await s.setPublicationSeen(i,{merge:n?.merge??!1}),s.refresh()):void 0):void rl.error(`Invalid value '${i}' set for action '${e}'`);case Ol.WIDGET_TRIGGER_VIEW_SETTINGS:return s=this._getWidget(t,'set',e),s?(await s.updateTriggerViewSettings(t,i),s.refresh()):void 0;case Ol.WIDGET_WIDGET_VIEW_SETTINGS:return s=this._getWidget(t,'set',e),s?(await s.updateWidgetViewSettings(t,i),s.refresh()):void 0}rl.warn(`Unknown set action '${e}'`)}async dispatchSdkPreferencesToIframeViews(){for(let e of this._widgets.values())e.trigger.view instanceof Gc&&e.trigger.view?.child?.setSdkPreferences(this._preferences),e.view instanceof jc&&e.view?.child?.setSdkPreferences(this._preferences)}static isPublicationCountFilterFunction(e){return'function'==typeof e&&1===e.length}async _destroyWidget(e){const t=this._widgets.get(e);t?(await t.destroy(),this._widgets.delete(e),this._renderedWidgets.delete(e),this._autoRefresher.unregister(t)):rl.warn(`Could not find widget ${e} for destruction`)}_getWidget(e,t,i){const n=this._widgets.get(e);if(n)return n;rl.debug(`Could not find widget ${e} for ${t} ${i}`)}async _renderWidget(e,t){if(t.segments){Array.isArray(t.segments)||Nl(`Incorrect segments value for widget '${e}': expected array, received `+typeof t.segments);for(const i of t.segments)'string'!=typeof i&&Nl(`Invalid segment value for widget '${e}': expected string, received `+typeof i)}if(this._renderedWidgets.has(e))this._widgets.get(e)?.alreadyRendered(t);else{this._renderedWidgets.add(e);const n=await this._dataRepository.getWidgetData(e);if(!n)return void this.abortWidgetRendering(e,`Skipping widget rendering due to missing widget data for ID ${e}. Are you sure your widget ID is correct?`,Pl.WIDGET_DATA_MISSING);if(!n.enabled)return void this.abortWidgetRendering(e,`Skipping rendering because widget ${e} is disabled`,Pl.WIDGET_DISABLED);if('boolean'==typeof n.widgetViewSettings.mobile&&!n.widgetViewSettings.mobile&&pl())return void this.abortWidgetRendering(e,`Skipping rendering for widget ${e} because the current device is detected as a mobile and the widget is configured to not display on such devices`,Pl.WIDGET_DISABLED_MOBILE);const s=await this._dataRepository.getProjectData(n.projectId);if(!s)return void this.abortWidgetRendering(e,`Skipping rendering due to missing project data for widget ${e}`,Pl.PROJECT_DATA_MISSING);const r=(i=n.widgetView,Xo[i]);if(!qo.find(s.planId).includes(r))return void this.abortWidgetRendering(e,`Skipping rendering for widget ${e} of type ${n.widgetView} because you need to upgrade to the ${qo.include(r)[0].title} plan or higher to get this widget working.`,Pl.PLAN_UPGRADE_REQUIRED);const a=new Zh(e,n,this._customizationStore,this._dataRepository,this._eventRegistry,this._identity,this._preferences);this._widgets.set(e,a);const o=this._identity.getPendingIdentityUpdate(n.projectId);o?await o:this._identity.createOrExtendUserId(n.projectId),await a.render(t),this._autoRefresher.register(a),a._updateViewsWithNewIdentity()}var i}abortWidgetRendering(e,t,i){rl.warn(t),this._renderedWidgets.delete(e),this._eventRegistry.dispatchEvent(e,nl.WIDGET_RENDERING_ABORTED,{reason:i})}async _reifyCommand(e){const t=e[0];switch(e.shift(),t){case'debug':this._reifyDebugCommand(e);break;case'destroy':this._reifyDestroyCommand(e);break;case'do':this._reifyDoCommand(e);break;case'help':this._reifyHelpCommand(e);break;case'identify':this._reifyIdentifyCommand(e);break;case'off':this._reifyOffCommand(e);break;case'on':this._reifyOnCommand(e);break;case'ready':Jh._reifyReadyCommand(e);break;case'render':await this._reifyRenderCommand(e);break;case'reset':await this._reifyResetCommand(e);break;case'safe':this._reifySafeCommand(e);break;case'set':await this._reifySetCommand(e);break;default:rl.error('Unknown command:',t)}}_reifyDebugCommand(e){Jh._checkCommandArity('debug',e,0,1),0===e.length?this.debug():this.debug(e[0])}_reifyDestroyCommand(e){Jh._checkCommandArity('destroy',e,2),this.destroy(e[0],e[1])}_reifyDoCommand(e){Jh._checkCommandArity('do',e,2),this.do(e[0],e[1])}_reifyHelpCommand(e){Jh._checkCommandArity('help',e,0),this.help()}_reifyIdentifyCommand(e){Jh._checkCommandArity('identify',e,2),this.identify(e[0],e[1])}_reifyIsCommand(e){Jh._checkCommandArity('is',e,2),this.is(e[0],e[1])}_reifyOffCommand(e){Jh._checkCommandArity('off',e,0,2),0!==e.length?1!==e.length?this.off(e[0],e[1]):this.off(e[0]):this.off()}_reifyOnCommand(e){Jh._checkCommandArity('on',e,3),this.on(e[0],e[1],e[2])}static _reifyReadyCommand(e){return Jh._checkCommandArity('ready',e,1),e[0]}async _reifyRenderCommand(e){return Jh._checkCommandArity('render',e,2,3),this.render(e[0],e[1],3===e.length?e[2]:void 0)}_reifyResetCommand(e){return Jh._checkCommandArity('reset',e,0,1),0===e.length?this.reset():this.reset(e[0])}_reifySafeCommand(e){Jh._checkCommandArity('safe',e,0,1),0===e.length?this.safe():this.safe(e[0])}_reifySetCommand(e){return Jh._checkCommandArity('set',e,2,4),this.set(e[0],e[1],e[2],e[3])}}if(window.noticeable instanceof Jh)console.error('Noticeable SDK included twice');else{const e=window.noticeable;(new Jh).initialize(e)}}();
